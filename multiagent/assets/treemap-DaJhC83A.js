import"./modulepreload-polyfill-B5Qt9EMX.js";import{c as Ra}from"./data-utils-HFH0zg-E.js";const Or=!1;var us=Array.isArray,Ia=Array.prototype.indexOf,Zr=Array.from,fs=Object.defineProperty,Be=Object.getOwnPropertyDescriptor,cs=Object.getOwnPropertyDescriptors,za=Object.prototype,Da=Array.prototype,Jr=Object.getPrototypeOf,yi=Object.isExtensible;const ee=()=>{};function Pa(t){return t()}function Vn(t){for(var e=0;e<t.length;e++)t[e]()}function hs(){var t,e,n=new Promise((r,i)=>{t=r,e=i});return{promise:n,resolve:t,reject:e}}function ds(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const n=[];for(const r of t)if(n.push(r),n.length===e)break;return n}const J=2,Qr=4,ir=8,se=16,ae=32,Re=64,sr=128,Rt=512,K=1024,dt=2048,Xt=4096,yt=8192,ne=16384,ti=32768,je=65536,wi=1<<17,vs=1<<18,Je=1<<19,ps=1<<20,$e=32768,Nr=1<<21,ei=1<<22,_e=1<<23,ke=Symbol("$state"),La=Symbol("legacy props"),Ha=Symbol(""),Le=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function _s(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Ba(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function qa(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Va(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ja(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Ua(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Wa(t){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function Ya(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Xa(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ga(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ka(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Za(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const gs=1,ms=2,ys=4,Ja=8,Qa=16,to=2,eo=4,no=8,ro=1,io=2,nt=Symbol(),so="http://www.w3.org/1999/xhtml";function ao(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function ws(t){return t===this.v}function ni(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function xs(t){return!ni(t,this.v)}let Qe=!1,oo=!1;function lo(){Qe=!0}let D=null;function Ue(t){D=t}function tn(t,e=!1,n){D={p:D,i:!1,c:null,e:null,s:t,x:null,l:Qe&&!e?{s:null,u:null,$:[]}:null}}function en(t){var e=D,n=e.e;if(n!==null){e.e=null;for(var r of n)Ds(r)}return e.i=!0,D=e.p,{}}function En(){return!Qe||D!==null&&D.l===null}let Ae=[];function bs(){var t=Ae;Ae=[],Vn(t)}function nn(t){if(Ae.length===0&&!_n){var e=Ae;queueMicrotask(()=>{e===Ae&&bs()})}Ae.push(t)}function uo(){for(;Ae.length>0;)bs()}function Es(t){var e=R;if(e===null)return F.f|=_e,t;if((e.f&ti)===0){if((e.f&sr)===0)throw t;e.b.error(t)}else We(t,e)}function We(t,e){for(;e!==null;){if((e.f&sr)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t}const Nn=new Set;let U=null,mt=null,kt=[],ar=null,Rr=!1,_n=!1;class jt{committed=!1;current=new Map;previous=new Map;#t=new Set;#e=new Set;#r=0;#n=0;#l=null;#s=[];#i=[];skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(e){kt=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of e)this.#a(r,n);this.is_fork||this.#f(),this.is_deferred()?(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects)):(U=null,xi(n.render_effects),xi(n.effects),this.#l?.resolve()),mt=null}#a(e,n){e.f^=K;for(var r=e.first;r!==null;){var i=r.f,s=(i&(ae|Re))!==0,a=s&&(i&K)!==0,o=a||(i&yt)!==0||this.skipped_effects.has(r);if((r.f&sr)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!o&&r.fn!==null){s?r.f^=K:(i&Qr)!==0?n.effects.push(r):rn(r)&&((r.f&se)!==0&&n.block_effects.push(r),Xe(r));var l=r.first;if(l!==null){r=l;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)u===n.effect&&(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects),n=n.parent),r=u.next,u=u.parent}}#o(e){for(const n of e)((n.f&dt)!==0?this.#s:this.#i).push(n),this.#u(n.deps),Z(n,K)}#u(e){if(e!==null)for(const n of e)(n.f&J)===0||(n.f&$e)===0||(n.f^=$e,this.#u(n.deps))}capture(e,n){this.previous.has(e)||this.previous.set(e,n),(e.f&_e)===0&&(this.current.set(e,e.v),mt?.set(e,e.v))}activate(){U=this,this.apply()}deactivate(){U===this&&(U=null,mt=null)}flush(){if(this.activate(),kt.length>0){if(Ss(),U!==null&&U!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#e)e(this);this.#e.clear()}#f(){if(this.#n===0){for(const e of this.#t)e();this.#t.clear()}this.#r===0&&this.#c()}#c(){if(Nn.size>1){this.previous.clear();var e=mt,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const s of Nn){if(s===this){n=!1;continue}const a=[];for(const[l,u]of this.current){if(s.current.has(l))if(n&&u!==s.current.get(l))s.current.set(l,u);else continue;a.push(l)}if(a.length===0)continue;const o=[...s.current.keys()].filter(l=>!this.current.has(l));if(o.length>0){var i=kt;kt=[];const l=new Set,u=new Map;for(const f of a)As(f,o,l,u);if(kt.length>0){U=s,s.apply();for(const f of kt)s.#a(f,r);s.deactivate()}kt=i}}U=null,mt=e}this.committed=!0,Nn.delete(this)}increment(e){this.#r+=1,e&&(this.#n+=1)}decrement(e){this.#r-=1,e&&(this.#n-=1),this.revive()}revive(){for(const e of this.#s)Z(e,dt),Fe(e);for(const e of this.#i)Z(e,Xt),Fe(e);this.#s=[],this.#i=[],this.flush()}oncommit(e){this.#t.add(e)}ondiscard(e){this.#e.add(e)}settled(){return(this.#l??=hs()).promise}static ensure(){if(U===null){const e=U=new jt;Nn.add(U),_n||jt.enqueue(()=>{U===e&&e.flush()})}return U}static enqueue(e){nn(e)}apply(){}}function fo(t){var e=_n;_n=!0;try{for(var n;;){if(uo(),kt.length===0&&(U?.flush(),kt.length===0))return ar=null,n;Ss()}}finally{_n=e}}function Ss(){var t=me;Rr=!0;var e=null;try{var n=0;for(Yn(!0);kt.length>0;){var r=jt.ensure();if(n++>1e3){var i,s;co()}r.process(kt),ge.clear()}}finally{Rr=!1,Yn(t),ar=null}}function co(){try{Ua()}catch(t){We(t,ar)}}let Qt=null;function xi(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(ne|yt))===0&&rn(r)&&(Qt=new Set,Xe(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Hs(r):r.fn=null),Qt?.size>0)){ge.clear();for(const i of Qt){if((i.f&(ne|yt))!==0)continue;const s=[i];let a=i.parent;for(;a!==null;)Qt.has(a)&&(Qt.delete(a),s.push(a)),a=a.parent;for(let o=s.length-1;o>=0;o--){const l=s[o];(l.f&(ne|yt))===0&&Xe(l)}}Qt.clear()}}Qt=null}}function As(t,e,n,r){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const i of t.reactions){const s=i.f;(s&J)!==0?As(i,e,n,r):(s&(ei|se))!==0&&(s&dt)===0&&Cs(i,e,r)&&(Z(i,dt),Fe(i))}}function Cs(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(t.deps!==null)for(const i of t.deps){if(e.includes(i))return!0;if((i.f&J)!==0&&Cs(i,e,n))return n.set(i,!0),!0}return n.set(t,!1),!1}function Fe(t){for(var e=ar=t;e.parent!==null;){e=e.parent;var n=e.f;if(Rr&&e===R&&(n&se)!==0&&(n&vs)===0)return;if((n&(Re|ae))!==0){if((n&K)===0)return;e.f^=K}}kt.push(e)}function ho(t){let e=0,n=Oe(0),r;return()=>{lr()&&(v(n),An(()=>(e===0&&(r=A(()=>t(()=>gn(n)))),e+=1,()=>{nn(()=>{e-=1,e===0&&(r?.(),r=void 0,gn(n))})})))}}var vo=je|Je|sr;function po(t,e,n){new _o(t,e,n)}class _o{parent;#t=!1;#e;#r=null;#n;#l;#s;#i=null;#a=null;#o=null;#u=null;#f=null;#c=0;#h=0;#v=!1;#d=null;#y=ho(()=>(this.#d=Oe(this.#c),()=>{this.#d=null}));constructor(e,n,r){this.#e=e,this.#n=n,this.#l=r,this.parent=R.b,this.#t=!!this.#n.pending,this.#s=ai(()=>{R.b=this;{var i=this.#g();try{this.#i=Tt(()=>r(i))}catch(s){this.error(s)}this.#h>0?this.#_():this.#t=!1}return()=>{this.#f?.remove()}},vo)}#w(){try{this.#i=Tt(()=>this.#l(this.#e))}catch(e){this.error(e)}this.#t=!1}#x(){const e=this.#n.pending;e&&(this.#a=Tt(()=>e(this.#e)),jt.enqueue(()=>{var n=this.#g();this.#i=this.#p(()=>(jt.ensure(),Tt(()=>this.#l(n)))),this.#h>0?this.#_():(qe(this.#a,()=>{this.#a=null}),this.#t=!1)}))}#g(){var e=this.#e;return this.#t&&(this.#f=ye(),this.#e.before(this.#f),e=this.#f),e}is_pending(){return this.#t||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#p(e){var n=R,r=F,i=D;Yt(this.#s),ft(this.#s),Ue(this.#s.ctx);try{return e()}catch(s){return Es(s),null}finally{Yt(n),ft(r),Ue(i)}}#_(){const e=this.#n.pending;this.#i!==null&&(this.#u=document.createDocumentFragment(),this.#u.append(this.#f),Vs(this.#i,this.#u)),this.#a===null&&(this.#a=Tt(()=>e(this.#e)))}#m(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(e);return}this.#h+=e,this.#h===0&&(this.#t=!1,this.#a&&qe(this.#a,()=>{this.#a=null}),this.#u&&(this.#e.before(this.#u),this.#u=null))}update_pending_count(e){this.#m(e),this.#c+=e,this.#d&&Ye(this.#d,this.#c)}get_effect_pending(){return this.#y(),v(this.#d)}error(e){var n=this.#n.onerror;let r=this.#n.failed;if(this.#v||!n&&!r)throw e;this.#i&&(ht(this.#i),this.#i=null),this.#a&&(ht(this.#a),this.#a=null),this.#o&&(ht(this.#o),this.#o=null);var i=!1,s=!1;const a=()=>{if(i){ao();return}i=!0,s&&Za(),jt.ensure(),this.#c=0,this.#o!==null&&qe(this.#o,()=>{this.#o=null}),this.#t=this.has_pending_snippet(),this.#i=this.#p(()=>(this.#v=!1,Tt(()=>this.#l(this.#e)))),this.#h>0?this.#_():this.#t=!1};var o=F;try{ft(null),s=!0,n?.(e,a),s=!1}catch(l){We(l,this.#s&&this.#s.parent)}finally{ft(o)}r&&nn(()=>{this.#o=this.#p(()=>{jt.ensure(),this.#v=!0;try{return Tt(()=>{r(this.#e,()=>e,()=>a)})}catch(l){return We(l,this.#s.parent),null}finally{this.#v=!1}})})}}function go(t,e,n,r){const i=En()?or:Vt;if(n.length===0&&t.length===0){r(e.map(i));return}var s=U,a=R,o=mo();function l(){Promise.all(n.map(u=>yo(u))).then(u=>{o();try{r([...e.map(i),...u])}catch(f){(a.f&ne)===0&&We(f,a)}s?.deactivate(),jn()}).catch(u=>{We(u,a)})}t.length>0?Promise.all(t).then(()=>{o();try{return l()}finally{s?.deactivate(),jn()}}):l()}function mo(){var t=R,e=F,n=D,r=U;return function(s=!0){Yt(t),ft(e),Ue(n),s&&r?.activate()}}function jn(){Yt(null),ft(null),Ue(null)}function or(t){var e=J|dt,n=F!==null&&(F.f&J)!==0?F:null;return R!==null&&(R.f|=Je),{ctx:D,deps:null,effects:null,equals:ws,f:e,fn:t,reactions:null,rv:0,v:nt,wv:0,parent:n??R,ac:null}}function yo(t,e){let n=R;n===null&&Ba();var r=n.b,i=void 0,s=Oe(nt),a=!F,o=new Map;return ko(()=>{var l=hs();i=l.promise;try{Promise.resolve(t()).then(l.resolve,l.reject).then(()=>{u===U&&u.committed&&u.deactivate(),jn()})}catch(c){l.reject(c),jn()}var u=U;if(a){var f=!r.is_pending();r.update_pending_count(1),u.increment(f),o.get(u)?.reject(Le),o.delete(u),o.set(u,l)}const h=(c,d=void 0)=>{if(u.activate(),d)d!==Le&&(s.f|=_e,Ye(s,d));else{(s.f&_e)!==0&&(s.f^=_e),Ye(s,c);for(const[p,m]of o){if(o.delete(p),p===u)break;m.reject(Le)}}a&&(r.update_pending_count(-1),u.decrement(f))};l.promise.then(h,c=>h(null,c||"unknown"))}),si(()=>{for(const l of o.values())l.reject(Le)}),new Promise(l=>{function u(f){function h(){f===i?l(s):u(i)}f.then(h,h)}u(i)})}function ks(t){const e=or(t);return js(e),e}function Vt(t){const e=or(t);return e.equals=xs,e}function Ts(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)ht(e[n])}}function wo(t){for(var e=t.parent;e!==null;){if((e.f&J)===0)return(e.f&ne)===0?e:null;e=e.parent}return null}function ri(t){var e,n=R;Yt(wo(t));try{t.f&=~$e,Ts(t),e=Xs(t)}finally{Yt(n)}return e}function Ms(t){var e=ri(t);if(t.equals(e)||(t.v=e,t.wv=Ws()),!Ie)if(mt!==null)lr()&&mt.set(t,t.v);else{var n=(t.f&Rt)===0?Xt:K;Z(t,n)}}let Ir=new Set;const ge=new Map;let $s=!1;function Oe(t,e){var n={f:0,v:t,reactions:null,equals:ws,rv:0,wv:0};return n}function ue(t,e){const n=Oe(t);return js(n),n}function Ft(t,e=!1,n=!0){const r=Oe(t);return e||(r.equals=xs),Qe&&n&&D!==null&&D.l!==null&&(D.l.s??=[]).push(r),r}function G(t,e,n=!1){F!==null&&(!Ut||(F.f&wi)!==0)&&En()&&(F.f&(J|se|ei|wi))!==0&&!re?.includes(t)&&Ka();let r=n?He(e):e;return Ye(t,r)}function Ye(t,e){if(!t.equals(e)){var n=t.v;Ie?ge.set(t,e):ge.set(t,n),t.v=e;var r=jt.ensure();r.capture(t,n),(t.f&J)!==0&&((t.f&dt)!==0&&ri(t),Z(t,(t.f&Rt)!==0?K:Xt)),t.wv=Ws(),Fs(t,dt),En()&&R!==null&&(R.f&K)!==0&&(R.f&(ae|Re))===0&&(Ct===null?$o([t]):Ct.push(t)),!r.is_fork&&Ir.size>0&&!$s&&xo()}return e}function xo(){$s=!1;var t=me;Yn(!0);const e=Array.from(Ir);try{for(const n of e)(n.f&K)!==0&&Z(n,Xt),rn(n)&&Xe(n)}finally{Yn(t)}Ir.clear()}function gn(t){G(t,t.v+1)}function Fs(t,e){var n=t.reactions;if(n!==null)for(var r=En(),i=n.length,s=0;s<i;s++){var a=n[s],o=a.f;if(!(!r&&a===R)){var l=(o&dt)===0;if(l&&Z(a,e),(o&J)!==0){var u=a;mt?.delete(u),(o&$e)===0&&(o&Rt&&(a.f|=$e),Fs(u,Xt))}else l&&((o&se)!==0&&Qt!==null&&Qt.add(a),Fe(a))}}}function He(t){if(typeof t!="object"||t===null||ke in t)return t;const e=Jr(t);if(e!==za&&e!==Da)return t;var n=new Map,r=us(t),i=ue(0),s=Te,a=o=>{if(Te===s)return o();var l=F,u=Te;ft(null),Si(s);var f=o();return ft(l),Si(u),f};return r&&n.set("length",ue(t.length)),new Proxy(t,{defineProperty(o,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Xa();var f=n.get(l);return f===void 0?f=a(()=>{var h=ue(u.value);return n.set(l,h),h}):G(f,u.value,!0),!0},deleteProperty(o,l){var u=n.get(l);if(u===void 0){if(l in o){const f=a(()=>ue(nt));n.set(l,f),gn(i)}}else G(u,nt),gn(i);return!0},get(o,l,u){if(l===ke)return t;var f=n.get(l),h=l in o;if(f===void 0&&(!h||Be(o,l)?.writable)&&(f=a(()=>{var d=He(h?o[l]:nt),p=ue(d);return p}),n.set(l,f)),f!==void 0){var c=v(f);return c===nt?void 0:c}return Reflect.get(o,l,u)},getOwnPropertyDescriptor(o,l){var u=Reflect.getOwnPropertyDescriptor(o,l);if(u&&"value"in u){var f=n.get(l);f&&(u.value=v(f))}else if(u===void 0){var h=n.get(l),c=h?.v;if(h!==void 0&&c!==nt)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return u},has(o,l){if(l===ke)return!0;var u=n.get(l),f=u!==void 0&&u.v!==nt||Reflect.has(o,l);if(u!==void 0||R!==null&&(!f||Be(o,l)?.writable)){u===void 0&&(u=a(()=>{var c=f?He(o[l]):nt,d=ue(c);return d}),n.set(l,u));var h=v(u);if(h===nt)return!1}return f},set(o,l,u,f){var h=n.get(l),c=l in o;if(r&&l==="length")for(var d=u;d<h.v;d+=1){var p=n.get(d+"");p!==void 0?G(p,nt):d in o&&(p=a(()=>ue(nt)),n.set(d+"",p))}if(h===void 0)(!c||Be(o,l)?.writable)&&(h=a(()=>ue(void 0)),G(h,He(u)),n.set(l,h));else{c=h.v!==nt;var m=a(()=>He(u));G(h,m)}var _=Reflect.getOwnPropertyDescriptor(o,l);if(_?.set&&_.set.call(f,u),!c){if(r&&typeof l=="string"){var w=n.get("length"),E=Number(l);Number.isInteger(E)&&E>=w.v&&G(w,E+1)}gn(i)}return!0},ownKeys(o){v(i);var l=Reflect.ownKeys(o).filter(h=>{var c=n.get(h);return c===void 0||c.v!==nt});for(var[u,f]of n)f.v!==nt&&!(u in o)&&l.push(u);return l},setPrototypeOf(){Ga()}})}var bi,Os,Ns,Rs;function bo(){if(bi===void 0){bi=window,Os=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Ns=Be(e,"firstChild").get,Rs=Be(e,"nextSibling").get,yi(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),yi(n)&&(n.__t=void 0)}}function ye(t=""){return document.createTextNode(t)}function Un(t){return Ns.call(t)}function Sn(t){return Rs.call(t)}function C(t,e){return Un(t)}function ce(t,e=!1){{var n=Un(t);return n instanceof Comment&&n.data===""?Sn(n):n}}function H(t,e=1,n=!1){let r=t;for(;e--;)r=Sn(r);return r}function Eo(t){t.textContent=""}function Is(){return!1}function ii(t){var e=F,n=R;ft(null),Yt(null);try{return t()}finally{ft(e),Yt(n)}}function zs(t){R===null&&(F===null&&ja(),Va()),Ie&&qa()}function So(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Gt(t,e,n){var r=R;r!==null&&(r.f&yt)!==0&&(t|=yt);var i={ctx:D,deps:null,nodes_start:null,nodes_end:null,f:t|dt|Rt,first:null,fn:e,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Xe(i),i.f|=ti}catch(o){throw ht(i),o}else e!==null&&Fe(i);var s=i;if(n&&s.deps===null&&s.teardown===null&&s.nodes_start===null&&s.first===s.last&&(s.f&Je)===0&&(s=s.first,(t&se)!==0&&(t&je)!==0&&s!==null&&(s.f|=je)),s!==null&&(s.parent=r,r!==null&&So(s,r),F!==null&&(F.f&J)!==0&&(t&Re)===0)){var a=F;(a.effects??=[]).push(s)}return i}function lr(){return F!==null&&!Ut}function si(t){const e=Gt(ir,null,!1);return Z(e,K),e.teardown=t,e}function zr(t){zs();var e=R.f,n=!F&&(e&ae)!==0&&(e&ti)===0;if(n){var r=D;(r.e??=[]).push(t)}else return Ds(t)}function Ds(t){return Gt(Qr|ps,t,!1)}function Ao(t){return zs(),Gt(ir|ps,t,!0)}function Co(t){jt.ensure();const e=Gt(Re|Je,t,!0);return(n={})=>new Promise(r=>{n.outro?qe(e,()=>{ht(e),r(void 0)}):(ht(e),r(void 0))})}function Wn(t){return Gt(Qr,t,!1)}function de(t,e){var n=D,r={effect:null,ran:!1,deps:t};n.l.$.push(r),r.effect=An(()=>{t(),!r.ran&&(r.ran=!0,A(e))})}function ur(){var t=D;An(()=>{for(var e of t.l.$){e.deps();var n=e.effect;(n.f&K)!==0&&Z(n,Xt),rn(n)&&Xe(n),e.ran=!1}})}function ko(t){return Gt(ei|Je,t,!0)}function An(t,e=0){return Gt(ir|e,t,!0)}function V(t,e=[],n=[],r=[]){go(r,e,n,i=>{Gt(ir,()=>t(...i.map(v)),!0)})}function ai(t,e=0){var n=Gt(se|e,t,!0);return n}function Tt(t){return Gt(ae|Je,t,!0)}function Ps(t){var e=t.teardown;if(e!==null){const n=Ie,r=F;Ei(!0),ft(null);try{e.call(null)}finally{Ei(n),ft(r)}}}function Ls(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const i=n.ac;i!==null&&ii(()=>{i.abort(Le)});var r=n.next;(n.f&Re)!==0?n.parent=null:ht(n,e),n=r}}function To(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&ae)===0&&ht(e),e=n}}function ht(t,e=!0){var n=!1;(e||(t.f&vs)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(Mo(t.nodes_start,t.nodes_end),n=!0),Ls(t,e&&!n),Xn(t,0),Z(t,ne);var r=t.transitions;if(r!==null)for(const s of r)s.stop();Ps(t);var i=t.parent;i!==null&&i.first!==null&&Hs(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function Mo(t,e){for(;t!==null;){var n=t===e?null:Sn(t);t.remove(),t=n}}function Hs(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function qe(t,e,n=!0){var r=[];oi(t,r,!0),Bs(r,()=>{n&&ht(t),e&&e()})}function Bs(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function oi(t,e,n){if((t.f&yt)===0){if(t.f^=yt,t.transitions!==null)for(const a of t.transitions)(a.is_global||n)&&e.push(a);for(var r=t.first;r!==null;){var i=r.next,s=(r.f&je)!==0||(r.f&ae)!==0&&(t.f&se)!==0;oi(r,e,s?n:!1),r=i}}}function li(t){qs(t,!0)}function qs(t,e){if((t.f&yt)!==0){t.f^=yt,(t.f&K)===0&&(Z(t,dt),Fe(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&je)!==0||(n.f&ae)!==0;qs(n,i?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}function Vs(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var i=n===r?null:Sn(n);e.append(n),n=i}}let me=!1;function Yn(t){me=t}let Ie=!1;function Ei(t){Ie=t}let F=null,Ut=!1;function ft(t){F=t}let R=null;function Yt(t){R=t}let re=null;function js(t){F!==null&&(re===null?re=[t]:re.push(t))}let lt=null,gt=0,Ct=null;function $o(t){Ct=t}let Us=1,yn=0,Te=yn;function Si(t){Te=t}function Ws(){return++Us}function rn(t){var e=t.f;if((e&dt)!==0)return!0;if(e&J&&(t.f&=~$e),(e&Xt)!==0){var n=t.deps;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i];if(rn(s)&&Ms(s),s.wv>t.wv)return!0}(e&Rt)!==0&&mt===null&&Z(t,K)}return!1}function Ys(t,e,n=!0){var r=t.reactions;if(r!==null&&!re?.includes(t))for(var i=0;i<r.length;i++){var s=r[i];(s.f&J)!==0?Ys(s,e,!1):e===s&&(n?Z(s,dt):(s.f&K)!==0&&Z(s,Xt),Fe(s))}}function Xs(t){var e=lt,n=gt,r=Ct,i=F,s=re,a=D,o=Ut,l=Te,u=t.f;lt=null,gt=0,Ct=null,F=(u&(ae|Re))===0?t:null,re=null,Ue(t.ctx),Ut=!1,Te=++yn,t.ac!==null&&(ii(()=>{t.ac.abort(Le)}),t.ac=null);try{t.f|=Nr;var f=t.fn,h=f(),c=t.deps;if(lt!==null){var d;if(Xn(t,gt),c!==null&&gt>0)for(c.length=gt+lt.length,d=0;d<lt.length;d++)c[gt+d]=lt[d];else t.deps=c=lt;if(me&&lr()&&(t.f&Rt)!==0)for(d=gt;d<c.length;d++)(c[d].reactions??=[]).push(t)}else c!==null&&gt<c.length&&(Xn(t,gt),c.length=gt);if(En()&&Ct!==null&&!Ut&&c!==null&&(t.f&(J|Xt|dt))===0)for(d=0;d<Ct.length;d++)Ys(Ct[d],t);return i!==null&&i!==t&&(yn++,Ct!==null&&(r===null?r=Ct:r.push(...Ct))),(t.f&_e)!==0&&(t.f^=_e),h}catch(p){return Es(p)}finally{t.f^=Nr,lt=e,gt=n,Ct=r,F=i,re=s,Ue(a),Ut=o,Te=l}}function Fo(t,e){let n=e.reactions;if(n!==null){var r=Ia.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(e.f&J)!==0&&(lt===null||!lt.includes(e))&&(Z(e,Xt),(e.f&Rt)!==0&&(e.f^=Rt,e.f&=~$e),Ts(e),Xn(e,0))}function Xn(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)Fo(t,n[r])}function Xe(t){var e=t.f;if((e&ne)===0){Z(t,K);var n=R,r=me;R=t,me=!0;try{(e&se)!==0?To(t):Ls(t),Ps(t);var i=Xs(t);t.teardown=typeof i=="function"?i:null,t.wv=Us;var s;Or&&oo&&(t.f&dt)!==0&&t.deps}finally{me=r,R=n}}}async function Ai(){await Promise.resolve(),fo()}function v(t){var e=t.f,n=(e&J)!==0;if(F!==null&&!Ut){var r=R!==null&&(R.f&ne)!==0;if(!r&&!re?.includes(t)){var i=F.deps;if((F.f&Nr)!==0)t.rv<yn&&(t.rv=yn,lt===null&&i!==null&&i[gt]===t?gt++:lt===null?lt=[t]:lt.includes(t)||lt.push(t));else{(F.deps??=[]).push(t);var s=t.reactions;s===null?t.reactions=[F]:s.includes(F)||s.push(F)}}}if(Ie){if(ge.has(t))return ge.get(t);if(n){var a=t,o=a.v;return((a.f&K)===0&&a.reactions!==null||Ks(a))&&(o=ri(a)),ge.set(a,o),o}}else if(n){if(a=t,mt?.has(a))return mt.get(a);rn(a)&&Ms(a),me&&lr()&&(a.f&Rt)===0&&Gs(a)}else if(mt?.has(t))return mt.get(t);if((t.f&_e)!==0)throw t.v;return t.v}function Gs(t){if(t.deps!==null){t.f^=Rt;for(const e of t.deps)(e.reactions??=[]).push(t),(e.f&J)!==0&&(e.f&Rt)===0&&Gs(e)}}function Ks(t){if(t.v===nt)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(ge.has(e)||(e.f&J)!==0&&Ks(e))return!0;return!1}function A(t){var e=Ut;try{return Ut=!0,t()}finally{Ut=e}}const Oo=-7169;function Z(t,e){t.f=t.f&Oo|e}function S(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(ke in t)Dr(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&ke in n&&Dr(n)}}}function Dr(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{Dr(t[r],e)}catch{}const n=Jr(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=cs(n);for(let i in r){const s=r[i].get;if(s)try{s.call(t)}catch{}}}}}const No=["touchstart","touchmove"];function Ro(t){return No.includes(t)}const Io=new Set,Ci=new Set;function zo(t,e,n,r={}){function i(s){if(r.capture||hn.call(e,s),!s.cancelBubble)return ii(()=>n?.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?nn(()=>{e.addEventListener(t,i,r)}):e.addEventListener(t,i,r),i}function pe(t,e,n,r,i){var s={capture:r,passive:i},a=zo(t,e,n,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&si(()=>{e.removeEventListener(t,a,s)})}let ki=null;function hn(t){var e=this,n=e.ownerDocument,r=t.type,i=t.composedPath?.()||[],s=i[0]||t.target;ki=t;var a=0,o=ki===t&&t.__root;if(o){var l=i.indexOf(o);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var u=i.indexOf(e);if(u===-1)return;l<=u&&(a=l)}if(s=i[a]||t.target,s!==e){fs(t,"currentTarget",{configurable:!0,get(){return s||n}});var f=F,h=R;ft(null),Yt(null);try{for(var c,d=[];s!==null;){var p=s.assignedSlot||s.parentNode||s.host||null;try{var m=s["__"+r];m!=null&&(!s.disabled||t.target===s)&&m.call(s,t)}catch(_){c?d.push(_):c=_}if(t.cancelBubble||p===e||p===null)break;s=p}if(c){for(let _ of d)queueMicrotask(()=>{throw _});throw c}}finally{t.__root=e,delete t.currentTarget,ft(f),Yt(h)}}}function Do(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Pr(t,e){var n=R;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function I(t,e){var n=(e&ro)!==0,r=(e&io)!==0,i,s=!t.startsWith("<!>");return()=>{i===void 0&&(i=Do(s?t:"<!>"+t),n||(i=Un(i)));var a=r||Os?document.importNode(i,!0):i.cloneNode(!0);if(n){var o=Un(a),l=a.lastChild;Pr(o,l)}else Pr(a,a);return a}}function Se(){var t=document.createDocumentFragment(),e=document.createComment(""),n=ye();return t.append(e,n),Pr(e,n),t}function T(t,e){t!==null&&t.before(e)}function j(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function Po(t,e){return Lo(t,e)}const ze=new Map;function Lo(t,{target:e,anchor:n,props:r={},events:i,context:s,intro:a=!0}){bo();var o=new Set,l=h=>{for(var c=0;c<h.length;c++){var d=h[c];if(!o.has(d)){o.add(d);var p=Ro(d);e.addEventListener(d,hn,{passive:p});var m=ze.get(d);m===void 0?(document.addEventListener(d,hn,{passive:p}),ze.set(d,1)):ze.set(d,m+1)}}};l(Zr(Io)),Ci.add(l);var u=void 0,f=Co(()=>{var h=n??e.appendChild(ye());return po(h,{pending:()=>{}},c=>{if(s){tn({});var d=D;d.c=s}i&&(r.$$events=i),u=t(c,r)||{},s&&en()}),()=>{for(var c of o){e.removeEventListener(c,hn);var d=ze.get(c);--d===0?(document.removeEventListener(c,hn),ze.delete(c)):ze.set(c,d)}Ci.delete(l),h!==n&&h.parentNode?.removeChild(h)}});return Ho.set(u,f),u}let Ho=new WeakMap;class Bo{anchor;#t=new Map;#e=new Map;#r=new Map;#n=new Set;#l=!0;constructor(e,n=!0){this.anchor=e,this.#l=n}#s=()=>{var e=U;if(this.#t.has(e)){var n=this.#t.get(e),r=this.#e.get(n);if(r)li(r),this.#n.delete(n);else{var i=this.#r.get(n);i&&(this.#e.set(n,i.effect),this.#r.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,a]of this.#t){if(this.#t.delete(s),s===e)break;const o=this.#r.get(a);o&&(ht(o.effect),this.#r.delete(a))}for(const[s,a]of this.#e){if(s===n||this.#n.has(s))continue;const o=()=>{if(Array.from(this.#t.values()).includes(s)){var u=document.createDocumentFragment();Vs(a,u),u.append(ye()),this.#r.set(s,{effect:a,fragment:u})}else ht(a);this.#n.delete(s),this.#e.delete(s)};this.#l||!r?(this.#n.add(s),qe(a,o,!1)):o()}}};#i=e=>{this.#t.delete(e);const n=Array.from(this.#t.values());for(const[r,i]of this.#r)n.includes(r)||(ht(i.effect),this.#r.delete(r))};ensure(e,n){var r=U,i=Is();if(n&&!this.#e.has(e)&&!this.#r.has(e))if(i){var s=document.createDocumentFragment(),a=ye();s.append(a),this.#r.set(e,{effect:Tt(()=>n(a)),fragment:s})}else this.#e.set(e,Tt(()=>n(this.anchor)));if(this.#t.set(r,e),i){for(const[o,l]of this.#e)o===e?r.skipped_effects.delete(l):r.skipped_effects.add(l);for(const[o,l]of this.#r)o===e?r.skipped_effects.delete(l.effect):r.skipped_effects.add(l.effect);r.oncommit(this.#s),r.ondiscard(this.#i)}else this.#s()}}function et(t,e,n=!1){var r=new Bo(t),i=n?je:0;function s(a,o){r.ensure(a,o)}ai(()=>{var a=!1;e((o,l=!0)=>{a=!0,s(l,o)}),a||s(!1,null)},i)}function te(t,e){return e}function qo(t,e,n){for(var r=[],i=e.length,s=0;s<i;s++)oi(e[s].e,r,!0);Bs(r,()=>{var a=r.length===0&&n!==null;if(a){var o=n,l=o.parentNode;Eo(l),l.append(o),t.items.clear(),Bt(t,e[0].prev,e[i-1].next)}for(var u=0;u<i;u++){var f=e[u];a||(t.items.delete(f.k),Bt(t,f.prev,f.next)),ht(f.e,!a)}t.first===e[0]&&(t.first=e[0].prev)})}function qt(t,e,n,r,i,s=null){var a=t,o=new Map,l=null,u=(e&ys)!==0,f=(e&gs)!==0,h=(e&ms)!==0;if(u){var c=t;a=c.appendChild(ye())}var d=null,p=Vt(()=>{var M=n();return us(M)?M:M==null?[]:Zr(M)}),m,_=!0;function w(){Vo($,m,a,e,r),d!==null&&(m.length===0?(d.fragment?(a.before(d.fragment),d.fragment=null):li(d.effect),E.first=d.effect):qe(d.effect,()=>{d=null}))}var E=ai(()=>{m=v(p);for(var M=m.length,O=new Set,N=U,z=null,P=Is(),q=0;q<M;q+=1){var vt=m[q],k=r(vt,q),y=_?null:o.get(k);y?(f&&Ye(y.v,vt),h?Ye(y.i,q):y.i=q,P&&N.skipped_effects.delete(y.e)):(y=jo(_?a:null,z,vt,k,q,i,e,n),_&&(y.o=!0,z===null?l=y:z.next=y,z=y),o.set(k,y)),O.add(k)}if(M===0&&s&&!d)if(_)d={fragment:null,effect:Tt(()=>s(a))};else{var g=document.createDocumentFragment(),x=ye();g.append(x),d={fragment:g,effect:Tt(()=>s(x))}}if(!_)if(P){for(const[b,Y]of o)O.has(b)||N.skipped_effects.add(Y.e);N.oncommit(w),N.ondiscard(()=>{})}else w();v(p)}),$={effect:E,items:o,first:l};_=!1}function Vo(t,e,n,r,i){var s=(r&Ja)!==0,a=e.length,o=t.items,l=t.first,u,f=null,h,c=[],d=[],p,m,_,w;if(s)for(w=0;w<a;w+=1)p=e[w],m=i(p,w),_=o.get(m),_.a?.measure(),(h??=new Set).add(_);for(w=0;w<a;w+=1){if(p=e[w],m=i(p,w),_=o.get(m),t.first??=_,!_.o){_.o=!0;var E=f?f.next:l;Bt(t,f,_),Bt(t,_,E),Er(_,E,n),f=_,c=[],d=[],l=f.next;continue}if((_.e.f&yt)!==0&&(li(_.e),s&&(_.a?.unfix(),(h??=new Set).delete(_))),_!==l){if(u!==void 0&&u.has(_)){if(c.length<d.length){var $=d[0],M;f=$.prev;var O=c[0],N=c[c.length-1];for(M=0;M<c.length;M+=1)Er(c[M],$,n);for(M=0;M<d.length;M+=1)u.delete(d[M]);Bt(t,O.prev,N.next),Bt(t,f,O),Bt(t,N,$),l=$,f=N,w-=1,c=[],d=[]}else u.delete(_),Er(_,l,n),Bt(t,_.prev,_.next),Bt(t,_,f===null?t.first:f.next),Bt(t,f,_),f=_;continue}for(c=[],d=[];l!==null&&l.k!==m;)(l.e.f&yt)===0&&(u??=new Set).add(l),d.push(l),l=l.next;if(l===null)continue;_=l}c.push(_),f=_,l=_.next}if(l!==null||u!==void 0){for(var z=u===void 0?[]:Zr(u);l!==null;)(l.e.f&yt)===0&&z.push(l),l=l.next;var P=z.length;if(P>0){var q=(r&ys)!==0&&a===0?n:null;if(s){for(w=0;w<P;w+=1)z[w].a?.measure();for(w=0;w<P;w+=1)z[w].a?.fix()}qo(t,z,q)}}s&&nn(()=>{if(h!==void 0)for(_ of h)_.a?.apply()})}function jo(t,e,n,r,i,s,a,o){var l=(a&gs)!==0,u=(a&Qa)===0,f=l?u?Ft(n,!1,!1):Oe(n):n,h=(a&ms)===0?i:Oe(i),c={i:h,v:f,k:r,a:null,e:null,o:!1,prev:e,next:null};try{if(t===null){var d=document.createDocumentFragment();d.append(t=ye())}return c.e=Tt(()=>s(t,f,h,o)),e!==null&&(e.next=c),c}finally{}}function Er(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==null&&s!==r;){var a=Sn(s);i.before(s),s=a}}function Bt(t,e,n){e===null?(t.first=n,t.effect.first=n&&n.e):(e.e.next&&(e.e.next.prev=null),e.next=n,e.e.next=n&&n.e),n===null?t.effect.last=e&&e.e:(n.e.prev&&(n.e.prev.next=null),n.prev=e,n.e.prev=e&&e.e)}function Uo(t,e,n){Wn(()=>{var r=A(()=>e(t,n?.())||{});if(n&&r?.update){var i=!1,s={};An(()=>{var a=n();S(a),i&&ni(s,a)&&(s=a,r.update(a))}),i=!0}if(r?.destroy)return()=>r.destroy()})}const Ti=[...` 	
\r\fÂ \v\uFEFF`];function Wo(t,e,n){var r=t==null?"":""+t;if(n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,a=0;(a=r.indexOf(i,a))>=0;){var o=a+s;(a===0||Ti.includes(r[a-1]))&&(o===r.length||Ti.includes(r[o]))?r=(a===0?"":r.substring(0,a))+r.substring(o+1):a=o}}return r===""?null:r}function Yo(t,e){return t==null?null:String(t)}function Sr(t,e,n,r,i,s){var a=t.__className;if(a!==n||a===void 0){var o=Wo(n,r,s);o==null?t.removeAttribute("class"):t.className=o,t.__className=n}else if(s&&i!==s)for(var l in s){var u=!!s[l];(i==null||u!==!!i[l])&&t.classList.toggle(l,u)}return s}function Mi(t,e,n,r){var i=t.__style;if(i!==e){var s=Yo(e);s==null?t.removeAttribute("style"):t.style.cssText=s,t.__style=e}return r}const Xo=Symbol("is custom element"),Go=Symbol("is html");function Ko(t,e){var n=ui(t);n.value===(n.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function Zo(t,e){var n=ui(t);n.checked!==(n.checked=e??void 0)&&(t.checked=e)}function Lr(t,e,n,r){var i=ui(t);i[e]!==(i[e]=n)&&(e==="loading"&&(t[Ha]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Jo(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function ui(t){return t.__attributes??={[Xo]:t.nodeName.includes("-"),[Go]:t.namespaceURI===so}}var $i=new Map;function Jo(t){var e=t.getAttribute("is")||t.nodeName,n=$i.get(e);if(n)return n;$i.set(e,n=[]);for(var r,i=t,s=Element.prototype;s!==i;){r=cs(i);for(var a in r)r[a].set&&n.push(a);i=Jr(i)}return n}function Fi(t,e){return t===e||t?.[ke]===e}function Zs(t={},e,n,r){return Wn(()=>{var i,s;return An(()=>{i=s,s=[],A(()=>{t!==n(...s)&&(e(t,...s),i&&Fi(n(...i),t)&&e(null,...i))})}),()=>{nn(()=>{s&&Fi(n(...s),t)&&e(null,...s)})}}),t}function Cn(t=!1){const e=D,n=e.l.u;if(!n)return;let r=()=>S(e.s);if(t){let i=0,s={};const a=or(()=>{let o=!1;const l=e.s;for(const u in l)l[u]!==s[u]&&(s[u]=l[u],o=!0);return o&&i++,i});r=()=>v(a)}n.b.length&&Ao(()=>{Oi(e,r),Vn(n.b)}),zr(()=>{const i=A(()=>n.m.map(Pa));return()=>{for(const s of i)typeof s=="function"&&s()}}),n.a.length&&zr(()=>{Oi(e,r),Vn(n.a)})}function Oi(t,e){if(t.l.s)for(const n of t.l.s)v(n);e()}function fi(t,e,n){if(t==null)return e(void 0),n&&n(void 0),ee;const r=A(()=>t.subscribe(e,n));return r.unsubscribe?()=>r.unsubscribe():r}const De=[];function Qo(t,e){return{subscribe:we(t,e).subscribe}}function we(t,e=ee){let n=null;const r=new Set;function i(o){if(ni(t,o)&&(t=o,n)){const l=!De.length;for(const u of r)u[1](),De.push(u,t);if(l){for(let u=0;u<De.length;u+=2)De[u][0](De[u+1]);De.length=0}}}function s(o){i(o(t))}function a(o,l=ee){const u=[o,l];return r.add(u),r.size===1&&(n=e(i,s)||ee),o(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:a}}function fr(t,e,n){const r=!Array.isArray(t),i=r?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return Qo(n,(a,o)=>{let l=!1;const u=[];let f=0,h=ee;const c=()=>{if(f)return;h();const p=e(r?u[0]:u,a,o);s?a(p):h=typeof p=="function"?p:ee},d=i.map((p,m)=>fi(p,_=>{u[m]=_,f&=~(1<<m),l&&c()},()=>{f|=1<<m}));return l=!0,c(),function(){Vn(d),h(),l=!1}})}function tl(t){let e;return fi(t,n=>e=n)(),e}let Rn=!1,Hr=Symbol();function Ot(t,e,n){const r=n[e]??={store:null,source:Ft(void 0),unsubscribe:ee};if(r.store!==t&&!(Hr in n))if(r.unsubscribe(),r.store=t??null,t==null)r.source.v=void 0,r.unsubscribe=ee;else{var i=!0;r.unsubscribe=fi(t,s=>{i?r.source.v=s:G(r.source,s)}),i=!1}return t&&Hr in n?tl(t):v(r.source)}function el(t,e,n){let r=n[e];return r&&r.store!==t&&(r.unsubscribe(),r.unsubscribe=ee),t}function kn(){const t={};function e(){si(()=>{for(var n in t)t[n].unsubscribe();fs(t,Hr,{enumerable:!1,value:!0})})}return[t,e]}function nl(t){var e=Rn;try{return Rn=!1,[t(),Rn]}finally{Rn=e}}function ve(t,e,n,r){var i=!Qe||(n&to)!==0,s=(n&no)!==0,a=r,o=!0,l=()=>(o&&(o=!1,a=r),a),u;{var f=ke in t||La in t;u=Be(t,e)?.set??(f&&e in t?E=>t[e]=E:void 0)}var h,c=!1;[h,c]=nl(()=>t[e]),h===void 0&&r!==void 0&&(h=l(),u&&(i&&Ya(),u(h)));var d;if(i?d=()=>{var E=t[e];return E===void 0?l():(o=!0,E)}:d=()=>{var E=t[e];return E!==void 0&&(a=void 0),E===void 0?a:E},i&&(n&eo)===0)return d;if(u){var p=t.$$legacy;return(function(E,$){return arguments.length>0?((!i||!$||p||c)&&u($?d():E),E):d()})}var m=!1,_=Vt(()=>(m=!1,d()));v(_);var w=R;return(function(E,$){if(arguments.length>0){const M=$?v(_):i&&s?He(E):E;return G(_,M),m=!0,a!==void 0&&(a=M),E}return Ie&&m||(w.f&ne)!==0?_.v:v(_)})}function Js(t){D===null&&_s(),Qe&&D.l!==null?Qs(D).m.push(t):zr(()=>{const e=A(t);if(typeof e=="function")return e})}function rl(t){D===null&&_s(),D.l===null&&Wa(),Qs(D).a.push(t)}function Qs(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}const il="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(il);lo();var sl={value:()=>{}};function ta(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Hn(n)}function Hn(t){this._=t}function al(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Hn.prototype=ta.prototype={constructor:Hn,on:function(t,e){var n=this._,r=al(t+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(t=r[s]).type)&&(i=ol(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(i=(t=r[s]).type)n[i]=Ni(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ni(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Hn(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function ol(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Ni(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=sl,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Br="http://www.w3.org/1999/xhtml";const Ri={svg:"http://www.w3.org/2000/svg",xhtml:Br,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function cr(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ri.hasOwnProperty(e)?{space:Ri[e],local:t}:t}function ll(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Br&&e.documentElement.namespaceURI===Br?e.createElement(t):e.createElementNS(n,t)}}function ul(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ea(t){var e=cr(t);return(e.local?ul:ll)(e)}function fl(){}function ci(t){return t==null?fl:function(){return this.querySelector(t)}}function cl(t){typeof t!="function"&&(t=ci(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=new Array(a),l,u,f=0;f<a;++f)(l=s[f])&&(u=t.call(l,l.__data__,f,s))&&("__data__"in l&&(u.__data__=l.__data__),o[f]=u);return new wt(r,this._parents)}function hl(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function dl(){return[]}function na(t){return t==null?dl:function(){return this.querySelectorAll(t)}}function vl(t){return function(){return hl(t.apply(this,arguments))}}function pl(t){typeof t=="function"?t=vl(t):t=na(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var a=e[s],o=a.length,l,u=0;u<o;++u)(l=a[u])&&(r.push(t.call(l,l.__data__,u,a)),i.push(l));return new wt(r,i)}function ra(t){return function(){return this.matches(t)}}function ia(t){return function(e){return e.matches(t)}}var _l=Array.prototype.find;function gl(t){return function(){return _l.call(this.children,t)}}function ml(){return this.firstElementChild}function yl(t){return this.select(t==null?ml:gl(typeof t=="function"?t:ia(t)))}var wl=Array.prototype.filter;function xl(){return Array.from(this.children)}function bl(t){return function(){return wl.call(this.children,t)}}function El(t){return this.selectAll(t==null?xl:bl(typeof t=="function"?t:ia(t)))}function Sl(t){typeof t!="function"&&(t=ra(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=[],l,u=0;u<a;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&o.push(l);return new wt(r,this._parents)}function sa(t){return new Array(t.length)}function Al(){return new wt(this._enter||this._groups.map(sa),this._parents)}function Gn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Gn.prototype={constructor:Gn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Cl(t){return function(){return t}}function kl(t,e,n,r,i,s){for(var a=0,o,l=e.length,u=s.length;a<u;++a)(o=e[a])?(o.__data__=s[a],r[a]=o):n[a]=new Gn(t,s[a]);for(;a<l;++a)(o=e[a])&&(i[a]=o)}function Tl(t,e,n,r,i,s,a){var o,l,u=new Map,f=e.length,h=s.length,c=new Array(f),d;for(o=0;o<f;++o)(l=e[o])&&(c[o]=d=a.call(l,l.__data__,o,e)+"",u.has(d)?i[o]=l:u.set(d,l));for(o=0;o<h;++o)d=a.call(t,s[o],o,s)+"",(l=u.get(d))?(r[o]=l,l.__data__=s[o],u.delete(d)):n[o]=new Gn(t,s[o]);for(o=0;o<f;++o)(l=e[o])&&u.get(c[o])===l&&(i[o]=l)}function Ml(t){return t.__data__}function $l(t,e){if(!arguments.length)return Array.from(this,Ml);var n=e?Tl:kl,r=this._parents,i=this._groups;typeof t!="function"&&(t=Cl(t));for(var s=i.length,a=new Array(s),o=new Array(s),l=new Array(s),u=0;u<s;++u){var f=r[u],h=i[u],c=h.length,d=Fl(t.call(f,f&&f.__data__,u,r)),p=d.length,m=o[u]=new Array(p),_=a[u]=new Array(p),w=l[u]=new Array(c);n(f,h,m,_,w,d,e);for(var E=0,$=0,M,O;E<p;++E)if(M=m[E]){for(E>=$&&($=E+1);!(O=_[$])&&++$<p;);M._next=O||null}}return a=new wt(a,r),a._enter=o,a._exit=l,a}function Fl(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ol(){return new wt(this._exit||this._groups.map(sa),this._parents)}function Nl(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Rl(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var u=n[l],f=r[l],h=u.length,c=o[l]=new Array(h),d,p=0;p<h;++p)(d=u[p]||f[p])&&(c[p]=d);for(;l<i;++l)o[l]=n[l];return new wt(o,this._parents)}function Il(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function zl(t){t||(t=Dl);function e(h,c){return h&&c?t(h.__data__,c.__data__):!h-!c}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],o=a.length,l=i[s]=new Array(o),u,f=0;f<o;++f)(u=a[f])&&(l[f]=u);l.sort(e)}return new wt(i,this._parents).order()}function Dl(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Pl(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ll(){return Array.from(this)}function Hl(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function Bl(){let t=0;for(const e of this)++t;return t}function ql(){return!this.node()}function Vl(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,a=i.length,o;s<a;++s)(o=i[s])&&t.call(o,o.__data__,s,i);return this}function jl(t){return function(){this.removeAttribute(t)}}function Ul(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Wl(t,e){return function(){this.setAttribute(t,e)}}function Yl(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Xl(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Gl(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Kl(t,e){var n=cr(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Ul:jl:typeof e=="function"?n.local?Gl:Xl:n.local?Yl:Wl)(n,e))}function aa(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Zl(t){return function(){this.style.removeProperty(t)}}function Jl(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ql(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function tu(t,e,n){return arguments.length>1?this.each((e==null?Zl:typeof e=="function"?Ql:Jl)(t,e,n??"")):Ge(this.node(),t)}function Ge(t,e){return t.style.getPropertyValue(e)||aa(t).getComputedStyle(t,null).getPropertyValue(e)}function eu(t){return function(){delete this[t]}}function nu(t,e){return function(){this[t]=e}}function ru(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function iu(t,e){return arguments.length>1?this.each((e==null?eu:typeof e=="function"?ru:nu)(t,e)):this.node()[t]}function oa(t){return t.trim().split(/^|\s+/)}function hi(t){return t.classList||new la(t)}function la(t){this._node=t,this._names=oa(t.getAttribute("class")||"")}la.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ua(t,e){for(var n=hi(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function fa(t,e){for(var n=hi(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function su(t){return function(){ua(this,t)}}function au(t){return function(){fa(this,t)}}function ou(t,e){return function(){(e.apply(this,arguments)?ua:fa)(this,t)}}function lu(t,e){var n=oa(t+"");if(arguments.length<2){for(var r=hi(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?ou:e?su:au)(n,e))}function uu(){this.textContent=""}function fu(t){return function(){this.textContent=t}}function cu(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function hu(t){return arguments.length?this.each(t==null?uu:(typeof t=="function"?cu:fu)(t)):this.node().textContent}function du(){this.innerHTML=""}function vu(t){return function(){this.innerHTML=t}}function pu(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function _u(t){return arguments.length?this.each(t==null?du:(typeof t=="function"?pu:vu)(t)):this.node().innerHTML}function gu(){this.nextSibling&&this.parentNode.appendChild(this)}function mu(){return this.each(gu)}function yu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wu(){return this.each(yu)}function xu(t){var e=typeof t=="function"?t:ea(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function bu(){return null}function Eu(t,e){var n=typeof t=="function"?t:ea(t),r=e==null?bu:typeof e=="function"?e:ci(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Su(){var t=this.parentNode;t&&t.removeChild(this)}function Au(){return this.each(Su)}function Cu(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ku(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Tu(t){return this.select(t?ku:Cu)}function Mu(t){return arguments.length?this.property("__data__",t):this.node().__data__}function $u(t){return function(e){t.call(this,e,this.__data__)}}function Fu(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ou(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function Nu(t,e,n){return function(){var r=this.__on,i,s=$u(e);if(r){for(var a=0,o=r.length;a<o;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Ru(t,e,n){var r=Fu(t+""),i,s=r.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,f;l<u;++l)for(i=0,f=o[l];i<s;++i)if((a=r[i]).type===f.type&&a.name===f.name)return f.value}return}for(o=e?Nu:Ou,i=0;i<s;++i)this.each(o(r[i],e,n));return this}function ca(t,e,n){var r=aa(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Iu(t,e){return function(){return ca(this,t,e)}}function zu(t,e){return function(){return ca(this,t,e.apply(this,arguments))}}function Du(t,e){return this.each((typeof e=="function"?zu:Iu)(t,e))}function*Pu(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var ha=[null];function wt(t,e){this._groups=t,this._parents=e}function Tn(){return new wt([[document.documentElement]],ha)}function Lu(){return this}wt.prototype=Tn.prototype={constructor:wt,select:cl,selectAll:pl,selectChild:yl,selectChildren:El,filter:Sl,data:$l,enter:Al,exit:Ol,join:Nl,merge:Rl,selection:Lu,order:Il,sort:zl,call:Pl,nodes:Ll,node:Hl,size:Bl,empty:ql,each:Vl,attr:Kl,style:tu,property:iu,classed:lu,text:hu,html:_u,raise:mu,lower:wu,append:xu,insert:Eu,remove:Au,clone:Tu,datum:Mu,on:Ru,dispatch:Du,[Symbol.iterator]:Pu};function Ar(t){return typeof t=="string"?new wt([[document.querySelector(t)]],[document.documentElement]):new wt([[t]],ha)}function di(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function da(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Mn(){}var wn=.7,Kn=1/wn,Ve="\\s*([+-]?\\d+)\\s*",xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hu=/^#([0-9a-f]{3,8})$/,Bu=new RegExp(`^rgb\\(${Ve},${Ve},${Ve}\\)$`),qu=new RegExp(`^rgb\\(${Wt},${Wt},${Wt}\\)$`),Vu=new RegExp(`^rgba\\(${Ve},${Ve},${Ve},${xn}\\)$`),ju=new RegExp(`^rgba\\(${Wt},${Wt},${Wt},${xn}\\)$`),Uu=new RegExp(`^hsl\\(${xn},${Wt},${Wt}\\)$`),Wu=new RegExp(`^hsla\\(${xn},${Wt},${Wt},${xn}\\)$`),Ii={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};di(Mn,Ke,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zi,formatHex:zi,formatHex8:Yu,formatHsl:Xu,formatRgb:Di,toString:Di});function zi(){return this.rgb().formatHex()}function Yu(){return this.rgb().formatHex8()}function Xu(){return va(this).formatHsl()}function Di(){return this.rgb().formatRgb()}function Ke(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Hu.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Pi(e):n===3?new ct(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?In(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?In(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Bu.exec(t))?new ct(e[1],e[2],e[3],1):(e=qu.exec(t))?new ct(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Vu.exec(t))?In(e[1],e[2],e[3],e[4]):(e=ju.exec(t))?In(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Uu.exec(t))?Bi(e[1],e[2]/100,e[3]/100,1):(e=Wu.exec(t))?Bi(e[1],e[2]/100,e[3]/100,e[4]):Ii.hasOwnProperty(t)?Pi(Ii[t]):t==="transparent"?new ct(NaN,NaN,NaN,0):null}function Pi(t){return new ct(t>>16&255,t>>8&255,t&255,1)}function In(t,e,n,r){return r<=0&&(t=e=n=NaN),new ct(t,e,n,r)}function Gu(t){return t instanceof Mn||(t=Ke(t)),t?(t=t.rgb(),new ct(t.r,t.g,t.b,t.opacity)):new ct}function qr(t,e,n,r){return arguments.length===1?Gu(t):new ct(t,e,n,r??1)}function ct(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}di(ct,qr,da(Mn,{brighter(t){return t=t==null?Kn:Math.pow(Kn,t),new ct(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?wn:Math.pow(wn,t),new ct(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ct(Me(this.r),Me(this.g),Me(this.b),Zn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Li,formatHex:Li,formatHex8:Ku,formatRgb:Hi,toString:Hi}));function Li(){return`#${Ce(this.r)}${Ce(this.g)}${Ce(this.b)}`}function Ku(){return`#${Ce(this.r)}${Ce(this.g)}${Ce(this.b)}${Ce((isNaN(this.opacity)?1:this.opacity)*255)}`}function Hi(){const t=Zn(this.opacity);return`${t===1?"rgb(":"rgba("}${Me(this.r)}, ${Me(this.g)}, ${Me(this.b)}${t===1?")":`, ${t})`}`}function Zn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Me(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ce(t){return t=Me(t),(t<16?"0":"")+t.toString(16)}function Bi(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Nt(t,e,n,r)}function va(t){if(t instanceof Nt)return new Nt(t.h,t.s,t.l,t.opacity);if(t instanceof Mn||(t=Ke(t)),!t)return new Nt;if(t instanceof Nt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Nt(a,o,l,t.opacity)}function pa(t,e,n,r){return arguments.length===1?va(t):new Nt(t,e,n,r??1)}function Nt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}di(Nt,pa,da(Mn,{brighter(t){return t=t==null?Kn:Math.pow(Kn,t),new Nt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?wn:Math.pow(wn,t),new Nt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ct(Cr(t>=240?t-240:t+120,i,r),Cr(t,i,r),Cr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Nt(qi(this.h),zn(this.s),zn(this.l),Zn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Zn(this.opacity);return`${t===1?"hsl(":"hsla("}${qi(this.h)}, ${zn(this.s)*100}%, ${zn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function qi(t){return t=(t||0)%360,t<0?t+360:t}function zn(t){return Math.max(0,Math.min(1,t||0))}function Cr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const _a=t=>()=>t;function Zu(t,e){return function(n){return t+n*e}}function Ju(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Qu(t){return(t=+t)==1?ga:function(e,n){return n-e?Ju(e,n,t):_a(isNaN(e)?n:e)}}function ga(t,e){var n=e-t;return n?Zu(t,n):_a(isNaN(t)?e:t)}const Vi=(function t(e){var n=Qu(e);function r(i,s){var a=n((i=qr(i)).r,(s=qr(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),u=ga(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=o(f),i.b=l(f),i.opacity=u(f),i+""}}return r.gamma=t,r})(1);function he(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Vr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kr=new RegExp(Vr.source,"g");function tf(t){return function(){return t}}function ef(t){return function(e){return t(e)+""}}function nf(t,e){var n=Vr.lastIndex=kr.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=Vr.exec(t))&&(i=kr.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:he(r,i)})),n=kr.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?ef(l[0].x):tf(e):(e=l.length,function(u){for(var f=0,h;f<e;++f)o[(h=l[f]).i]=h.x(u);return o.join("")})}var ji=180/Math.PI,jr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ma(t,e,n,r,i,s){var a,o,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*ji,skewX:Math.atan(l)*ji,scaleX:a,scaleY:o}}var Dn;function rf(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?jr:ma(e.a,e.b,e.c,e.d,e.e,e.f)}function sf(t){return t==null||(Dn||(Dn=document.createElementNS("http://www.w3.org/2000/svg","g")),Dn.setAttribute("transform",t),!(t=Dn.transform.baseVal.consolidate()))?jr:(t=t.matrix,ma(t.a,t.b,t.c,t.d,t.e,t.f))}function ya(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,f,h,c,d,p){if(u!==h||f!==c){var m=d.push("translate(",null,e,null,n);p.push({i:m-4,x:he(u,h)},{i:m-2,x:he(f,c)})}else(h||c)&&d.push("translate("+h+e+c+n)}function a(u,f,h,c){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),c.push({i:h.push(i(h)+"rotate(",null,r)-2,x:he(u,f)})):f&&h.push(i(h)+"rotate("+f+r)}function o(u,f,h,c){u!==f?c.push({i:h.push(i(h)+"skewX(",null,r)-2,x:he(u,f)}):f&&h.push(i(h)+"skewX("+f+r)}function l(u,f,h,c,d,p){if(u!==h||f!==c){var m=d.push(i(d)+"scale(",null,",",null,")");p.push({i:m-4,x:he(u,h)},{i:m-2,x:he(f,c)})}else(h!==1||c!==1)&&d.push(i(d)+"scale("+h+","+c+")")}return function(u,f){var h=[],c=[];return u=t(u),f=t(f),s(u.translateX,u.translateY,f.translateX,f.translateY,h,c),a(u.rotate,f.rotate,h,c),o(u.skewX,f.skewX,h,c),l(u.scaleX,u.scaleY,f.scaleX,f.scaleY,h,c),u=f=null,function(d){for(var p=-1,m=c.length,_;++p<m;)h[(_=c[p]).i]=_.x(d);return h.join("")}}}var af=ya(rf,"px, ","px)","deg)"),of=ya(sf,", ",")",")"),Ze=0,dn=0,un=0,wa=1e3,Jn,vn,Qn=0,Ne=0,hr=0,bn=typeof performance=="object"&&performance.now?performance:Date,xa=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function vi(){return Ne||(xa(lf),Ne=bn.now()+hr)}function lf(){Ne=0}function tr(){this._call=this._time=this._next=null}tr.prototype=ba.prototype={constructor:tr,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?vi():+n)+(e==null?0:+e),!this._next&&vn!==this&&(vn?vn._next=this:Jn=this,vn=this),this._call=t,this._time=n,Ur()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ur())}};function ba(t,e,n){var r=new tr;return r.restart(t,e,n),r}function uf(){vi(),++Ze;for(var t=Jn,e;t;)(e=Ne-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ze}function Ui(){Ne=(Qn=bn.now())+hr,Ze=dn=0;try{uf()}finally{Ze=0,cf(),Ne=0}}function ff(){var t=bn.now(),e=t-Qn;e>wa&&(hr-=e,Qn=t)}function cf(){for(var t,e=Jn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Jn=n);vn=t,Ur(r)}function Ur(t){if(!Ze){dn&&(dn=clearTimeout(dn));var e=t-Ne;e>24?(t<1/0&&(dn=setTimeout(Ui,t-bn.now()-hr)),un&&(un=clearInterval(un))):(un||(Qn=bn.now(),un=setInterval(ff,wa)),Ze=1,xa(Ui))}}function Wi(t,e,n){var r=new tr;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var hf=ta("start","end","cancel","interrupt"),df=[],Ea=0,Yi=1,Wr=2,Bn=3,Xi=4,Yr=5,qn=6;function dr(t,e,n,r,i,s){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;vf(t,n,{name:e,index:r,group:i,on:hf,tween:df,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Ea})}function pi(t,e){var n=It(t,e);if(n.state>Ea)throw new Error("too late; already scheduled");return n}function Kt(t,e){var n=It(t,e);if(n.state>Bn)throw new Error("too late; already running");return n}function It(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function vf(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=ba(s,0,n.time);function s(u){n.state=Yi,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var f,h,c,d;if(n.state!==Yi)return l();for(f in r)if(d=r[f],d.name===n.name){if(d.state===Bn)return Wi(a);d.state===Xi?(d.state=qn,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[f]):+f<e&&(d.state=qn,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[f])}if(Wi(function(){n.state===Bn&&(n.state=Xi,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=Wr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Wr){for(n.state=Bn,i=new Array(c=n.tween.length),f=0,h=-1;f<c;++f)(d=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function o(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Yr,1),h=-1,c=i.length;++h<c;)i[h].call(t,f);n.state===Yr&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=qn,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function pf(t,e){var n=t.__transition,r,i,s=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){s=!1;continue}i=r.state>Wr&&r.state<Yr,r.state=qn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}s&&delete t.__transition}}function _f(t){return this.each(function(){pf(this,t)})}function gf(t,e){var n,r;return function(){var i=Kt(this,t),s=i.tween;if(s!==n){r=n=s;for(var a=0,o=r.length;a<o;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function mf(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Kt(this,t),a=s.tween;if(a!==r){i=(r=a).slice();for(var o={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=o;break}l===u&&i.push(o)}s.tween=i}}function yf(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=It(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?gf:mf)(n,t,e))}function _i(t,e,n){var r=t._id;return t.each(function(){var i=Kt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return It(i,r).value[e]}}function Sa(t,e){var n;return(typeof e=="number"?he:e instanceof Ke?Vi:(n=Ke(e))?(e=n,Vi):nf)(t,e)}function wf(t){return function(){this.removeAttribute(t)}}function xf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function bf(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttribute(t);return a===i?null:a===r?s:s=e(r=a,n)}}function Ef(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?s:s=e(r=a,n)}}function Sf(t,e,n){var r,i,s;return function(){var a,o=n(this),l;return o==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=o+"",a===l?null:a===r&&l===i?s:(i=l,s=e(r=a,o)))}}function Af(t,e,n){var r,i,s;return function(){var a,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=o+"",a===l?null:a===r&&l===i?s:(i=l,s=e(r=a,o)))}}function Cf(t,e){var n=cr(t),r=n==="transform"?of:Sa;return this.attrTween(t,typeof e=="function"?(n.local?Af:Sf)(n,r,_i(this,"attr."+t,e)):e==null?(n.local?xf:wf)(n):(n.local?Ef:bf)(n,r,e))}function kf(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Tf(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Mf(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Tf(t,s)),n}return i._value=e,i}function $f(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&kf(t,s)),n}return i._value=e,i}function Ff(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=cr(t);return this.tween(n,(r.local?Mf:$f)(r,e))}function Of(t,e){return function(){pi(this,t).delay=+e.apply(this,arguments)}}function Nf(t,e){return e=+e,function(){pi(this,t).delay=e}}function Rf(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Of:Nf)(e,t)):It(this.node(),e).delay}function If(t,e){return function(){Kt(this,t).duration=+e.apply(this,arguments)}}function zf(t,e){return e=+e,function(){Kt(this,t).duration=e}}function Df(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?If:zf)(e,t)):It(this.node(),e).duration}function Pf(t,e){if(typeof e!="function")throw new Error;return function(){Kt(this,t).ease=e}}function Lf(t){var e=this._id;return arguments.length?this.each(Pf(e,t)):It(this.node(),e).ease}function Hf(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Kt(this,t).ease=n}}function Bf(t){if(typeof t!="function")throw new Error;return this.each(Hf(this._id,t))}function qf(t){typeof t!="function"&&(t=ra(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=[],l,u=0;u<a;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&o.push(l);return new ie(r,this._parents,this._name,this._id)}function Vf(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),a=new Array(r),o=0;o<s;++o)for(var l=e[o],u=n[o],f=l.length,h=a[o]=new Array(f),c,d=0;d<f;++d)(c=l[d]||u[d])&&(h[d]=c);for(;o<r;++o)a[o]=e[o];return new ie(a,this._parents,this._name,this._id)}function jf(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Uf(t,e,n){var r,i,s=jf(e)?pi:Kt;return function(){var a=s(this,t),o=a.on;o!==r&&(i=(r=o).copy()).on(e,n),a.on=i}}function Wf(t,e){var n=this._id;return arguments.length<2?It(this.node(),n).on.on(t):this.each(Uf(n,t,e))}function Yf(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Xf(){return this.on("end.remove",Yf(this._id))}function Gf(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ci(t));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var o=r[a],l=o.length,u=s[a]=new Array(l),f,h,c=0;c<l;++c)(f=o[c])&&(h=t.call(f,f.__data__,c,o))&&("__data__"in f&&(h.__data__=f.__data__),u[c]=h,dr(u[c],e,n,c,u,It(f,n)));return new ie(s,this._parents,e,n)}function Kf(t){var e=this._name,n=this._id;typeof t!="function"&&(t=na(t));for(var r=this._groups,i=r.length,s=[],a=[],o=0;o<i;++o)for(var l=r[o],u=l.length,f,h=0;h<u;++h)if(f=l[h]){for(var c=t.call(f,f.__data__,h,l),d,p=It(f,n),m=0,_=c.length;m<_;++m)(d=c[m])&&dr(d,e,n,m,c,p);s.push(c),a.push(f)}return new ie(s,a,e,n)}var Zf=Tn.prototype.constructor;function Jf(){return new Zf(this._groups,this._parents)}function Qf(t,e){var n,r,i;return function(){var s=Ge(this,t),a=(this.style.removeProperty(t),Ge(this,t));return s===a?null:s===n&&a===r?i:i=e(n=s,r=a)}}function Aa(t){return function(){this.style.removeProperty(t)}}function tc(t,e,n){var r,i=n+"",s;return function(){var a=Ge(this,t);return a===i?null:a===r?s:s=e(r=a,n)}}function ec(t,e,n){var r,i,s;return function(){var a=Ge(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),Ge(this,t))),a===l?null:a===r&&l===i?s:(i=l,s=e(r=a,o))}}function nc(t,e){var n,r,i,s="style."+e,a="end."+s,o;return function(){var l=Kt(this,t),u=l.on,f=l.value[s]==null?o||(o=Aa(e)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(a,i=f),l.on=r}}function rc(t,e,n){var r=(t+="")=="transform"?af:Sa;return e==null?this.styleTween(t,Qf(t,r)).on("end.style."+t,Aa(t)):typeof e=="function"?this.styleTween(t,ec(t,r,_i(this,"style."+t,e))).each(nc(this._id,t)):this.styleTween(t,tc(t,r,e),n).on("end.style."+t,null)}function ic(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function sc(t,e,n){var r,i;function s(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&ic(t,a,n)),r}return s._value=e,s}function ac(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,sc(t,e,n??""))}function oc(t){return function(){this.textContent=t}}function lc(t){return function(){var e=t(this);this.textContent=e??""}}function uc(t){return this.tween("text",typeof t=="function"?lc(_i(this,"text",t)):oc(t==null?"":t+""))}function fc(t){return function(e){this.textContent=t.call(this,e)}}function cc(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&fc(i)),e}return r._value=t,r}function hc(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,cc(t))}function dc(){for(var t=this._name,e=this._id,n=Ca(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,l,u=0;u<o;++u)if(l=a[u]){var f=It(l,e);dr(l,t,n,u,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ie(r,this._parents,t,n)}function vc(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var o={value:a},l={value:function(){--i===0&&s()}};n.each(function(){var u=Kt(this,r),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),u.on=e}),i===0&&s()})}var pc=0;function ie(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ca(){return++pc}var Jt=Tn.prototype;ie.prototype={constructor:ie,select:Gf,selectAll:Kf,selectChild:Jt.selectChild,selectChildren:Jt.selectChildren,filter:qf,merge:Vf,selection:Jf,transition:dc,call:Jt.call,nodes:Jt.nodes,node:Jt.node,size:Jt.size,empty:Jt.empty,each:Jt.each,on:Wf,attr:Cf,attrTween:Ff,style:rc,styleTween:ac,text:uc,textTween:hc,remove:Xf,tween:yf,delay:Rf,duration:Df,ease:Lf,easeVarying:Bf,end:vc,[Symbol.iterator]:Jt[Symbol.iterator]};function _c(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var gc={time:null,delay:0,duration:250,ease:_c};function mc(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function yc(t){var e,n;t instanceof ie?(e=t._id,t=t._name):(e=Ca(),(n=gc).time=vi(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,l,u=0;u<o;++u)(l=a[u])&&dr(l,t,e,u,a,n||mc(l,e));return new ie(r,this._parents,t,e)}Tn.prototype.interrupt=_f;Tn.prototype.transition=yc;function wc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function ka(t,e){return fetch(t,e).then(wc)}function xc(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function bc(){return this.eachAfter(xc)}function Ec(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function Sc(t,e){for(var n=this,r=[n],i,s,a=-1;n=r.pop();)if(t.call(e,n,++a,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function Ac(t,e){for(var n=this,r=[n],i=[],s,a,o,l=-1;n=r.pop();)if(i.push(n),s=n.children)for(a=0,o=s.length;a<o;++a)r.push(s[a]);for(;n=i.pop();)t.call(e,n,++l,this);return this}function Cc(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function kc(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function Tc(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function Mc(t){for(var e=this,n=$c(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function $c(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function Fc(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function Oc(){return Array.from(this)}function Nc(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function Rc(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*Ic(){var t=this,e,n=[t],r,i,s;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function vr(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=Pc)):e===void 0&&(e=Dc);for(var n=new er(t),r,i=[n],s,a,o,l;r=i.pop();)if((a=e(r.data))&&(l=(a=Array.from(a)).length))for(r.children=a,o=l-1;o>=0;--o)i.push(s=a[o]=new er(a[o])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(Hc)}function zc(){return vr(this).eachBefore(Lc)}function Dc(t){return t.children}function Pc(t){return Array.isArray(t)?t[1]:null}function Lc(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function Hc(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function er(t){this.data=t,this.depth=this.height=0,this.parent=null}er.prototype=vr.prototype={constructor:er,count:bc,each:Ec,eachAfter:Ac,eachBefore:Sc,find:Cc,sum:kc,sort:Tc,path:Mc,ancestors:Fc,descendants:Oc,leaves:Nc,links:Rc,copy:zc,[Symbol.iterator]:Ic};function Bc(t){if(typeof t!="function")throw new Error;return t}function fn(){return 0}function cn(t){return function(){return t}}function qc(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Vc(t,e,n,r,i){for(var s=t.children,a,o=-1,l=s.length,u=t.value&&(r-e)/t.value;++o<l;)a=s[o],a.y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*u}function jc(t,e,n,r,i){for(var s=t.children,a,o=-1,l=s.length,u=t.value&&(i-n)/t.value;++o<l;)a=s[o],a.x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*u}var Uc=(1+Math.sqrt(5))/2;function Wc(t,e,n,r,i,s){for(var a=[],o=e.children,l,u,f=0,h=0,c=o.length,d,p,m=e.value,_,w,E,$,M,O,N;f<c;){d=i-n,p=s-r;do _=o[h++].value;while(!_&&h<c);for(w=E=_,O=Math.max(p/d,d/p)/(m*t),N=_*_*O,M=Math.max(E/N,N/w);h<c;++h){if(_+=u=o[h].value,u<w&&(w=u),u>E&&(E=u),N=_*_*O,$=Math.max(E/N,N/w),$>M){_-=u;break}M=$}a.push(l={value:_,dice:d<p,children:o.slice(f,h)}),l.dice?Vc(l,n,r,i,m?r+=p*_/m:s):jc(l,n,r,m?n+=d*_/m:i,s),m-=_,f=h}return a}const Yc=(function t(e){function n(r,i,s,a,o){Wc(e,r,i,s,a,o)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n})(Uc);function Ta(){var t=Yc,e=!1,n=1,r=1,i=[0],s=fn,a=fn,o=fn,l=fn,u=fn;function f(c){return c.x0=c.y0=0,c.x1=n,c.y1=r,c.eachBefore(h),i=[0],e&&c.eachBefore(qc),c}function h(c){var d=i[c.depth],p=c.x0+d,m=c.y0+d,_=c.x1-d,w=c.y1-d;_<p&&(p=_=(p+_)/2),w<m&&(m=w=(m+w)/2),c.x0=p,c.y0=m,c.x1=_,c.y1=w,c.children&&(d=i[c.depth+1]=s(c)/2,p+=u(c)-d,m+=a(c)-d,_-=o(c)-d,w-=l(c)-d,_<p&&(p=_=(p+_)/2),w<m&&(m=w=(m+w)/2),t(c,p,m,_,w))}return f.round=function(c){return arguments.length?(e=!!c,f):e},f.size=function(c){return arguments.length?(n=+c[0],r=+c[1],f):[n,r]},f.tile=function(c){return arguments.length?(t=Bc(c),f):t},f.padding=function(c){return arguments.length?f.paddingInner(c).paddingOuter(c):f.paddingInner()},f.paddingInner=function(c){return arguments.length?(s=typeof c=="function"?c:cn(+c),f):s},f.paddingOuter=function(c){return arguments.length?f.paddingTop(c).paddingRight(c).paddingBottom(c).paddingLeft(c):f.paddingTop()},f.paddingTop=function(c){return arguments.length?(a=typeof c=="function"?c:cn(+c),f):a},f.paddingRight=function(c){return arguments.length?(o=typeof c=="function"?c:cn(+c),f):o},f.paddingBottom=function(c){return arguments.length?(l=typeof c=="function"?c:cn(+c),f):l},f.paddingLeft=function(c){return arguments.length?(u=typeof c=="function"?c:cn(+c),f):u},f}function pn(t,e,n){this.k=t,this.x=e,this.y=n}pn.prototype={constructor:pn,scale:function(t){return t===1?this:new pn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new pn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};pn.prototype;const Gi=30,Tr=500,Mr=800,$r=["#4A90E2","#7B68EE","#50C878","#FF6B6B","#FFA500","#9B59B6","#1ABC9C","#E74C3C"],Ki=60,Zi=30,Ji=40,Qi=40,ts=40,es=60,nr=Ra;function gi(t,e){let n=t+"_categories";if(e[n])return n;if(t.endsWith("s")){const r=t.slice(0,-1)+"_categories";if(e[r])return r}return null}function Pn(t,e){const n=Ke(t),r=pa(n),i=.05,s=1,o=Math.min(e/.1,1),l=Math.pow(o,3);return r.s=s-l*(s-i),r.toString()}function At(t){return t.toLocaleString()}function Xc(t){if(t.length===0)return{};const e={},n=t[0];for(const r of Object.keys(n)){if(r==="id"||r==="user"||r==="agent"||r==="connections")continue;const i=n[r];if(typeof i=="string"&&new Set(t.map(a=>a[r])).size<Gi&&(e[r]="string"),Array.isArray(i)){const s=new Set;if(t.forEach(a=>{Array.isArray(a[r])&&a[r].forEach(o=>s.add(o))}),s.size<Gi){const a=gi(r,n);a&&typeof n[a]=="object"?e[r]="hierarchical":e[r]="array"}}}return e}function Gc(t,e,n="count",r=["spend_30d","users_1d","users_7d","users_30d"]){const i={};for(const[s,a]of Object.entries(e))a==="hierarchical"?i[s]=Kc(t,s,r):a==="string"?(i[s]={},t.forEach(o=>{const l=o[s];i[s][l]||(i[s][l]=nr(),r.forEach(u=>{i[s][l][u]===void 0&&(i[s][l][u]=0)})),i[s][l].count++,r.forEach(u=>{i[s][l][u]+=o[u]||0}),rr(o)&&i[s][l].problematic++})):a==="array"&&(i[s]={},t.forEach(o=>{(o[s]||[]).forEach(u=>{i[s][u]||(i[s][u]=nr(),r.forEach(f=>{i[s][u][f]===void 0&&(i[s][u][f]=0)})),i[s][u].count++,r.forEach(f=>{i[s][u][f]+=o[f]||0}),rr(o)&&i[s][u].problematic++})}));return i}function Kc(t,e,n=["spend_30d","users_1d","users_7d","users_30d"]){if(t.length===0)return{};const r=gi(e,t[0]);if(!r)return console.error(`No hierarchy field found for facet: ${e}`),{};const i={},s=new Set,a={};return t.forEach(o=>{const l=o[r];l&&Object.entries(l).forEach(([u,f])=>{s.add(u),a[u]||(a[u]=new Set),f.forEach(h=>a[u].add(h))})}),s.forEach(o=>{i[o]=Object.assign(nr(),{children:{}}),n.forEach(l=>{i[o][l]===void 0&&(i[o][l]=0)}),a[o]&&a[o].forEach(l=>{i[o].children[l]=nr(),n.forEach(u=>{i[o].children[l][u]===void 0&&(i[o].children[l][u]=0)})})}),t.forEach(o=>{const l=o[r];l&&Object.entries(l).forEach(([u,f])=>{f.forEach(h=>{i[u].children[h].count++,n.forEach(c=>{i[u].children[h][c]+=o[c]||0}),rr(o)&&i[u].children[h].problematic++,i[u].count++,n.forEach(c=>{i[u][c]+=o[c]||0}),rr(o)&&i[u].problematic++})})}),i}function rr(t){return t.status==="warning"}function Zc(t,e,n,r="count"){const s={name:"root",children:Object.entries(t).map(([l,u])=>({name:l,value:u[r]||0,count:u.count,spend_30d:u.spend_30d,users_1d:u.users_1d,users_7d:u.users_7d,users_30d:u.users_30d,problematic:u.problematic}))},a=vr(s).sum(l=>l.value).sort((l,u)=>u.value-l.value);return Ta().size([e,n]).padding(2).round(!0)(a),a.leaves()}function Jc(t,e,n,r="count"){const s={name:"root",children:Object.entries(t).map(([l,u])=>({name:l,count:u.count,spend_30d:u.spend_30d,users_1d:u.users_1d,users_7d:u.users_7d,users_30d:u.users_30d,problematic:u.problematic,isCategory:!0,children:Object.entries(u.children).map(([h,c])=>({name:h,value:c[r]||0,count:c.count,spend_30d:c.spend_30d,users_1d:c.users_1d,users_7d:c.users_7d,users_30d:c.users_30d,problematic:c.problematic,isCategory:!1}))}))},a=vr(s).sum(l=>l.value||0).sort((l,u)=>u.value-l.value);return Ta().size([e,n]).paddingOuter(2).paddingTop(20).paddingInner(2).round(!0)(a),a}const pr=we([]),Xr=we({}),mn=we([]),Gr=we("count"),Kr=we({}),Ln=we(null),Qc=fr([pr],([t])=>{const e=new Map;return t.forEach(n=>{e.set(n.id,n)}),e}),th=fr([pr],([t])=>{const e=new Map;return t.forEach(n=>{e.set(n.id,[])}),t.forEach(n=>{n.connections&&Array.isArray(n.connections)&&n.connections.forEach(r=>{const i=e.get(r);i&&i.push(n.id)})}),e}),eh=fr([pr,mn],([t,e])=>e.length===0?t:t.filter(n=>e.every(r=>{const{facetName:i,facetValue:s,facetType:a}=r;if(a==="string")return n[i]===s;if(a==="array"||a==="hierarchical"){if(a==="hierarchical"){const l=gi(i,n);if(l){const u=n[l];if(u&&typeof u=="object"&&u[s])return!0}}return(n[i]||[]).includes(s)}return!0})));var nh=I('<span class="filter-chip svelte-1e87otd"> <button class="remove-filter svelte-1e87otd">Ã</button></span>'),rh=I('<div class="filter-notice svelte-1e87otd"><strong class="svelte-1e87otd">Filtered by:</strong> <!> <button class="clear-all svelte-1e87otd">Clear All</button></div>');function ih(t,e){tn(e,!1);const n=()=>Ot(mn,"$activeFilters",r),[r,i]=kn();function s(f){mn.update(h=>h.filter((c,d)=>d!==f))}function a(){mn.set([])}Cn();var o=Se(),l=ce(o);{var u=f=>{var h=rh(),c=H(C(h),2);qt(c,1,n,te,(p,m,_)=>{var w=nh(),E=C(w),$=H(E);V(()=>j(E,`${v(m).facetName??""} = "${v(m).facetValue??""}" `)),pe("click",$,()=>s(_)),T(p,w)});var d=H(c,2);pe("click",d,a),T(f,h)};et(l,f=>{n().length>0&&f(u)})}T(t,o),en(),i()}var sh=I('<label class="size-toggle-option svelte-1kjcpjp"><input type="radio" name="sizeMetric" class="svelte-1kjcpjp"/> <span class="svelte-1kjcpjp"> </span></label>'),ah=I('<div class="size-toggle svelte-1kjcpjp"><label class="size-toggle-label svelte-1kjcpjp">SIZE BY:</label> <div class="size-toggle-options svelte-1kjcpjp"></div></div>');function oh(t,e){tn(e,!1);const n=()=>Ot(Gr,"$sizeMetric",r),[r,i]=kn(),s=Ft();let a=ve(e,"schema",8,null);function o(f){Gr.set(f)}de(()=>S(a()),()=>{G(s,a()&&a().metrics?[{value:"count",label:"Agent Count"},...a().metrics.map(f=>({value:f,label:f.replace(/_/g," ").replace(/\b\w/g,h=>h.toUpperCase())}))]:[{value:"count",label:"Agent Count"},{value:"spend_30d",label:"Total Spend (30d)"},{value:"users_1d",label:"Total Users (1d)"},{value:"users_7d",label:"Total Users (7d)"},{value:"users_30d",label:"Total Users (30d)"}])}),ur(),Cn();var l=ah(),u=H(C(l),2);qt(u,5,()=>v(s),te,(f,h)=>{var c=sh(),d=C(c),p=H(d,2),m=C(p);V(()=>{Ko(d,(v(h),A(()=>v(h).value))),Zo(d,(n(),v(h),A(()=>n()===v(h).value))),j(m,(v(h),A(()=>v(h).label)))}),pe("change",d,()=>o(v(h).value)),T(f,c)}),T(t,l),en(),i()}var lh=I('<div class="facet-group svelte-1ags5i1"><div class="facet-title svelte-1ags5i1"> </div> <svg class="treemap-svg svelte-1ags5i1"></svg></div>');function uh(t,e){tn(e,!1);const n=()=>Ot(Kr,"$highlightedValues",r),[r,i]=kn();let s=ve(e,"facetName",8),a=ve(e,"facetStats",8),o=ve(e,"facetType",8),l=ve(e,"color",8),u=ve(e,"sizeMetric",8,"count"),f=Ft(),h=!1;function c(O){mn.update(N=>N.some(P=>P.facetName===s()&&P.facetValue===O)?N:[...N,{facetName:s(),facetValue:O,facetType:o()}])}function d(O){let N=O.target;if(N.tagName==="rect"){const z=N.getAttribute("data-facet-value");z&&c(z)}}function p(){o()==="hierarchical"?_():m()}function m(){if(!v(f)||!a())return;const O=Zc(a(),Mr,Tr,u()),N=Ar(v(f)),z=!h||O.length===0;O.length>0&&(h=!0);const P=n()[s()]||{direct:[],transitive:[]},q=y=>P.direct&&P.direct.includes(y),vt=y=>P.transitive&&P.transitive.includes(y),k=N.selectAll("g").data(O,y=>y.data.name).join(y=>{const g=y.append("g").attr("transform",x=>`translate(${x.x0},${x.y0})`).style("opacity",z?1:0);return g.append("title"),g.append("rect").attr("class",x=>q(x.data.name)?"highlighted-direct":vt(x.data.name)?"highlighted-transitive":"").attr("width",x=>x.x1-x.x0).attr("height",x=>x.y1-x.y0).attr("fill",x=>{const b=x.data.count>0?x.data.problematic/x.data.count:0;return Pn(l(),b)}).attr("fill-opacity",.7).attr("stroke","rgba(0,0,0,0.2)").attr("stroke-width",1).attr("data-facet-value",x=>x.data.name).style("cursor","pointer"),g.append("text").attr("class","treemap-label").attr("x",5).attr("y",15),g.append("text").attr("class","treemap-count").attr("text-anchor","middle"),g.append("text").attr("class","treemap-problematic").attr("text-anchor","middle"),z?g:g.transition().duration(500).style("opacity",1)},y=>(y.transition().duration(500).attr("transform",g=>`translate(${g.x0},${g.y0})`),y.select("rect").attr("class",g=>q(g.data.name)?"highlighted-direct":vt(g.data.name)?"highlighted-transitive":"").transition().duration(500).attr("width",g=>g.x1-g.x0).attr("height",g=>g.y1-g.y0).attr("fill",g=>{const x=g.data.count>0?g.data.problematic/g.data.count:0;return Pn(l(),x)}),y),y=>y.transition().duration(500).style("opacity",0).remove());k.select("title").text(y=>`${y.data.name}
Count: ${At(y.data.count)}${y.data.problematic>0?`
Problematic: ${At(y.data.problematic)}`:""}`),k.select(".treemap-label").text(y=>y.x1-y.x0>Ki&&y.y1-y.y0>Zi?y.data.name:"").transition().duration(500).attr("x",5).attr("y",15),k.select(".treemap-count").text(y=>{if(y.x1-y.x0<=Ji||y.y1-y.y0<=Qi)return"";const g=y.data[u()]||0;return u()==="spend_30d"?`$${At(Math.round(g))}`:At(g)}).transition().duration(500).attr("x",y=>(y.x1-y.x0)/2).attr("y",y=>(y.y1-y.y0)/2),k.select(".treemap-problematic").text(y=>y.data.problematic>0&&y.x1-y.x0>ts&&y.y1-y.y0>es?`â  ${At(y.data.problematic)}`:"").transition().duration(500).attr("x",y=>(y.x1-y.x0)/2).attr("y",y=>(y.y1-y.y0)/2+20)}function _(){if(!v(f)||!a())return;if(Object.keys(a()).length===0){Ar(v(f)).selectAll("*").remove(),h=!1;return}const O=Jc(a(),Mr,Tr,u()),N=Ar(v(f)),z=O.descendants().filter(g=>g.depth>0),P=!h||z.length===0;z.length>0&&(h=!0);const q=n()[s()]||{direct:[],transitive:[]},vt=g=>q.direct&&q.direct.includes(g),k=g=>q.transitive&&q.transitive.includes(g),y=N.selectAll("g.node").data(z,g=>g.data.name).join(g=>{const x=g.append("g").attr("class",b=>`node ${b.data.isCategory?"category":"leaf"}`).attr("transform",b=>`translate(${b.x0},${b.y0})`).style("opacity",P?1:0);return x.append("title"),x.append("rect").attr("class",b=>{const Y=[b.data.isCategory?"category-rect":"leaf-rect"];return b.data.isCategory||(vt(b.data.name)?Y.push("highlighted-direct"):k(b.data.name)&&Y.push("highlighted-transitive")),Y.join(" ")}).attr("width",b=>b.x1-b.x0).attr("height",b=>b.y1-b.y0).attr("fill",b=>{if(b.data.isCategory)return"transparent";const Y=b.data.count>0?b.data.problematic/b.data.count:0;return Pn(l(),Y)}).attr("fill-opacity",b=>b.data.isCategory?0:.7).attr("stroke",b=>b.data.isCategory?l():"rgba(0,0,0,0.2)").attr("stroke-width",b=>b.data.isCategory?2:1).attr("data-facet-value",b=>b.data.name).style("cursor","pointer"),x.append("text").attr("class",b=>b.data.isCategory?"treemap-category-label":"treemap-label").attr("x",5).attr("y",b=>(b.data.isCategory,15)),x.append("text").attr("class","treemap-count").attr("text-anchor","middle"),x.append("text").attr("class","treemap-problematic").attr("text-anchor","middle"),P?x:x.transition().duration(500).style("opacity",1)},g=>(g.transition().duration(500).attr("transform",x=>`translate(${x.x0},${x.y0})`),g.select("rect").attr("class",x=>{const b=[x.data.isCategory?"category-rect":"leaf-rect"];return x.data.isCategory||(vt(x.data.name)?b.push("highlighted-direct"):k(x.data.name)&&b.push("highlighted-transitive")),b.join(" ")}).transition().duration(500).attr("width",x=>x.x1-x.x0).attr("height",x=>x.y1-x.y0).attr("fill",x=>{if(x.data.isCategory)return"transparent";const b=x.data.count>0?x.data.problematic/x.data.count:0;return Pn(l(),b)}),g),g=>g.transition().duration(500).style("opacity",0).remove());y.select("title").text(g=>{const x=g.data.isCategory?"Category":"Permission";return`${g.data.name}
${x}
Count: ${At(g.data.count)}${g.data.problematic>0?`
Problematic: ${At(g.data.problematic)}`:""}`}),y.select(".treemap-category-label, .treemap-label").text(g=>{const x=g.x1-g.x0,b=g.y1-g.y0;return x>Ki&&b>Zi?g.data.name:""}).transition().duration(500).attr("x",5).attr("y",g=>(g.data.isCategory,15)),y.select(".treemap-count").text(g=>{if(g.data.isCategory||g.x1-g.x0<=Ji||g.y1-g.y0<=Qi)return"";const x=g.data[u()]||0;return u()==="spend_30d"?`$${At(Math.round(x))}`:At(x)}).transition().duration(500).attr("x",g=>(g.x1-g.x0)/2).attr("y",g=>(g.y1-g.y0)/2),y.select(".treemap-problematic").text(g=>g.data.isCategory?"":g.data.problematic>0&&g.x1-g.x0>ts&&g.y1-g.y0>es?`â  ${At(g.data.problematic)}`:"").transition().duration(500).attr("x",g=>(g.x1-g.x0)/2).attr("y",g=>(g.y1-g.y0)/2+20)}Js(p),rl(p),de(()=>n(),()=>{n()&&p()}),ur(),Cn();var w=lh(),E=C(w),$=C(E),M=H(E,2);Zs(M,O=>G(f,O),()=>v(f)),V(O=>{j($,O),Lr(M,"width",Mr),Lr(M,"height",Tr)},[()=>(S(s()),A(()=>s().toUpperCase()))]),pe("click",M,d),T(t,w),en(),i()}function Pe(t,e,n){let r=n.initialDeps??[],i;function s(){var a,o,l,u;let f;n.key&&((a=n.debug)!=null&&a.call(n))&&(f=Date.now());const h=t();if(!(h.length!==r.length||h.some((p,m)=>r[m]!==p)))return i;r=h;let d;if(n.key&&((o=n.debug)!=null&&o.call(n))&&(d=Date.now()),i=e(...h),n.key&&((l=n.debug)!=null&&l.call(n))){const p=Math.round((Date.now()-f)*100)/100,m=Math.round((Date.now()-d)*100)/100,_=m/16,w=(E,$)=>{for(E=String(E);E.length<$;)E=" "+E;return E};console.info(`%câ± ${w(m,5)} /${w(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*_,120))}deg 100% 31%);`,n?.key)}return(u=n?.onChange)==null||u.call(n,i),i}return s.updateDeps=a=>{r=a},s}function ns(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const fh=(t,e)=>Math.abs(t-e)<1.01,ch=(t,e,n)=>{let r;return function(...i){t.clearTimeout(r),r=t.setTimeout(()=>e.apply(this,i),n)}},rs=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},hh=t=>t,dh=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let i=e;i<=n;i++)r.push(i);return r},vh=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;const i=a=>{const{width:o,height:l}=a;e({width:Math.round(o),height:Math.round(l)})};if(i(rs(n)),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(a=>{const o=()=>{const l=a[0];if(l?.borderBoxSize){const u=l.borderBoxSize[0];if(u){i({width:u.inlineSize,height:u.blockSize});return}}i(rs(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},is={passive:!0},ss=typeof window>"u"?!0:"onscrollend"in window,ph=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;let i=0;const s=t.options.useScrollendEvent&&ss?()=>{}:ch(r,()=>{e(i,!1)},t.options.isScrollingResetDelay),a=f=>()=>{const{horizontal:h,isRtl:c}=t.options;i=h?n.scrollLeft*(c&&-1||1):n.scrollTop,s(),e(i,f)},o=a(!0),l=a(!1);l(),n.addEventListener("scroll",o,is);const u=t.options.useScrollendEvent&&ss;return u&&n.addEventListener("scrollend",l,is),()=>{n.removeEventListener("scroll",o),u&&n.removeEventListener("scrollend",l)}},_h=(t,e,n)=>{if(e?.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},gh=(t,{adjustments:e=0,behavior:n},r)=>{var i,s;const a=t+e;(s=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[r.options.horizontal?"left":"top"]:a,behavior:n})};class mh{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{const a=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var s;return(s=r())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=r())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:hh,rangeExtractor:dh,onChange:()=>{},measureElement:_h,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=Pe(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,s=new Map;for(let a=r-1;a>=0;a--){const o=n[a];if(i.has(o.lane))continue;const l=s.get(o.lane);if(l==null||o.end>l.end?s.set(o.lane,o):o.end<l.end&&i.set(o.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((a,o)=>a.end===o.end?a.index-o.index:a.end-o.end)[0]:void 0},this.getMeasurementOptions=Pe(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,s,a)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:a}),{key:!1}),this.getMeasurements=Pe(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:a},o)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,l);for(let f=l;f<n;f++){const h=s(f),c=this.options.lanes===1?u[f-1]:this.getFurthestMeasurement(u,f),d=c?c.end+this.options.gap:r+i,p=o.get(h),m=typeof p=="number"?p:this.options.estimateSize(f),_=d+m,w=c?c.lane:f%this.options.lanes;u[f]={index:f,start:d,size:m,end:_,key:h,lane:w}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Pe(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,s)=>this.range=n.length>0&&r>0?yh({measurements:n,outerSize:r,scrollOffset:i,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Pe(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,s,a)=>s===null||a===null?[]:n({startIndex:s,endIndex:a,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),s=this.measurementsCache[i];if(!s)return;const a=s.key,o=this.elementsCache.get(a);o!==n&&(o&&this.observer.unobserve(o),this.observer.observe(n),this.elementsCache.set(a,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,a=r-s;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,a,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=Pe(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let s=0,a=n.length;s<a;s++){const o=n[s],l=r[o];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return ns(r[Ma(0,r.length-1,i=>ns(r[i]).start,n)])},this.getOffsetForAlignment=(n,r,i=0)=>{const s=this.getSize(),a=this.getScrollOffset();r==="auto"&&(r=n>=a+s?"end":"start"),r==="center"?n+=(i-s)/2:r==="end"&&(n-=s);const o=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(o,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const s=this.getSize(),a=this.getScrollOffset();if(r==="auto")if(i.end>=a+s-this.options.scrollPaddingEnd)r="end";else if(i.start<=a+this.options.scrollPaddingStart)r="start";else return[a,r];const o=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let s=0;const a=10,o=u=>{if(!this.targetWindow)return;const f=this.getOffsetForIndex(n,u);if(!f){console.warn("Failed to get offset for index:",n);return}const[h,c]=f;this._scrollToOffset(h,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const d=this.getScrollOffset(),p=this.getOffsetForIndex(n,c);if(!p){console.warn("Failed to get offset for index:",n);return}fh(p[0],d)||l(c)})},l=u=>{this.targetWindow&&(s++,s<a?this.targetWindow.requestAnimationFrame(()=>o(u)):console.warn(`Failed to scroll to index ${n} after ${a} attempts.`))};o(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=r[r.length-1])==null?void 0:n.end)??0;else{const s=Array(this.options.lanes).fill(null);let a=r.length-1;for(;a>=0&&s.some(o=>o===null);){const o=r[a];s[o.lane]===null&&(s[o.lane]=o.end),a--}i=Math.max(...s.filter(o=>o!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const Ma=(t,e,n,r)=>{for(;t<=e;){const i=(t+e)/2|0,s=n(i);if(s<r)t=i+1;else if(s>r)e=i-1;else return i}return t>0?t-1:0};function yh({measurements:t,outerSize:e,scrollOffset:n,lanes:r}){const i=t.length-1,s=l=>t[l].start;if(t.length<=r)return{startIndex:0,endIndex:i};let a=Ma(0,i,s,n),o=a;if(r===1)for(;o<i&&t[o].end<n+e;)o++;else if(r>1){const l=Array(r).fill(0);for(;o<i&&l.some(f=>f<n+e);){const f=t[o];l[f.lane]=f.end,o++}const u=Array(r).fill(n+e);for(;a>=0&&u.some(f=>f>=n);){const f=t[a];u[f.lane]=f.start,a--}a=Math.max(0,a-a%r),o=Math.min(i,o+(r-1-o%r))}return{startIndex:a,endIndex:o}}function wh(t){const e=new mh(t),n=e.setOptions;let r;const i=s=>{const a={...e.options,...s,onChange:s.onChange};n({...a,onChange:(o,l)=>{r.set(o),a.onChange?.(o,l)}}),e._willUpdate()};return r=we(e,()=>(i(t),e._didMount())),fr(r,s=>Object.assign(s,{setOptions:i}))}function xh(t){return wh({observeElementRect:vh,observeElementOffset:ph,scrollToFn:gh,...t})}async function bh(){try{const t=await ka("../data.config.json");return console.log("â Loaded config from data.config.json"),t}catch{return console.warn("No config file found, using auto-detection"),null}}function Eh(t,e){if(e)return console.log("â Using explicit config from data.config.json"),e;console.warn("â  No config file found - using auto-detection heuristics"),console.warn("  For better control, create a data.config.json file");const n=t[0]||{},r=Object.keys(n),i={version:"1.0-auto",roles:{titleField:Sh(n),idField:Ah(r),warningField:Ch(r),warningValue:"warning",connectionField:kh(n),connectionSecondaryField:null},fieldOrder:r.filter(s=>Th(s,n)),excludeFromDisplay:[]};return console.log("Auto-detected schema:",{titleField:i.roles.titleField,idField:i.roles.idField,warningField:i.roles.warningField,connectionField:i.roles.connectionField}),i}function Sh(t){const e=["name","title","agent","label"];for(const r of e)if(r in t)return r;for(const[r,i]of Object.entries(t))if(typeof i=="string")return console.warn(`  Using "${r}" as title field (first string field found)`),r;const n=Object.keys(t)[0];return console.warn(`  Using "${n}" as title field (first field in record)`),n}function Ah(t){return t.includes("id")?"id":t[0]}function Ch(t){return t.includes("status")?"status":null}function kh(t){for(const[e,n]of Object.entries(t))if(Array.isArray(n)&&n.length>0&&typeof n[0]=="number")return e;return console.warn("  No connection field found (expected array of numbers)"),null}function Th(t,e){const n=e[t];return t!=="_internal"&&n!==void 0}function Ht(t){return t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}function St(t,e){return t[e]}function fe(t,e){return e.roles.warningField?t[e.roles.warningField]===e.roles.warningValue:!1}function Fr(t,e){const n=e.roles.connectionField;return!n||!t[n]?null:{ids:t[n],secondaryField:e.roles.connectionSecondaryField}}function as(t){return t.fieldOrder.filter(e=>!t.excludeFromDisplay.includes(e))}function os(t,e){return Array.isArray(t[e])}function ls(t,e){const n=t[e];return n!==null&&typeof n=="object"&&!Array.isArray(n)}var Mh=I('<span class="detail-item-warning svelte-ti8i33">â  WARNING</span>'),$h=I('<span class="connection-platform svelte-ti8i33"> </span>'),Fh=I('<span class="connection-warning svelte-ti8i33">â </span>'),Oh=I('<button title="Click to highlight and scroll to this record"><div class="connection-agent svelte-ti8i33"> </div> <div class="connection-details svelte-ti8i33"><!> <!></div></button>'),Nh=I('<span class="connection-item-missing svelte-ti8i33" title="Record not found"> </span>'),Rh=I('<div class="detail-item-field svelte-ti8i33"><strong class="svelte-ti8i33"> </strong> <div class="connections-list svelte-ti8i33"></div></div>'),Ih=I('<span class="permission-badge svelte-ti8i33"> </span>'),zh=I('<div class="detail-item-field svelte-ti8i33"><strong class="svelte-ti8i33"> </strong> <div class="detail-item-permissions svelte-ti8i33"></div></div>'),Dh=I('<span class="permission-badge small svelte-ti8i33"> </span>'),Ph=I('<div class="object-field-value svelte-ti8i33"></div>'),Lh=I('<span class="object-field-value svelte-ti8i33"> </span>'),Hh=I('<div class="object-field-item svelte-ti8i33"><span class="object-field-key svelte-ti8i33"> </span> <!></div>'),Bh=I('<div class="detail-item-field svelte-ti8i33"><strong class="svelte-ti8i33"> </strong> <div class="object-field svelte-ti8i33"></div></div>'),qh=I('<div class="detail-item-field svelte-ti8i33"><strong class="svelte-ti8i33"> </strong> </div>'),Vh=I('<span class="connection-platform svelte-ti8i33"> </span>'),jh=I('<span class="connection-warning svelte-ti8i33">â </span>'),Uh=I('<button title="Click to highlight and scroll to this record"><div class="connection-agent svelte-ti8i33"> </div> <div class="connection-details svelte-ti8i33"><!> <!></div></button>'),Wh=I('<span class="connection-item-missing svelte-ti8i33" title="Record not found"> </span>'),Yh=I('<div class="detail-item-field svelte-ti8i33"><strong class="svelte-ti8i33"> </strong> <div class="connections-list svelte-ti8i33"></div></div>'),Xh=I('<div><div class="detail-item-header svelte-ti8i33"><span> </span> <!></div> <!> <!></div>'),Gh=I("<div></div>"),Kh=I('<div class="detail-panel svelte-ti8i33"><h2 class="svelte-ti8i33"> </h2> <div class="detail-list svelte-ti8i33"><!></div></div>');function Zh(t,e){tn(e,!1);const n=()=>Ot(v(f),"$virtualizer",o),r=()=>Ot(Xr,"$facetTypes",o),i=()=>Ot(Qc,"$recordLookup",o),s=()=>Ot(Ln,"$highlightedRecordId",o),a=()=>Ot(th,"$backlinksMap",o),[o,l]=kn(),u=Ft(),f=Ft(),h=Ft(),c=Ft();let d=ve(e,"data",8),p=ve(e,"schema",8),m=Ft(),_=new Map;function w(k,y){const{recordId:g,virtualItem:x}=y;return _.set(g,k),v(f)&&requestAnimationFrame(()=>{k.isConnected&&n().measureElement(k)}),{destroy(){_.delete(g)}}}function E(k){const y={},g=r();Object.keys(g).forEach(rt=>{y[rt]={direct:[],transitive:[]}});const x=new Set([k.id]),b=[k.id],Y=[];for(;b.length>0;){const rt=b.shift(),X=i().get(rt);if(X){const it=Fr(X,p());it&&it.ids&&it.ids.forEach(xt=>{if(!x.has(xt)){x.add(xt),b.push(xt);const oe=i().get(xt);oe&&Y.push(oe)}})}}Object.keys(g).forEach(rt=>{const X=g[rt];if(X==="string"){const it=k[rt];it&&y[rt].direct.push(it)}else if(X==="array"||X==="hierarchical"){const it=k[rt]||[];y[rt].direct.push(...it)}}),Y.forEach(rt=>{Object.keys(g).forEach(X=>{const it=g[X];if(it==="string"){const xt=rt[X];xt&&!y[X].transitive.includes(xt)&&!y[X].direct.includes(xt)&&y[X].transitive.push(xt)}else(it==="array"||it==="hierarchical")&&(rt[X]||[]).forEach(oe=>{!y[X].transitive.includes(oe)&&!y[X].direct.includes(oe)&&y[X].transitive.push(oe)})})}),Kr.set(y)}function $(){Kr.set({})}async function M(k){Ln.set(k);const y=d().findIndex(g=>g.id===k);y>=0?(v(f)&&n().scrollToIndex(y,{align:"center",behavior:"auto"}),await Ai(),requestAnimationFrame(()=>{requestAnimationFrame(()=>{setTimeout(()=>{Ln.set(null)},2e3)})})):(alert("Connected record is not in the current filtered view. Try adjusting your filters."),Ln.set(null))}de(()=>(S(d()),v(m)),()=>{G(u,{count:d().length,getScrollElement:()=>v(m),estimateSize:()=>280,overscan:5,measureElement:k=>k?.getBoundingClientRect().height})}),de(()=>(v(m),v(u)),()=>{el(G(f,v(m)?xh(v(u)):null),"$virtualizer",o)}),de(()=>(v(f),S(d()),n()),()=>{v(f)&&d()&&Ai().then(()=>{requestAnimationFrame(()=>{_.forEach(k=>{k?.isConnected&&n().measureElement(k)})})})}),de(()=>(S(p()),as),()=>{G(h,p()?as(p()):[])}),de(()=>S(p()),()=>{G(c,p()?p().roles.titleField:"agent")}),ur(),Cn();var O=Kh(),N=C(O),z=C(N),P=H(N,2),q=C(P);{var vt=k=>{var y=Gh();qt(y,5,()=>(n(),A(()=>n().getVirtualItems())),g=>g.key,(g,x)=>{const b=Vt(()=>(S(d()),v(x),A(()=>d()[v(x).index])));var Y=Xh();let rt;var X=C(Y),it=C(X),xt=C(it),oe=H(it,2);{var $a=pt=>{var L=Mh();T(pt,L)};et(oe,pt=>{S(fe),S(v(b)),S(p()),A(()=>fe(v(b),p()))&&pt($a)})}var mi=H(X,2);qt(mi,1,()=>v(h),te,(pt,L)=>{const xe=Vt(()=>(S(St),S(v(b)),v(L),A(()=>St(v(b),v(L)))));var sn=Se(),_r=ce(sn);{var gr=Mt=>{const B=Vt(()=>(S(Fr),S(v(b)),S(p()),A(()=>Fr(v(b),p()))));var be=Se(),an=ce(be);{var on=bt=>{var st=Rh(),at=C(st),zt=C(at),le=H(at,2);qt(le,5,()=>(S(v(B)),A(()=>v(B).ids)),te,(Q,ut)=>{const W=Vt(()=>(i(),v(ut),A(()=>i().get(v(ut)))));var Dt=Se(),Ee=ce(Dt);{var Zt=tt=>{var Et=Oh();let $t;var ln=C(Et),$n=C(ln),yr=H(ln,2),Fn=C(yr);{var wr=ot=>{var Lt=$h(),br=C(Lt);V(On=>j(br,On),[()=>(S(St),S(v(W)),S(v(B)),A(()=>St(v(W),v(B).secondaryField)))]),T(ot,Lt)};et(Fn,ot=>{S(v(B)),A(()=>v(B).secondaryField)&&ot(wr)})}var xr=H(Fn,2);{var Pt=ot=>{var Lt=Fh();T(ot,Lt)};et(xr,ot=>{S(fe),S(v(W)),S(p()),A(()=>fe(v(W),p()))&&ot(Pt)})}V((ot,Lt)=>{$t=Sr(Et,1,"connection-item svelte-ti8i33",null,$t,ot),j($n,Lt)},[()=>({warning:fe(v(W),p())}),()=>(S(St),S(v(W)),v(c),A(()=>St(v(W),v(c))))]),pe("click",Et,()=>M(v(ut))),T(tt,Et)},_t=tt=>{var Et=Nh(),$t=C(Et);V(()=>j($t,`ID ${v(ut)??""} (not found)`)),T(tt,Et)};et(Ee,tt=>{v(W)?tt(Zt):tt(_t,!1)})}T(Q,Dt)}),V(Q=>j(zt,`${Q??""} (${S(v(B)),A(()=>v(B).ids.length)??""}):`),[()=>(S(Ht),v(L),A(()=>Ht(v(L))))]),T(bt,st)};et(an,bt=>{S(v(B)),A(()=>v(B)&&v(B).ids.length>0)&&bt(on)})}T(Mt,be)},mr=Mt=>{var B=Se(),be=ce(B);{var an=bt=>{var st=zh(),at=C(st),zt=C(at),le=H(at,2);qt(le,5,()=>v(xe),te,(Q,ut)=>{var W=Ih(),Dt=C(W);V(()=>j(Dt,v(ut))),T(Q,W)}),V(Q=>j(zt,`${Q??""}:`),[()=>(S(Ht),v(L),A(()=>Ht(v(L))))]),T(bt,st)},on=bt=>{var st=Se(),at=ce(st);{var zt=Q=>{var ut=Bh(),W=C(ut),Dt=C(W),Ee=H(W,2);qt(Ee,5,()=>(S(v(xe)),A(()=>Object.entries(v(xe)))),te,(Zt,_t)=>{var tt=ks(()=>ds(v(_t),2));let Et=()=>v(tt)[0],$t=()=>v(tt)[1];var ln=Hh(),$n=C(ln),yr=C($n),Fn=H($n,2);{var wr=Pt=>{var ot=Ph();qt(ot,5,$t,te,(Lt,br)=>{var On=Dh(),Na=C(On);V(()=>j(Na,v(br))),T(Lt,On)}),T(Pt,ot)},xr=Pt=>{var ot=Lh(),Lt=C(ot);V(()=>j(Lt,$t())),T(Pt,ot)};et(Fn,Pt=>{$t(),A(()=>Array.isArray($t()))?Pt(wr):Pt(xr,!1)})}V(Pt=>j(yr,`${Pt??""}:`),[()=>(S(Ht),Et(),A(()=>Ht(Et())))]),T(Zt,ln)}),V(Zt=>j(Dt,`${Zt??""}:`),[()=>(S(Ht),v(L),A(()=>Ht(v(L))))]),T(Q,ut)},le=Q=>{var ut=qh(),W=C(ut),Dt=C(W),Ee=H(W);V(Zt=>{j(Dt,`${Zt??""}:`),j(Ee,` ${v(xe)??""}`)},[()=>(S(Ht),v(L),A(()=>Ht(v(L))))]),T(Q,ut)};et(at,Q=>{S(ls),S(v(b)),v(L),A(()=>ls(v(b),v(L)))?Q(zt):Q(le,!1)},!0)}T(bt,st)};et(be,bt=>{S(os),S(v(b)),v(L),A(()=>os(v(b),v(L)))?bt(an):bt(on,!1)},!0)}T(Mt,B)};et(_r,Mt=>{v(L),S(p()),A(()=>v(L)===p().roles.connectionField)?Mt(gr):Mt(mr,!1)})}T(pt,sn)});var Fa=H(mi,2);{var Oa=pt=>{const L=Vt(()=>(a(),S(v(b)),A(()=>a().get(v(b).id)||[])));var xe=Yh(),sn=C(xe),_r=C(sn),gr=H(sn,2);qt(gr,5,()=>v(L),te,(mr,Mt)=>{const B=Vt(()=>(i(),v(Mt),A(()=>i().get(v(Mt)))));var be=Se(),an=ce(be);{var on=st=>{var at=Uh();let zt;var le=C(at),Q=C(le),ut=H(le,2),W=C(ut);{var Dt=_t=>{var tt=Vh(),Et=C(tt);V($t=>j(Et,$t),[()=>(S(St),S(v(B)),S(p()),A(()=>St(v(B),p().roles.connectionSecondaryField)))]),T(_t,tt)};et(W,_t=>{S(p()),A(()=>p().roles.connectionSecondaryField)&&_t(Dt)})}var Ee=H(W,2);{var Zt=_t=>{var tt=jh();T(_t,tt)};et(Ee,_t=>{S(fe),S(v(B)),S(p()),A(()=>fe(v(B),p()))&&_t(Zt)})}V((_t,tt)=>{zt=Sr(at,1,"connection-item svelte-ti8i33",null,zt,_t),j(Q,tt)},[()=>({warning:fe(v(B),p())}),()=>(S(St),S(v(B)),v(c),A(()=>St(v(B),v(c))))]),pe("click",at,()=>M(v(Mt))),T(st,at)},bt=st=>{var at=Wh(),zt=C(at);V(()=>j(zt,`ID ${v(Mt)??""} (not found)`)),T(st,at)};et(an,st=>{v(B)?st(on):st(bt,!1)})}T(mr,be)}),V(()=>j(_r,`Connects to this (${S(v(L)),A(()=>v(L).length)??""}):`)),T(pt,xe)};et(Fa,pt=>{a(),S(v(b)),A(()=>(a().get(v(b).id)||[]).length>0)&&pt(Oa)})}Uo(Y,(pt,L)=>w?.(pt,L),()=>({recordId:v(b).id,virtualItem:v(x)})),Wn(()=>pe("mouseenter",Y,()=>E(v(b)))),Wn(()=>pe("mouseleave",Y,$)),V(pt=>{rt=Sr(Y,1,"detail-item svelte-ti8i33",null,rt,{highlighted:s()===v(b).id}),Mi(Y,`position: absolute; top: 0; left: 0; width: 100%; transform: translateY(${v(x),A(()=>v(x).start)??""}px);`),Lr(Y,"data-index",(v(x),A(()=>v(x).index))),j(xt,pt)},[()=>(S(St),S(v(b)),v(c),A(()=>St(v(b),v(c))))]),T(g,Y)}),V(g=>Mi(y,`height: ${g??""}px; width: 100%; position: relative;`),[()=>(n(),A(()=>n().getTotalSize()))]),T(k,y)};et(q,k=>{v(f)&&k(vt)})}Zs(P,k=>G(m,k),()=>v(m)),V(k=>j(z,`Matching Records (${k??""})`),[()=>(S(At),S(d()),A(()=>At(d().length)))]),T(t,O),en(),l()}var Jh=I('<div id="visualization" class="svelte-2jhczl"></div> <!>',1),Qh=I("<p>Loading...</p>"),td=I('<div id="container" class="svelte-2jhczl"><h1 class="svelte-2jhczl">Hierarchical Faceted Browser</h1> <!> <!> <div id="main-content" class="svelte-2jhczl"><!></div></div>');function ed(t,e){tn(e,!1);const n=()=>Ot(Xr,"$facetTypes",s),r=()=>Ot(eh,"$filteredData",s),i=()=>Ot(Gr,"$sizeMetric",s),[s,a]=kn();let o=Ft({}),l=Ft(null);Js(async()=>{try{const _=await bh(),w=await ka("../data.json");w.forEach($=>{$.connections&&$.connections.length>0?$.connection_status="Connected":$.connection_status="Isolated"}),pr.set(w),G(l,Eh(w,_)),console.log("Schema loaded:",v(l));const E=Xc(w);Xr.set(E)}catch(_){console.error("Error loading data:",_)}}),de(()=>(n(),v(l),r(),i()),()=>{if(Object.keys(n()).length>0){const _=v(l)&&v(l).metrics?v(l).metrics:["spend_30d","users_1d","users_7d","users_30d"];G(o,Gc(r(),n(),i(),_))}}),ur(),Cn();var u=td(),f=H(C(u),2);ih(f,{});var h=H(f,2);oh(h,{get schema(){return v(l)}});var c=H(h,2),d=C(c);{var p=_=>{var w=Jh(),E=ce(w);qt(E,5,()=>(n(),A(()=>Object.entries(n()))),te,(M,O,N)=>{var z=ks(()=>ds(v(O),2));let P=()=>v(z)[0],q=()=>v(z)[1];{let vt=Vt(()=>(v(o),P(),A(()=>v(o)[P()]||{})));uh(M,{get facetName(){return P()},get facetStats(){return v(vt)},get facetType(){return q()},get color(){return S($r),A(()=>$r[N%$r.length])},get sizeMetric(){return i()}})}});var $=H(E,2);Zh($,{get data(){return r()},get schema(){return v(l)}}),T(_,w)},m=_=>{var w=Qh();T(_,w)};et(d,_=>{v(l)?_(p):_(m,!1)})}T(t,u),en(),a()}Po(ed,{target:document.getElementById("app")});

import"./modulepreload-polyfill-B5Qt9EMX.js";const $r=!1;var ls=Array.isArray,Na=Array.prototype.indexOf,Gr=Array.from,us=Object.defineProperty,Be=Object.getOwnPropertyDescriptor,fs=Object.getOwnPropertyDescriptors,Ra=Object.prototype,Ia=Array.prototype,Kr=Object.getPrototypeOf,mi=Object.isExtensible;const ee=()=>{};function za(t){return t()}function Vn(t){for(var e=0;e<t.length;e++)t[e]()}function cs(){var t,e,n=new Promise((r,i)=>{t=r,e=i});return{promise:n,resolve:t,reject:e}}function hs(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const n=[];for(const r of t)if(n.push(r),n.length===e)break;return n}const J=2,Zr=4,rr=8,se=16,ae=32,Re=64,ir=128,Nt=512,K=1024,dt=2048,Xt=4096,yt=8192,ne=16384,Jr=32768,je=65536,yi=1<<17,ds=1<<18,Je=1<<19,vs=1<<20,$e=32768,Fr=1<<21,Qr=1<<22,ve=1<<23,ke=Symbol("$state"),Da=Symbol("legacy props"),Pa=Symbol(""),Le=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ps(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function La(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ha(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ba(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function qa(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Va(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ja(t){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function Ua(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Wa(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ya(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Xa(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ga(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const _s=1,gs=2,ms=4,Ka=8,Za=16,Ja=2,Qa=4,to=8,eo=1,no=2,nt=Symbol(),ro="http://www.w3.org/1999/xhtml";function io(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function ys(t){return t===this.v}function ti(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function ws(t){return!ti(t,this.v)}let Qe=!1,so=!1;function ao(){Qe=!0}let D=null;function Ue(t){D=t}function tn(t,e=!1,n){D={p:D,i:!1,c:null,e:null,s:t,x:null,l:Qe&&!e?{s:null,u:null,$:[]}:null}}function en(t){var e=D,n=e.e;if(n!==null){e.e=null;for(var r of n)zs(r)}return e.i=!0,D=e.p,{}}function En(){return!Qe||D!==null&&D.l===null}let Ae=[];function xs(){var t=Ae;Ae=[],Vn(t)}function nn(t){if(Ae.length===0&&!_n){var e=Ae;queueMicrotask(()=>{e===Ae&&xs()})}Ae.push(t)}function oo(){for(;Ae.length>0;)xs()}function bs(t){var e=R;if(e===null)return F.f|=ve,t;if((e.f&Jr)===0){if((e.f&ir)===0)throw t;e.b.error(t)}else We(t,e)}function We(t,e){for(;e!==null;){if((e.f&ir)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t}const Nn=new Set;let U=null,mt=null,kt=[],sr=null,Or=!1,_n=!1;class jt{committed=!1;current=new Map;previous=new Map;#t=new Set;#e=new Set;#r=0;#n=0;#l=null;#s=[];#i=[];skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(e){kt=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of e)this.#a(r,n);this.is_fork||this.#f(),this.is_deferred()?(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects)):(U=null,wi(n.render_effects),wi(n.effects),this.#l?.resolve()),mt=null}#a(e,n){e.f^=K;for(var r=e.first;r!==null;){var i=r.f,s=(i&(ae|Re))!==0,a=s&&(i&K)!==0,o=a||(i&yt)!==0||this.skipped_effects.has(r);if((r.f&ir)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!o&&r.fn!==null){s?r.f^=K:(i&Zr)!==0?n.effects.push(r):rn(r)&&((r.f&se)!==0&&n.block_effects.push(r),Xe(r));var l=r.first;if(l!==null){r=l;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)u===n.effect&&(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects),n=n.parent),r=u.next,u=u.parent}}#o(e){for(const n of e)((n.f&dt)!==0?this.#s:this.#i).push(n),this.#u(n.deps),Z(n,K)}#u(e){if(e!==null)for(const n of e)(n.f&J)===0||(n.f&$e)===0||(n.f^=$e,this.#u(n.deps))}capture(e,n){this.previous.has(e)||this.previous.set(e,n),(e.f&ve)===0&&(this.current.set(e,e.v),mt?.set(e,e.v))}activate(){U=this,this.apply()}deactivate(){U===this&&(U=null,mt=null)}flush(){if(this.activate(),kt.length>0){if(Es(),U!==null&&U!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#e)e(this);this.#e.clear()}#f(){if(this.#n===0){for(const e of this.#t)e();this.#t.clear()}this.#r===0&&this.#c()}#c(){if(Nn.size>1){this.previous.clear();var e=mt,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const s of Nn){if(s===this){n=!1;continue}const a=[];for(const[l,u]of this.current){if(s.current.has(l))if(n&&u!==s.current.get(l))s.current.set(l,u);else continue;a.push(l)}if(a.length===0)continue;const o=[...s.current.keys()].filter(l=>!this.current.has(l));if(o.length>0){var i=kt;kt=[];const l=new Set,u=new Map;for(const f of a)Ss(f,o,l,u);if(kt.length>0){U=s,s.apply();for(const f of kt)s.#a(f,r);s.deactivate()}kt=i}}U=null,mt=e}this.committed=!0,Nn.delete(this)}increment(e){this.#r+=1,e&&(this.#n+=1)}decrement(e){this.#r-=1,e&&(this.#n-=1),this.revive()}revive(){for(const e of this.#s)Z(e,dt),Fe(e);for(const e of this.#i)Z(e,Xt),Fe(e);this.#s=[],this.#i=[],this.flush()}oncommit(e){this.#t.add(e)}ondiscard(e){this.#e.add(e)}settled(){return(this.#l??=cs()).promise}static ensure(){if(U===null){const e=U=new jt;Nn.add(U),_n||jt.enqueue(()=>{U===e&&e.flush()})}return U}static enqueue(e){nn(e)}apply(){}}function lo(t){var e=_n;_n=!0;try{for(var n;;){if(oo(),kt.length===0&&(U?.flush(),kt.length===0))return sr=null,n;Es()}}finally{_n=e}}function Es(){var t=_e;Or=!0;var e=null;try{var n=0;for(Yn(!0);kt.length>0;){var r=jt.ensure();if(n++>1e3){var i,s;uo()}r.process(kt),pe.clear()}}finally{Or=!1,Yn(t),sr=null}}function uo(){try{Va()}catch(t){We(t,sr)}}let Qt=null;function wi(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(ne|yt))===0&&rn(r)&&(Qt=new Set,Xe(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?Ls(r):r.fn=null),Qt?.size>0)){pe.clear();for(const i of Qt){if((i.f&(ne|yt))!==0)continue;const s=[i];let a=i.parent;for(;a!==null;)Qt.has(a)&&(Qt.delete(a),s.push(a)),a=a.parent;for(let o=s.length-1;o>=0;o--){const l=s[o];(l.f&(ne|yt))===0&&Xe(l)}}Qt.clear()}}Qt=null}}function Ss(t,e,n,r){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const i of t.reactions){const s=i.f;(s&J)!==0?Ss(i,e,n,r):(s&(Qr|se))!==0&&(s&dt)===0&&As(i,e,r)&&(Z(i,dt),Fe(i))}}function As(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(t.deps!==null)for(const i of t.deps){if(e.includes(i))return!0;if((i.f&J)!==0&&As(i,e,n))return n.set(i,!0),!0}return n.set(t,!1),!1}function Fe(t){for(var e=sr=t;e.parent!==null;){e=e.parent;var n=e.f;if(Or&&e===R&&(n&se)!==0&&(n&ds)===0)return;if((n&(Re|ae))!==0){if((n&K)===0)return;e.f^=K}}kt.push(e)}function fo(t){let e=0,n=Oe(0),r;return()=>{or()&&(v(n),An(()=>(e===0&&(r=A(()=>t(()=>gn(n)))),e+=1,()=>{nn(()=>{e-=1,e===0&&(r?.(),r=void 0,gn(n))})})))}}var co=je|Je|ir;function ho(t,e,n){new vo(t,e,n)}class vo{parent;#t=!1;#e;#r=null;#n;#l;#s;#i=null;#a=null;#o=null;#u=null;#f=null;#c=0;#h=0;#v=!1;#d=null;#y=fo(()=>(this.#d=Oe(this.#c),()=>{this.#d=null}));constructor(e,n,r){this.#e=e,this.#n=n,this.#l=r,this.parent=R.b,this.#t=!!this.#n.pending,this.#s=si(()=>{R.b=this;{var i=this.#g();try{this.#i=Tt(()=>r(i))}catch(s){this.error(s)}this.#h>0?this.#_():this.#t=!1}return()=>{this.#f?.remove()}},co)}#w(){try{this.#i=Tt(()=>this.#l(this.#e))}catch(e){this.error(e)}this.#t=!1}#x(){const e=this.#n.pending;e&&(this.#a=Tt(()=>e(this.#e)),jt.enqueue(()=>{var n=this.#g();this.#i=this.#p(()=>(jt.ensure(),Tt(()=>this.#l(n)))),this.#h>0?this.#_():(qe(this.#a,()=>{this.#a=null}),this.#t=!1)}))}#g(){var e=this.#e;return this.#t&&(this.#f=ge(),this.#e.before(this.#f),e=this.#f),e}is_pending(){return this.#t||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#p(e){var n=R,r=F,i=D;Yt(this.#s),ft(this.#s),Ue(this.#s.ctx);try{return e()}catch(s){return bs(s),null}finally{Yt(n),ft(r),Ue(i)}}#_(){const e=this.#n.pending;this.#i!==null&&(this.#u=document.createDocumentFragment(),this.#u.append(this.#f),qs(this.#i,this.#u)),this.#a===null&&(this.#a=Tt(()=>e(this.#e)))}#m(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(e);return}this.#h+=e,this.#h===0&&(this.#t=!1,this.#a&&qe(this.#a,()=>{this.#a=null}),this.#u&&(this.#e.before(this.#u),this.#u=null))}update_pending_count(e){this.#m(e),this.#c+=e,this.#d&&Ye(this.#d,this.#c)}get_effect_pending(){return this.#y(),v(this.#d)}error(e){var n=this.#n.onerror;let r=this.#n.failed;if(this.#v||!n&&!r)throw e;this.#i&&(ht(this.#i),this.#i=null),this.#a&&(ht(this.#a),this.#a=null),this.#o&&(ht(this.#o),this.#o=null);var i=!1,s=!1;const a=()=>{if(i){io();return}i=!0,s&&Ga(),jt.ensure(),this.#c=0,this.#o!==null&&qe(this.#o,()=>{this.#o=null}),this.#t=this.has_pending_snippet(),this.#i=this.#p(()=>(this.#v=!1,Tt(()=>this.#l(this.#e)))),this.#h>0?this.#_():this.#t=!1};var o=F;try{ft(null),s=!0,n?.(e,a),s=!1}catch(l){We(l,this.#s&&this.#s.parent)}finally{ft(o)}r&&nn(()=>{this.#o=this.#p(()=>{jt.ensure(),this.#v=!0;try{return Tt(()=>{r(this.#e,()=>e,()=>a)})}catch(l){return We(l,this.#s.parent),null}finally{this.#v=!1}})})}}function po(t,e,n,r){const i=En()?ar:qt;if(n.length===0&&t.length===0){r(e.map(i));return}var s=U,a=R,o=_o();function l(){Promise.all(n.map(u=>go(u))).then(u=>{o();try{r([...e.map(i),...u])}catch(f){(a.f&ne)===0&&We(f,a)}s?.deactivate(),jn()}).catch(u=>{We(u,a)})}t.length>0?Promise.all(t).then(()=>{o();try{return l()}finally{s?.deactivate(),jn()}}):l()}function _o(){var t=R,e=F,n=D,r=U;return function(s=!0){Yt(t),ft(e),Ue(n),s&&r?.activate()}}function jn(){Yt(null),ft(null),Ue(null)}function ar(t){var e=J|dt,n=F!==null&&(F.f&J)!==0?F:null;return R!==null&&(R.f|=Je),{ctx:D,deps:null,effects:null,equals:ys,f:e,fn:t,reactions:null,rv:0,v:nt,wv:0,parent:n??R,ac:null}}function go(t,e){let n=R;n===null&&La();var r=n.b,i=void 0,s=Oe(nt),a=!F,o=new Map;return Ao(()=>{var l=cs();i=l.promise;try{Promise.resolve(t()).then(l.resolve,l.reject).then(()=>{u===U&&u.committed&&u.deactivate(),jn()})}catch(c){l.reject(c),jn()}var u=U;if(a){var f=!r.is_pending();r.update_pending_count(1),u.increment(f),o.get(u)?.reject(Le),o.delete(u),o.set(u,l)}const d=(c,h=void 0)=>{if(u.activate(),h)h!==Le&&(s.f|=ve,Ye(s,h));else{(s.f&ve)!==0&&(s.f^=ve),Ye(s,c);for(const[p,y]of o){if(o.delete(p),p===u)break;y.reject(Le)}}a&&(r.update_pending_count(-1),u.decrement(f))};l.promise.then(d,c=>d(null,c||"unknown"))}),ri(()=>{for(const l of o.values())l.reject(Le)}),new Promise(l=>{function u(f){function d(){f===i?l(s):u(i)}f.then(d,d)}u(i)})}function Cs(t){const e=ar(t);return Vs(e),e}function qt(t){const e=ar(t);return e.equals=ws,e}function ks(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)ht(e[n])}}function mo(t){for(var e=t.parent;e!==null;){if((e.f&J)===0)return(e.f&ne)===0?e:null;e=e.parent}return null}function ei(t){var e,n=R;Yt(mo(t));try{t.f&=~$e,ks(t),e=Ys(t)}finally{Yt(n)}return e}function Ts(t){var e=ei(t);if(t.equals(e)||(t.v=e,t.wv=Us()),!Ie)if(mt!==null)or()&&mt.set(t,t.v);else{var n=(t.f&Nt)===0?Xt:K;Z(t,n)}}let Nr=new Set;const pe=new Map;let Ms=!1;function Oe(t,e){var n={f:0,v:t,reactions:null,equals:ys,rv:0,wv:0};return n}function ue(t,e){const n=Oe(t);return Vs(n),n}function Vt(t,e=!1,n=!0){const r=Oe(t);return e||(r.equals=ws),Qe&&n&&D!==null&&D.l!==null&&(D.l.s??=[]).push(r),r}function G(t,e,n=!1){F!==null&&(!Ut||(F.f&yi)!==0)&&En()&&(F.f&(J|se|Qr|yi))!==0&&!re?.includes(t)&&Xa();let r=n?He(e):e;return Ye(t,r)}function Ye(t,e){if(!t.equals(e)){var n=t.v;Ie?pe.set(t,e):pe.set(t,n),t.v=e;var r=jt.ensure();r.capture(t,n),(t.f&J)!==0&&((t.f&dt)!==0&&ei(t),Z(t,(t.f&Nt)!==0?K:Xt)),t.wv=Us(),$s(t,dt),En()&&R!==null&&(R.f&K)!==0&&(R.f&(ae|Re))===0&&(Ct===null?To([t]):Ct.push(t)),!r.is_fork&&Nr.size>0&&!Ms&&yo()}return e}function yo(){Ms=!1;var t=_e;Yn(!0);const e=Array.from(Nr);try{for(const n of e)(n.f&K)!==0&&Z(n,Xt),rn(n)&&Xe(n)}finally{Yn(t)}Nr.clear()}function gn(t){G(t,t.v+1)}function $s(t,e){var n=t.reactions;if(n!==null)for(var r=En(),i=n.length,s=0;s<i;s++){var a=n[s],o=a.f;if(!(!r&&a===R)){var l=(o&dt)===0;if(l&&Z(a,e),(o&J)!==0){var u=a;mt?.delete(u),(o&$e)===0&&(o&Nt&&(a.f|=$e),$s(u,Xt))}else l&&((o&se)!==0&&Qt!==null&&Qt.add(a),Fe(a))}}}function He(t){if(typeof t!="object"||t===null||ke in t)return t;const e=Kr(t);if(e!==Ra&&e!==Ia)return t;var n=new Map,r=ls(t),i=ue(0),s=Te,a=o=>{if(Te===s)return o();var l=F,u=Te;ft(null),Ei(s);var f=o();return ft(l),Ei(u),f};return r&&n.set("length",ue(t.length)),new Proxy(t,{defineProperty(o,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Wa();var f=n.get(l);return f===void 0?f=a(()=>{var d=ue(u.value);return n.set(l,d),d}):G(f,u.value,!0),!0},deleteProperty(o,l){var u=n.get(l);if(u===void 0){if(l in o){const f=a(()=>ue(nt));n.set(l,f),gn(i)}}else G(u,nt),gn(i);return!0},get(o,l,u){if(l===ke)return t;var f=n.get(l),d=l in o;if(f===void 0&&(!d||Be(o,l)?.writable)&&(f=a(()=>{var h=He(d?o[l]:nt),p=ue(h);return p}),n.set(l,f)),f!==void 0){var c=v(f);return c===nt?void 0:c}return Reflect.get(o,l,u)},getOwnPropertyDescriptor(o,l){var u=Reflect.getOwnPropertyDescriptor(o,l);if(u&&"value"in u){var f=n.get(l);f&&(u.value=v(f))}else if(u===void 0){var d=n.get(l),c=d?.v;if(d!==void 0&&c!==nt)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return u},has(o,l){if(l===ke)return!0;var u=n.get(l),f=u!==void 0&&u.v!==nt||Reflect.has(o,l);if(u!==void 0||R!==null&&(!f||Be(o,l)?.writable)){u===void 0&&(u=a(()=>{var c=f?He(o[l]):nt,h=ue(c);return h}),n.set(l,u));var d=v(u);if(d===nt)return!1}return f},set(o,l,u,f){var d=n.get(l),c=l in o;if(r&&l==="length")for(var h=u;h<d.v;h+=1){var p=n.get(h+"");p!==void 0?G(p,nt):h in o&&(p=a(()=>ue(nt)),n.set(h+"",p))}if(d===void 0)(!c||Be(o,l)?.writable)&&(d=a(()=>ue(void 0)),G(d,He(u)),n.set(l,d));else{c=d.v!==nt;var y=a(()=>He(u));G(d,y)}var _=Reflect.getOwnPropertyDescriptor(o,l);if(_?.set&&_.set.call(f,u),!c){if(r&&typeof l=="string"){var w=n.get("length"),E=Number(l);Number.isInteger(E)&&E>=w.v&&G(w,E+1)}gn(i)}return!0},ownKeys(o){v(i);var l=Reflect.ownKeys(o).filter(d=>{var c=n.get(d);return c===void 0||c.v!==nt});for(var[u,f]of n)f.v!==nt&&!(u in o)&&l.push(u);return l},setPrototypeOf(){Ya()}})}var xi,Fs,Os,Ns;function wo(){if(xi===void 0){xi=window,Fs=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Os=Be(e,"firstChild").get,Ns=Be(e,"nextSibling").get,mi(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),mi(n)&&(n.__t=void 0)}}function ge(t=""){return document.createTextNode(t)}function Un(t){return Os.call(t)}function Sn(t){return Ns.call(t)}function C(t,e){return Un(t)}function ce(t,e=!1){{var n=Un(t);return n instanceof Comment&&n.data===""?Sn(n):n}}function H(t,e=1,n=!1){let r=t;for(;e--;)r=Sn(r);return r}function xo(t){t.textContent=""}function Rs(){return!1}function ni(t){var e=F,n=R;ft(null),Yt(null);try{return t()}finally{ft(e),Yt(n)}}function Is(t){R===null&&(F===null&&qa(),Ba()),Ie&&Ha()}function bo(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Gt(t,e,n){var r=R;r!==null&&(r.f&yt)!==0&&(t|=yt);var i={ctx:D,deps:null,nodes_start:null,nodes_end:null,f:t|dt|Nt,first:null,fn:e,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Xe(i),i.f|=Jr}catch(o){throw ht(i),o}else e!==null&&Fe(i);var s=i;if(n&&s.deps===null&&s.teardown===null&&s.nodes_start===null&&s.first===s.last&&(s.f&Je)===0&&(s=s.first,(t&se)!==0&&(t&je)!==0&&s!==null&&(s.f|=je)),s!==null&&(s.parent=r,r!==null&&bo(s,r),F!==null&&(F.f&J)!==0&&(t&Re)===0)){var a=F;(a.effects??=[]).push(s)}return i}function or(){return F!==null&&!Ut}function ri(t){const e=Gt(rr,null,!1);return Z(e,K),e.teardown=t,e}function Rr(t){Is();var e=R.f,n=!F&&(e&ae)!==0&&(e&Jr)===0;if(n){var r=D;(r.e??=[]).push(t)}else return zs(t)}function zs(t){return Gt(Zr|vs,t,!1)}function Eo(t){return Is(),Gt(rr|vs,t,!0)}function So(t){jt.ensure();const e=Gt(Re|Je,t,!0);return(n={})=>new Promise(r=>{n.outro?qe(e,()=>{ht(e),r(void 0)}):(ht(e),r(void 0))})}function Wn(t){return Gt(Zr,t,!1)}function Ee(t,e){var n=D,r={effect:null,ran:!1,deps:t};n.l.$.push(r),r.effect=An(()=>{t(),!r.ran&&(r.ran=!0,A(e))})}function ii(){var t=D;An(()=>{for(var e of t.l.$){e.deps();var n=e.effect;(n.f&K)!==0&&Z(n,Xt),rn(n)&&Xe(n),e.ran=!1}})}function Ao(t){return Gt(Qr|Je,t,!0)}function An(t,e=0){return Gt(rr|e,t,!0)}function V(t,e=[],n=[],r=[]){po(r,e,n,i=>{Gt(rr,()=>t(...i.map(v)),!0)})}function si(t,e=0){var n=Gt(se|e,t,!0);return n}function Tt(t){return Gt(ae|Je,t,!0)}function Ds(t){var e=t.teardown;if(e!==null){const n=Ie,r=F;bi(!0),ft(null);try{e.call(null)}finally{bi(n),ft(r)}}}function Ps(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const i=n.ac;i!==null&&ni(()=>{i.abort(Le)});var r=n.next;(n.f&Re)!==0?n.parent=null:ht(n,e),n=r}}function Co(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&ae)===0&&ht(e),e=n}}function ht(t,e=!0){var n=!1;(e||(t.f&ds)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(ko(t.nodes_start,t.nodes_end),n=!0),Ps(t,e&&!n),Xn(t,0),Z(t,ne);var r=t.transitions;if(r!==null)for(const s of r)s.stop();Ds(t);var i=t.parent;i!==null&&i.first!==null&&Ls(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function ko(t,e){for(;t!==null;){var n=t===e?null:Sn(t);t.remove(),t=n}}function Ls(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function qe(t,e,n=!0){var r=[];ai(t,r,!0),Hs(r,()=>{n&&ht(t),e&&e()})}function Hs(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function ai(t,e,n){if((t.f&yt)===0){if(t.f^=yt,t.transitions!==null)for(const a of t.transitions)(a.is_global||n)&&e.push(a);for(var r=t.first;r!==null;){var i=r.next,s=(r.f&je)!==0||(r.f&ae)!==0&&(t.f&se)!==0;ai(r,e,s?n:!1),r=i}}}function oi(t){Bs(t,!0)}function Bs(t,e){if((t.f&yt)!==0){t.f^=yt,(t.f&K)===0&&(Z(t,dt),Fe(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&je)!==0||(n.f&ae)!==0;Bs(n,i?e:!1),n=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}function qs(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var i=n===r?null:Sn(n);e.append(n),n=i}}let _e=!1;function Yn(t){_e=t}let Ie=!1;function bi(t){Ie=t}let F=null,Ut=!1;function ft(t){F=t}let R=null;function Yt(t){R=t}let re=null;function Vs(t){F!==null&&(re===null?re=[t]:re.push(t))}let lt=null,gt=0,Ct=null;function To(t){Ct=t}let js=1,yn=0,Te=yn;function Ei(t){Te=t}function Us(){return++js}function rn(t){var e=t.f;if((e&dt)!==0)return!0;if(e&J&&(t.f&=~$e),(e&Xt)!==0){var n=t.deps;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i];if(rn(s)&&Ts(s),s.wv>t.wv)return!0}(e&Nt)!==0&&mt===null&&Z(t,K)}return!1}function Ws(t,e,n=!0){var r=t.reactions;if(r!==null&&!re?.includes(t))for(var i=0;i<r.length;i++){var s=r[i];(s.f&J)!==0?Ws(s,e,!1):e===s&&(n?Z(s,dt):(s.f&K)!==0&&Z(s,Xt),Fe(s))}}function Ys(t){var e=lt,n=gt,r=Ct,i=F,s=re,a=D,o=Ut,l=Te,u=t.f;lt=null,gt=0,Ct=null,F=(u&(ae|Re))===0?t:null,re=null,Ue(t.ctx),Ut=!1,Te=++yn,t.ac!==null&&(ni(()=>{t.ac.abort(Le)}),t.ac=null);try{t.f|=Fr;var f=t.fn,d=f(),c=t.deps;if(lt!==null){var h;if(Xn(t,gt),c!==null&&gt>0)for(c.length=gt+lt.length,h=0;h<lt.length;h++)c[gt+h]=lt[h];else t.deps=c=lt;if(_e&&or()&&(t.f&Nt)!==0)for(h=gt;h<c.length;h++)(c[h].reactions??=[]).push(t)}else c!==null&&gt<c.length&&(Xn(t,gt),c.length=gt);if(En()&&Ct!==null&&!Ut&&c!==null&&(t.f&(J|Xt|dt))===0)for(h=0;h<Ct.length;h++)Ws(Ct[h],t);return i!==null&&i!==t&&(yn++,Ct!==null&&(r===null?r=Ct:r.push(...Ct))),(t.f&ve)!==0&&(t.f^=ve),d}catch(p){return bs(p)}finally{t.f^=Fr,lt=e,gt=n,Ct=r,F=i,re=s,Ue(a),Ut=o,Te=l}}function Mo(t,e){let n=e.reactions;if(n!==null){var r=Na.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(e.f&J)!==0&&(lt===null||!lt.includes(e))&&(Z(e,Xt),(e.f&Nt)!==0&&(e.f^=Nt,e.f&=~$e),ks(e),Xn(e,0))}function Xn(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)Mo(t,n[r])}function Xe(t){var e=t.f;if((e&ne)===0){Z(t,K);var n=R,r=_e;R=t,_e=!0;try{(e&se)!==0?Co(t):Ps(t),Ds(t);var i=Ys(t);t.teardown=typeof i=="function"?i:null,t.wv=js;var s;$r&&so&&(t.f&dt)!==0&&t.deps}finally{_e=r,R=n}}}async function Si(){await Promise.resolve(),lo()}function v(t){var e=t.f,n=(e&J)!==0;if(F!==null&&!Ut){var r=R!==null&&(R.f&ne)!==0;if(!r&&!re?.includes(t)){var i=F.deps;if((F.f&Fr)!==0)t.rv<yn&&(t.rv=yn,lt===null&&i!==null&&i[gt]===t?gt++:lt===null?lt=[t]:lt.includes(t)||lt.push(t));else{(F.deps??=[]).push(t);var s=t.reactions;s===null?t.reactions=[F]:s.includes(F)||s.push(F)}}}if(Ie){if(pe.has(t))return pe.get(t);if(n){var a=t,o=a.v;return((a.f&K)===0&&a.reactions!==null||Gs(a))&&(o=ei(a)),pe.set(a,o),o}}else if(n){if(a=t,mt?.has(a))return mt.get(a);rn(a)&&Ts(a),_e&&or()&&(a.f&Nt)===0&&Xs(a)}else if(mt?.has(t))return mt.get(t);if((t.f&ve)!==0)throw t.v;return t.v}function Xs(t){if(t.deps!==null){t.f^=Nt;for(const e of t.deps)(e.reactions??=[]).push(t),(e.f&J)!==0&&(e.f&Nt)===0&&Xs(e)}}function Gs(t){if(t.v===nt)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(pe.has(e)||(e.f&J)!==0&&Gs(e))return!0;return!1}function A(t){var e=Ut;try{return Ut=!0,t()}finally{Ut=e}}const $o=-7169;function Z(t,e){t.f=t.f&$o|e}function S(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(ke in t)Ir(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&ke in n&&Ir(n)}}}function Ir(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{Ir(t[r],e)}catch{}const n=Kr(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=fs(n);for(let i in r){const s=r[i].get;if(s)try{s.call(t)}catch{}}}}}const Fo=["touchstart","touchmove"];function Oo(t){return Fo.includes(t)}const No=new Set,Ai=new Set;function Ro(t,e,n,r={}){function i(s){if(r.capture||hn.call(e,s),!s.cancelBubble)return ni(()=>n?.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?nn(()=>{e.addEventListener(t,i,r)}):e.addEventListener(t,i,r),i}function de(t,e,n,r,i){var s={capture:r,passive:i},a=Ro(t,e,n,s);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&ri(()=>{e.removeEventListener(t,a,s)})}let Ci=null;function hn(t){var e=this,n=e.ownerDocument,r=t.type,i=t.composedPath?.()||[],s=i[0]||t.target;Ci=t;var a=0,o=Ci===t&&t.__root;if(o){var l=i.indexOf(o);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var u=i.indexOf(e);if(u===-1)return;l<=u&&(a=l)}if(s=i[a]||t.target,s!==e){us(t,"currentTarget",{configurable:!0,get(){return s||n}});var f=F,d=R;ft(null),Yt(null);try{for(var c,h=[];s!==null;){var p=s.assignedSlot||s.parentNode||s.host||null;try{var y=s["__"+r];y!=null&&(!s.disabled||t.target===s)&&y.call(s,t)}catch(_){c?h.push(_):c=_}if(t.cancelBubble||p===e||p===null)break;s=p}if(c){for(let _ of h)queueMicrotask(()=>{throw _});throw c}}finally{t.__root=e,delete t.currentTarget,ft(f),Yt(d)}}}function Io(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function zr(t,e){var n=R;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function I(t,e){var n=(e&eo)!==0,r=(e&no)!==0,i,s=!t.startsWith("<!>");return()=>{i===void 0&&(i=Io(s?t:"<!>"+t),n||(i=Un(i)));var a=r||Fs?document.importNode(i,!0):i.cloneNode(!0);if(n){var o=Un(a),l=a.lastChild;zr(o,l)}else zr(a,a);return a}}function be(){var t=document.createDocumentFragment(),e=document.createComment(""),n=ge();return t.append(e,n),zr(e,n),t}function T(t,e){t!==null&&t.before(e)}function j(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function zo(t,e){return Do(t,e)}const ze=new Map;function Do(t,{target:e,anchor:n,props:r={},events:i,context:s,intro:a=!0}){wo();var o=new Set,l=d=>{for(var c=0;c<d.length;c++){var h=d[c];if(!o.has(h)){o.add(h);var p=Oo(h);e.addEventListener(h,hn,{passive:p});var y=ze.get(h);y===void 0?(document.addEventListener(h,hn,{passive:p}),ze.set(h,1)):ze.set(h,y+1)}}};l(Gr(No)),Ai.add(l);var u=void 0,f=So(()=>{var d=n??e.appendChild(ge());return ho(d,{pending:()=>{}},c=>{if(s){tn({});var h=D;h.c=s}i&&(r.$$events=i),u=t(c,r)||{},s&&en()}),()=>{for(var c of o){e.removeEventListener(c,hn);var h=ze.get(c);--h===0?(document.removeEventListener(c,hn),ze.delete(c)):ze.set(c,h)}Ai.delete(l),d!==n&&d.parentNode?.removeChild(d)}});return Po.set(u,f),u}let Po=new WeakMap;class Lo{anchor;#t=new Map;#e=new Map;#r=new Map;#n=new Set;#l=!0;constructor(e,n=!0){this.anchor=e,this.#l=n}#s=()=>{var e=U;if(this.#t.has(e)){var n=this.#t.get(e),r=this.#e.get(n);if(r)oi(r),this.#n.delete(n);else{var i=this.#r.get(n);i&&(this.#e.set(n,i.effect),this.#r.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,a]of this.#t){if(this.#t.delete(s),s===e)break;const o=this.#r.get(a);o&&(ht(o.effect),this.#r.delete(a))}for(const[s,a]of this.#e){if(s===n||this.#n.has(s))continue;const o=()=>{if(Array.from(this.#t.values()).includes(s)){var u=document.createDocumentFragment();qs(a,u),u.append(ge()),this.#r.set(s,{effect:a,fragment:u})}else ht(a);this.#n.delete(s),this.#e.delete(s)};this.#l||!r?(this.#n.add(s),qe(a,o,!1)):o()}}};#i=e=>{this.#t.delete(e);const n=Array.from(this.#t.values());for(const[r,i]of this.#r)n.includes(r)||(ht(i.effect),this.#r.delete(r))};ensure(e,n){var r=U,i=Rs();if(n&&!this.#e.has(e)&&!this.#r.has(e))if(i){var s=document.createDocumentFragment(),a=ge();s.append(a),this.#r.set(e,{effect:Tt(()=>n(a)),fragment:s})}else this.#e.set(e,Tt(()=>n(this.anchor)));if(this.#t.set(r,e),i){for(const[o,l]of this.#e)o===e?r.skipped_effects.delete(l):r.skipped_effects.add(l);for(const[o,l]of this.#r)o===e?r.skipped_effects.delete(l.effect):r.skipped_effects.add(l.effect);r.oncommit(this.#s),r.ondiscard(this.#i)}else this.#s()}}function et(t,e,n=!1){var r=new Lo(t),i=n?je:0;function s(a,o){r.ensure(a,o)}si(()=>{var a=!1;e((o,l=!0)=>{a=!0,s(l,o)}),a||s(!1,null)},i)}function te(t,e){return e}function Ho(t,e,n){for(var r=[],i=e.length,s=0;s<i;s++)ai(e[s].e,r,!0);Hs(r,()=>{var a=r.length===0&&n!==null;if(a){var o=n,l=o.parentNode;xo(l),l.append(o),t.items.clear(),Ht(t,e[0].prev,e[i-1].next)}for(var u=0;u<i;u++){var f=e[u];a||(t.items.delete(f.k),Ht(t,f.prev,f.next)),ht(f.e,!a)}t.first===e[0]&&(t.first=e[0].prev)})}function Bt(t,e,n,r,i,s=null){var a=t,o=new Map,l=null,u=(e&ms)!==0,f=(e&_s)!==0,d=(e&gs)!==0;if(u){var c=t;a=c.appendChild(ge())}var h=null,p=qt(()=>{var M=n();return ls(M)?M:M==null?[]:Gr(M)}),y,_=!0;function w(){Bo($,y,a,e,r),h!==null&&(y.length===0?(h.fragment?(a.before(h.fragment),h.fragment=null):oi(h.effect),E.first=h.effect):qe(h.effect,()=>{h=null}))}var E=si(()=>{y=v(p);for(var M=y.length,O=new Set,N=U,z=null,P=Rs(),q=0;q<M;q+=1){var vt=y[q],k=r(vt,q),m=_?null:o.get(k);m?(f&&Ye(m.v,vt),d?Ye(m.i,q):m.i=q,P&&N.skipped_effects.delete(m.e)):(m=qo(_?a:null,z,vt,k,q,i,e,n),_&&(m.o=!0,z===null?l=m:z.next=m,z=m),o.set(k,m)),O.add(k)}if(M===0&&s&&!h)if(_)h={fragment:null,effect:Tt(()=>s(a))};else{var g=document.createDocumentFragment(),x=ge();g.append(x),h={fragment:g,effect:Tt(()=>s(x))}}if(!_)if(P){for(const[b,Y]of o)O.has(b)||N.skipped_effects.add(Y.e);N.oncommit(w),N.ondiscard(()=>{})}else w();v(p)}),$={effect:E,items:o,first:l};_=!1}function Bo(t,e,n,r,i){var s=(r&Ka)!==0,a=e.length,o=t.items,l=t.first,u,f=null,d,c=[],h=[],p,y,_,w;if(s)for(w=0;w<a;w+=1)p=e[w],y=i(p,w),_=o.get(y),_.a?.measure(),(d??=new Set).add(_);for(w=0;w<a;w+=1){if(p=e[w],y=i(p,w),_=o.get(y),t.first??=_,!_.o){_.o=!0;var E=f?f.next:l;Ht(t,f,_),Ht(t,_,E),xr(_,E,n),f=_,c=[],h=[],l=f.next;continue}if((_.e.f&yt)!==0&&(oi(_.e),s&&(_.a?.unfix(),(d??=new Set).delete(_))),_!==l){if(u!==void 0&&u.has(_)){if(c.length<h.length){var $=h[0],M;f=$.prev;var O=c[0],N=c[c.length-1];for(M=0;M<c.length;M+=1)xr(c[M],$,n);for(M=0;M<h.length;M+=1)u.delete(h[M]);Ht(t,O.prev,N.next),Ht(t,f,O),Ht(t,N,$),l=$,f=N,w-=1,c=[],h=[]}else u.delete(_),xr(_,l,n),Ht(t,_.prev,_.next),Ht(t,_,f===null?t.first:f.next),Ht(t,f,_),f=_;continue}for(c=[],h=[];l!==null&&l.k!==y;)(l.e.f&yt)===0&&(u??=new Set).add(l),h.push(l),l=l.next;if(l===null)continue;_=l}c.push(_),f=_,l=_.next}if(l!==null||u!==void 0){for(var z=u===void 0?[]:Gr(u);l!==null;)(l.e.f&yt)===0&&z.push(l),l=l.next;var P=z.length;if(P>0){var q=(r&ms)!==0&&a===0?n:null;if(s){for(w=0;w<P;w+=1)z[w].a?.measure();for(w=0;w<P;w+=1)z[w].a?.fix()}Ho(t,z,q)}}s&&nn(()=>{if(d!==void 0)for(_ of d)_.a?.apply()})}function qo(t,e,n,r,i,s,a,o){var l=(a&_s)!==0,u=(a&Za)===0,f=l?u?Vt(n,!1,!1):Oe(n):n,d=(a&gs)===0?i:Oe(i),c={i:d,v:f,k:r,a:null,e:null,o:!1,prev:e,next:null};try{if(t===null){var h=document.createDocumentFragment();h.append(t=ge())}return c.e=Tt(()=>s(t,f,d,o)),e!==null&&(e.next=c),c}finally{}}function xr(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==null&&s!==r;){var a=Sn(s);i.before(s),s=a}}function Ht(t,e,n){e===null?(t.first=n,t.effect.first=n&&n.e):(e.e.next&&(e.e.next.prev=null),e.next=n,e.e.next=n&&n.e),n===null?t.effect.last=e&&e.e:(n.e.prev&&(n.e.prev.next=null),n.prev=e,n.e.prev=e&&e.e)}function Vo(t,e,n){Wn(()=>{var r=A(()=>e(t,n?.())||{});if(n&&r?.update){var i=!1,s={};An(()=>{var a=n();S(a),i&&ti(s,a)&&(s=a,r.update(a))}),i=!0}if(r?.destroy)return()=>r.destroy()})}const ki=[...` 	
\r\fÂ \v\uFEFF`];function jo(t,e,n){var r=t==null?"":""+t;if(n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,a=0;(a=r.indexOf(i,a))>=0;){var o=a+s;(a===0||ki.includes(r[a-1]))&&(o===r.length||ki.includes(r[o]))?r=(a===0?"":r.substring(0,a))+r.substring(o+1):a=o}}return r===""?null:r}function Uo(t,e){return t==null?null:String(t)}function br(t,e,n,r,i,s){var a=t.__className;if(a!==n||a===void 0){var o=jo(n,r,s);o==null?t.removeAttribute("class"):t.className=o,t.__className=n}else if(s&&i!==s)for(var l in s){var u=!!s[l];(i==null||u!==!!i[l])&&t.classList.toggle(l,u)}return s}function Ti(t,e,n,r){var i=t.__style;if(i!==e){var s=Uo(e);s==null?t.removeAttribute("style"):t.style.cssText=s,t.__style=e}return r}const Wo=Symbol("is custom element"),Yo=Symbol("is html");function Xo(t,e){var n=li(t);n.value===(n.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function Go(t,e){var n=li(t);n.checked!==(n.checked=e??void 0)&&(t.checked=e)}function Dr(t,e,n,r){var i=li(t);i[e]!==(i[e]=n)&&(e==="loading"&&(t[Pa]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Ko(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function li(t){return t.__attributes??={[Wo]:t.nodeName.includes("-"),[Yo]:t.namespaceURI===ro}}var Mi=new Map;function Ko(t){var e=t.getAttribute("is")||t.nodeName,n=Mi.get(e);if(n)return n;Mi.set(e,n=[]);for(var r,i=t,s=Element.prototype;s!==i;){r=fs(i);for(var a in r)r[a].set&&n.push(a);i=Kr(i)}return n}function $i(t,e){return t===e||t?.[ke]===e}function Ks(t={},e,n,r){return Wn(()=>{var i,s;return An(()=>{i=s,s=[],A(()=>{t!==n(...s)&&(e(t,...s),i&&$i(n(...i),t)&&e(null,...i))})}),()=>{nn(()=>{s&&$i(n(...s),t)&&e(null,...s)})}}),t}function Cn(t=!1){const e=D,n=e.l.u;if(!n)return;let r=()=>S(e.s);if(t){let i=0,s={};const a=ar(()=>{let o=!1;const l=e.s;for(const u in l)l[u]!==s[u]&&(s[u]=l[u],o=!0);return o&&i++,i});r=()=>v(a)}n.b.length&&Eo(()=>{Fi(e,r),Vn(n.b)}),Rr(()=>{const i=A(()=>n.m.map(za));return()=>{for(const s of i)typeof s=="function"&&s()}}),n.a.length&&Rr(()=>{Fi(e,r),Vn(n.a)})}function Fi(t,e){if(t.l.s)for(const n of t.l.s)v(n);e()}function ui(t,e,n){if(t==null)return e(void 0),n&&n(void 0),ee;const r=A(()=>t.subscribe(e,n));return r.unsubscribe?()=>r.unsubscribe():r}const De=[];function Zo(t,e){return{subscribe:me(t,e).subscribe}}function me(t,e=ee){let n=null;const r=new Set;function i(o){if(ti(t,o)&&(t=o,n)){const l=!De.length;for(const u of r)u[1](),De.push(u,t);if(l){for(let u=0;u<De.length;u+=2)De[u][0](De[u+1]);De.length=0}}}function s(o){i(o(t))}function a(o,l=ee){const u=[o,l];return r.add(u),r.size===1&&(n=e(i,s)||ee),o(t),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:a}}function lr(t,e,n){const r=!Array.isArray(t),i=r?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return Zo(n,(a,o)=>{let l=!1;const u=[];let f=0,d=ee;const c=()=>{if(f)return;d();const p=e(r?u[0]:u,a,o);s?a(p):d=typeof p=="function"?p:ee},h=i.map((p,y)=>ui(p,_=>{u[y]=_,f&=~(1<<y),l&&c()},()=>{f|=1<<y}));return l=!0,c(),function(){Vn(h),d(),l=!1}})}function Jo(t){let e;return ui(t,n=>e=n)(),e}let Rn=!1,Pr=Symbol();function Ft(t,e,n){const r=n[e]??={store:null,source:Vt(void 0),unsubscribe:ee};if(r.store!==t&&!(Pr in n))if(r.unsubscribe(),r.store=t??null,t==null)r.source.v=void 0,r.unsubscribe=ee;else{var i=!0;r.unsubscribe=ui(t,s=>{i?r.source.v=s:G(r.source,s)}),i=!1}return t&&Pr in n?Jo(t):v(r.source)}function Qo(t,e,n){let r=n[e];return r&&r.store!==t&&(r.unsubscribe(),r.unsubscribe=ee),t}function kn(){const t={};function e(){ri(()=>{for(var n in t)t[n].unsubscribe();us(t,Pr,{enumerable:!1,value:!0})})}return[t,e]}function tl(t){var e=Rn;try{return Rn=!1,[t(),Rn]}finally{Rn=e}}function Se(t,e,n,r){var i=!Qe||(n&Ja)!==0,s=(n&to)!==0,a=r,o=!0,l=()=>(o&&(o=!1,a=r),a),u;{var f=ke in t||Da in t;u=Be(t,e)?.set??(f&&e in t?E=>t[e]=E:void 0)}var d,c=!1;[d,c]=tl(()=>t[e]),d===void 0&&r!==void 0&&(d=l(),u&&(i&&Ua(),u(d)));var h;if(i?h=()=>{var E=t[e];return E===void 0?l():(o=!0,E)}:h=()=>{var E=t[e];return E!==void 0&&(a=void 0),E===void 0?a:E},i&&(n&Qa)===0)return h;if(u){var p=t.$$legacy;return(function(E,$){return arguments.length>0?((!i||!$||p||c)&&u($?h():E),E):h()})}var y=!1,_=qt(()=>(y=!1,h()));v(_);var w=R;return(function(E,$){if(arguments.length>0){const M=$?v(_):i&&s?He(E):E;return G(_,M),y=!0,a!==void 0&&(a=M),E}return Ie&&y||(w.f&ne)!==0?_.v:v(_)})}function Zs(t){D===null&&ps(),Qe&&D.l!==null?Js(D).m.push(t):Rr(()=>{const e=A(t);if(typeof e=="function")return e})}function el(t){D===null&&ps(),D.l===null&&ja(),Js(D).a.push(t)}function Js(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}const nl="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(nl);ao();var rl={value:()=>{}};function Qs(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Hn(n)}function Hn(t){this._=t}function il(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Hn.prototype=Qs.prototype={constructor:Hn,on:function(t,e){var n=this._,r=il(t+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(t=r[s]).type)&&(i=sl(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(i=(t=r[s]).type)n[i]=Oi(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Oi(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Hn(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function sl(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Oi(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=rl,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Lr="http://www.w3.org/1999/xhtml";const Ni={svg:"http://www.w3.org/2000/svg",xhtml:Lr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ur(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ni.hasOwnProperty(e)?{space:Ni[e],local:t}:t}function al(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Lr&&e.documentElement.namespaceURI===Lr?e.createElement(t):e.createElementNS(n,t)}}function ol(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ta(t){var e=ur(t);return(e.local?ol:al)(e)}function ll(){}function fi(t){return t==null?ll:function(){return this.querySelector(t)}}function ul(t){typeof t!="function"&&(t=fi(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=new Array(a),l,u,f=0;f<a;++f)(l=s[f])&&(u=t.call(l,l.__data__,f,s))&&("__data__"in l&&(u.__data__=l.__data__),o[f]=u);return new wt(r,this._parents)}function fl(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function cl(){return[]}function ea(t){return t==null?cl:function(){return this.querySelectorAll(t)}}function hl(t){return function(){return fl(t.apply(this,arguments))}}function dl(t){typeof t=="function"?t=hl(t):t=ea(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var a=e[s],o=a.length,l,u=0;u<o;++u)(l=a[u])&&(r.push(t.call(l,l.__data__,u,a)),i.push(l));return new wt(r,i)}function na(t){return function(){return this.matches(t)}}function ra(t){return function(e){return e.matches(t)}}var vl=Array.prototype.find;function pl(t){return function(){return vl.call(this.children,t)}}function _l(){return this.firstElementChild}function gl(t){return this.select(t==null?_l:pl(typeof t=="function"?t:ra(t)))}var ml=Array.prototype.filter;function yl(){return Array.from(this.children)}function wl(t){return function(){return ml.call(this.children,t)}}function xl(t){return this.selectAll(t==null?yl:wl(typeof t=="function"?t:ra(t)))}function bl(t){typeof t!="function"&&(t=na(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=[],l,u=0;u<a;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&o.push(l);return new wt(r,this._parents)}function ia(t){return new Array(t.length)}function El(){return new wt(this._enter||this._groups.map(ia),this._parents)}function Gn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Gn.prototype={constructor:Gn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Sl(t){return function(){return t}}function Al(t,e,n,r,i,s){for(var a=0,o,l=e.length,u=s.length;a<u;++a)(o=e[a])?(o.__data__=s[a],r[a]=o):n[a]=new Gn(t,s[a]);for(;a<l;++a)(o=e[a])&&(i[a]=o)}function Cl(t,e,n,r,i,s,a){var o,l,u=new Map,f=e.length,d=s.length,c=new Array(f),h;for(o=0;o<f;++o)(l=e[o])&&(c[o]=h=a.call(l,l.__data__,o,e)+"",u.has(h)?i[o]=l:u.set(h,l));for(o=0;o<d;++o)h=a.call(t,s[o],o,s)+"",(l=u.get(h))?(r[o]=l,l.__data__=s[o],u.delete(h)):n[o]=new Gn(t,s[o]);for(o=0;o<f;++o)(l=e[o])&&u.get(c[o])===l&&(i[o]=l)}function kl(t){return t.__data__}function Tl(t,e){if(!arguments.length)return Array.from(this,kl);var n=e?Cl:Al,r=this._parents,i=this._groups;typeof t!="function"&&(t=Sl(t));for(var s=i.length,a=new Array(s),o=new Array(s),l=new Array(s),u=0;u<s;++u){var f=r[u],d=i[u],c=d.length,h=Ml(t.call(f,f&&f.__data__,u,r)),p=h.length,y=o[u]=new Array(p),_=a[u]=new Array(p),w=l[u]=new Array(c);n(f,d,y,_,w,h,e);for(var E=0,$=0,M,O;E<p;++E)if(M=y[E]){for(E>=$&&($=E+1);!(O=_[$])&&++$<p;);M._next=O||null}}return a=new wt(a,r),a._enter=o,a._exit=l,a}function Ml(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $l(){return new wt(this._exit||this._groups.map(ia),this._parents)}function Fl(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Ol(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var u=n[l],f=r[l],d=u.length,c=o[l]=new Array(d),h,p=0;p<d;++p)(h=u[p]||f[p])&&(c[p]=h);for(;l<i;++l)o[l]=n[l];return new wt(o,this._parents)}function Nl(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function Rl(t){t||(t=Il);function e(d,c){return d&&c?t(d.__data__,c.__data__):!d-!c}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],o=a.length,l=i[s]=new Array(o),u,f=0;f<o;++f)(u=a[f])&&(l[f]=u);l.sort(e)}return new wt(i,this._parents).order()}function Il(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function zl(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Dl(){return Array.from(this)}function Pl(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function Ll(){let t=0;for(const e of this)++t;return t}function Hl(){return!this.node()}function Bl(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,a=i.length,o;s<a;++s)(o=i[s])&&t.call(o,o.__data__,s,i);return this}function ql(t){return function(){this.removeAttribute(t)}}function Vl(t){return function(){this.removeAttributeNS(t.space,t.local)}}function jl(t,e){return function(){this.setAttribute(t,e)}}function Ul(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Wl(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Yl(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Xl(t,e){var n=ur(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Vl:ql:typeof e=="function"?n.local?Yl:Wl:n.local?Ul:jl)(n,e))}function sa(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Gl(t){return function(){this.style.removeProperty(t)}}function Kl(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Zl(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Jl(t,e,n){return arguments.length>1?this.each((e==null?Gl:typeof e=="function"?Zl:Kl)(t,e,n??"")):Ge(this.node(),t)}function Ge(t,e){return t.style.getPropertyValue(e)||sa(t).getComputedStyle(t,null).getPropertyValue(e)}function Ql(t){return function(){delete this[t]}}function tu(t,e){return function(){this[t]=e}}function eu(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function nu(t,e){return arguments.length>1?this.each((e==null?Ql:typeof e=="function"?eu:tu)(t,e)):this.node()[t]}function aa(t){return t.trim().split(/^|\s+/)}function ci(t){return t.classList||new oa(t)}function oa(t){this._node=t,this._names=aa(t.getAttribute("class")||"")}oa.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function la(t,e){for(var n=ci(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ua(t,e){for(var n=ci(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ru(t){return function(){la(this,t)}}function iu(t){return function(){ua(this,t)}}function su(t,e){return function(){(e.apply(this,arguments)?la:ua)(this,t)}}function au(t,e){var n=aa(t+"");if(arguments.length<2){for(var r=ci(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?su:e?ru:iu)(n,e))}function ou(){this.textContent=""}function lu(t){return function(){this.textContent=t}}function uu(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function fu(t){return arguments.length?this.each(t==null?ou:(typeof t=="function"?uu:lu)(t)):this.node().textContent}function cu(){this.innerHTML=""}function hu(t){return function(){this.innerHTML=t}}function du(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function vu(t){return arguments.length?this.each(t==null?cu:(typeof t=="function"?du:hu)(t)):this.node().innerHTML}function pu(){this.nextSibling&&this.parentNode.appendChild(this)}function _u(){return this.each(pu)}function gu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mu(){return this.each(gu)}function yu(t){var e=typeof t=="function"?t:ta(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function wu(){return null}function xu(t,e){var n=typeof t=="function"?t:ta(t),r=e==null?wu:typeof e=="function"?e:fi(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function bu(){var t=this.parentNode;t&&t.removeChild(this)}function Eu(){return this.each(bu)}function Su(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Au(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Cu(t){return this.select(t?Au:Su)}function ku(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Tu(t){return function(e){t.call(this,e,this.__data__)}}function Mu(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function $u(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function Fu(t,e,n){return function(){var r=this.__on,i,s=Tu(e);if(r){for(var a=0,o=r.length;a<o;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Ou(t,e,n){var r=Mu(t+""),i,s=r.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,f;l<u;++l)for(i=0,f=o[l];i<s;++i)if((a=r[i]).type===f.type&&a.name===f.name)return f.value}return}for(o=e?Fu:$u,i=0;i<s;++i)this.each(o(r[i],e,n));return this}function fa(t,e,n){var r=sa(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Nu(t,e){return function(){return fa(this,t,e)}}function Ru(t,e){return function(){return fa(this,t,e.apply(this,arguments))}}function Iu(t,e){return this.each((typeof e=="function"?Ru:Nu)(t,e))}function*zu(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var ca=[null];function wt(t,e){this._groups=t,this._parents=e}function Tn(){return new wt([[document.documentElement]],ca)}function Du(){return this}wt.prototype=Tn.prototype={constructor:wt,select:ul,selectAll:dl,selectChild:gl,selectChildren:xl,filter:bl,data:Tl,enter:El,exit:$l,join:Fl,merge:Ol,selection:Du,order:Nl,sort:Rl,call:zl,nodes:Dl,node:Pl,size:Ll,empty:Hl,each:Bl,attr:Xl,style:Jl,property:nu,classed:au,text:fu,html:vu,raise:_u,lower:mu,append:yu,insert:xu,remove:Eu,clone:Cu,datum:ku,on:Ou,dispatch:Iu,[Symbol.iterator]:zu};function Er(t){return typeof t=="string"?new wt([[document.querySelector(t)]],[document.documentElement]):new wt([[t]],ca)}function hi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ha(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Mn(){}var wn=.7,Kn=1/wn,Ve="\\s*([+-]?\\d+)\\s*",xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pu=/^#([0-9a-f]{3,8})$/,Lu=new RegExp(`^rgb\\(${Ve},${Ve},${Ve}\\)$`),Hu=new RegExp(`^rgb\\(${Wt},${Wt},${Wt}\\)$`),Bu=new RegExp(`^rgba\\(${Ve},${Ve},${Ve},${xn}\\)$`),qu=new RegExp(`^rgba\\(${Wt},${Wt},${Wt},${xn}\\)$`),Vu=new RegExp(`^hsl\\(${xn},${Wt},${Wt}\\)$`),ju=new RegExp(`^hsla\\(${xn},${Wt},${Wt},${xn}\\)$`),Ri={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hi(Mn,Ke,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ii,formatHex:Ii,formatHex8:Uu,formatHsl:Wu,formatRgb:zi,toString:zi});function Ii(){return this.rgb().formatHex()}function Uu(){return this.rgb().formatHex8()}function Wu(){return da(this).formatHsl()}function zi(){return this.rgb().formatRgb()}function Ke(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Pu.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Di(e):n===3?new ct(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?In(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?In(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Lu.exec(t))?new ct(e[1],e[2],e[3],1):(e=Hu.exec(t))?new ct(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Bu.exec(t))?In(e[1],e[2],e[3],e[4]):(e=qu.exec(t))?In(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Vu.exec(t))?Hi(e[1],e[2]/100,e[3]/100,1):(e=ju.exec(t))?Hi(e[1],e[2]/100,e[3]/100,e[4]):Ri.hasOwnProperty(t)?Di(Ri[t]):t==="transparent"?new ct(NaN,NaN,NaN,0):null}function Di(t){return new ct(t>>16&255,t>>8&255,t&255,1)}function In(t,e,n,r){return r<=0&&(t=e=n=NaN),new ct(t,e,n,r)}function Yu(t){return t instanceof Mn||(t=Ke(t)),t?(t=t.rgb(),new ct(t.r,t.g,t.b,t.opacity)):new ct}function Hr(t,e,n,r){return arguments.length===1?Yu(t):new ct(t,e,n,r??1)}function ct(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}hi(ct,Hr,ha(Mn,{brighter(t){return t=t==null?Kn:Math.pow(Kn,t),new ct(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?wn:Math.pow(wn,t),new ct(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ct(Me(this.r),Me(this.g),Me(this.b),Zn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pi,formatHex:Pi,formatHex8:Xu,formatRgb:Li,toString:Li}));function Pi(){return`#${Ce(this.r)}${Ce(this.g)}${Ce(this.b)}`}function Xu(){return`#${Ce(this.r)}${Ce(this.g)}${Ce(this.b)}${Ce((isNaN(this.opacity)?1:this.opacity)*255)}`}function Li(){const t=Zn(this.opacity);return`${t===1?"rgb(":"rgba("}${Me(this.r)}, ${Me(this.g)}, ${Me(this.b)}${t===1?")":`, ${t})`}`}function Zn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Me(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ce(t){return t=Me(t),(t<16?"0":"")+t.toString(16)}function Hi(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ot(t,e,n,r)}function da(t){if(t instanceof Ot)return new Ot(t.h,t.s,t.l,t.opacity);if(t instanceof Mn||(t=Ke(t)),!t)return new Ot;if(t instanceof Ot)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Ot(a,o,l,t.opacity)}function va(t,e,n,r){return arguments.length===1?da(t):new Ot(t,e,n,r??1)}function Ot(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}hi(Ot,va,ha(Mn,{brighter(t){return t=t==null?Kn:Math.pow(Kn,t),new Ot(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?wn:Math.pow(wn,t),new Ot(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ct(Sr(t>=240?t-240:t+120,i,r),Sr(t,i,r),Sr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ot(Bi(this.h),zn(this.s),zn(this.l),Zn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Zn(this.opacity);return`${t===1?"hsl(":"hsla("}${Bi(this.h)}, ${zn(this.s)*100}%, ${zn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Bi(t){return t=(t||0)%360,t<0?t+360:t}function zn(t){return Math.max(0,Math.min(1,t||0))}function Sr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const pa=t=>()=>t;function Gu(t,e){return function(n){return t+n*e}}function Ku(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Zu(t){return(t=+t)==1?_a:function(e,n){return n-e?Ku(e,n,t):pa(isNaN(e)?n:e)}}function _a(t,e){var n=e-t;return n?Gu(t,n):pa(isNaN(t)?e:t)}const qi=(function t(e){var n=Zu(e);function r(i,s){var a=n((i=Hr(i)).r,(s=Hr(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),u=_a(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=o(f),i.b=l(f),i.opacity=u(f),i+""}}return r.gamma=t,r})(1);function he(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Br=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ar=new RegExp(Br.source,"g");function Ju(t){return function(){return t}}function Qu(t){return function(e){return t(e)+""}}function tf(t,e){var n=Br.lastIndex=Ar.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=Br.exec(t))&&(i=Ar.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:he(r,i)})),n=Ar.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?Qu(l[0].x):Ju(e):(e=l.length,function(u){for(var f=0,d;f<e;++f)o[(d=l[f]).i]=d.x(u);return o.join("")})}var Vi=180/Math.PI,qr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ga(t,e,n,r,i,s){var a,o,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*Vi,skewX:Math.atan(l)*Vi,scaleX:a,scaleY:o}}var Dn;function ef(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?qr:ga(e.a,e.b,e.c,e.d,e.e,e.f)}function nf(t){return t==null||(Dn||(Dn=document.createElementNS("http://www.w3.org/2000/svg","g")),Dn.setAttribute("transform",t),!(t=Dn.transform.baseVal.consolidate()))?qr:(t=t.matrix,ga(t.a,t.b,t.c,t.d,t.e,t.f))}function ma(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,f,d,c,h,p){if(u!==d||f!==c){var y=h.push("translate(",null,e,null,n);p.push({i:y-4,x:he(u,d)},{i:y-2,x:he(f,c)})}else(d||c)&&h.push("translate("+d+e+c+n)}function a(u,f,d,c){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),c.push({i:d.push(i(d)+"rotate(",null,r)-2,x:he(u,f)})):f&&d.push(i(d)+"rotate("+f+r)}function o(u,f,d,c){u!==f?c.push({i:d.push(i(d)+"skewX(",null,r)-2,x:he(u,f)}):f&&d.push(i(d)+"skewX("+f+r)}function l(u,f,d,c,h,p){if(u!==d||f!==c){var y=h.push(i(h)+"scale(",null,",",null,")");p.push({i:y-4,x:he(u,d)},{i:y-2,x:he(f,c)})}else(d!==1||c!==1)&&h.push(i(h)+"scale("+d+","+c+")")}return function(u,f){var d=[],c=[];return u=t(u),f=t(f),s(u.translateX,u.translateY,f.translateX,f.translateY,d,c),a(u.rotate,f.rotate,d,c),o(u.skewX,f.skewX,d,c),l(u.scaleX,u.scaleY,f.scaleX,f.scaleY,d,c),u=f=null,function(h){for(var p=-1,y=c.length,_;++p<y;)d[(_=c[p]).i]=_.x(h);return d.join("")}}}var rf=ma(ef,"px, ","px)","deg)"),sf=ma(nf,", ",")",")"),Ze=0,dn=0,un=0,ya=1e3,Jn,vn,Qn=0,Ne=0,fr=0,bn=typeof performance=="object"&&performance.now?performance:Date,wa=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function di(){return Ne||(wa(af),Ne=bn.now()+fr)}function af(){Ne=0}function tr(){this._call=this._time=this._next=null}tr.prototype=xa.prototype={constructor:tr,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?di():+n)+(e==null?0:+e),!this._next&&vn!==this&&(vn?vn._next=this:Jn=this,vn=this),this._call=t,this._time=n,Vr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Vr())}};function xa(t,e,n){var r=new tr;return r.restart(t,e,n),r}function of(){di(),++Ze;for(var t=Jn,e;t;)(e=Ne-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ze}function ji(){Ne=(Qn=bn.now())+fr,Ze=dn=0;try{of()}finally{Ze=0,uf(),Ne=0}}function lf(){var t=bn.now(),e=t-Qn;e>ya&&(fr-=e,Qn=t)}function uf(){for(var t,e=Jn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Jn=n);vn=t,Vr(r)}function Vr(t){if(!Ze){dn&&(dn=clearTimeout(dn));var e=t-Ne;e>24?(t<1/0&&(dn=setTimeout(ji,t-bn.now()-fr)),un&&(un=clearInterval(un))):(un||(Qn=bn.now(),un=setInterval(lf,ya)),Ze=1,wa(ji))}}function Ui(t,e,n){var r=new tr;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var ff=Qs("start","end","cancel","interrupt"),cf=[],ba=0,Wi=1,jr=2,Bn=3,Yi=4,Ur=5,qn=6;function cr(t,e,n,r,i,s){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;hf(t,n,{name:e,index:r,group:i,on:ff,tween:cf,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:ba})}function vi(t,e){var n=Rt(t,e);if(n.state>ba)throw new Error("too late; already scheduled");return n}function Kt(t,e){var n=Rt(t,e);if(n.state>Bn)throw new Error("too late; already running");return n}function Rt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function hf(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=xa(s,0,n.time);function s(u){n.state=Wi,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var f,d,c,h;if(n.state!==Wi)return l();for(f in r)if(h=r[f],h.name===n.name){if(h.state===Bn)return Ui(a);h.state===Yi?(h.state=qn,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[f]):+f<e&&(h.state=qn,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[f])}if(Ui(function(){n.state===Bn&&(n.state=Yi,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=jr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===jr){for(n.state=Bn,i=new Array(c=n.tween.length),f=0,d=-1;f<c;++f)(h=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function o(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Ur,1),d=-1,c=i.length;++d<c;)i[d].call(t,f);n.state===Ur&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=qn,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function df(t,e){var n=t.__transition,r,i,s=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){s=!1;continue}i=r.state>jr&&r.state<Ur,r.state=qn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}s&&delete t.__transition}}function vf(t){return this.each(function(){df(this,t)})}function pf(t,e){var n,r;return function(){var i=Kt(this,t),s=i.tween;if(s!==n){r=n=s;for(var a=0,o=r.length;a<o;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function _f(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Kt(this,t),a=s.tween;if(a!==r){i=(r=a).slice();for(var o={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=o;break}l===u&&i.push(o)}s.tween=i}}function gf(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Rt(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?pf:_f)(n,t,e))}function pi(t,e,n){var r=t._id;return t.each(function(){var i=Kt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Rt(i,r).value[e]}}function Ea(t,e){var n;return(typeof e=="number"?he:e instanceof Ke?qi:(n=Ke(e))?(e=n,qi):tf)(t,e)}function mf(t){return function(){this.removeAttribute(t)}}function yf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function wf(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttribute(t);return a===i?null:a===r?s:s=e(r=a,n)}}function xf(t,e,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?s:s=e(r=a,n)}}function bf(t,e,n){var r,i,s;return function(){var a,o=n(this),l;return o==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=o+"",a===l?null:a===r&&l===i?s:(i=l,s=e(r=a,o)))}}function Ef(t,e,n){var r,i,s;return function(){var a,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=o+"",a===l?null:a===r&&l===i?s:(i=l,s=e(r=a,o)))}}function Sf(t,e){var n=ur(t),r=n==="transform"?sf:Ea;return this.attrTween(t,typeof e=="function"?(n.local?Ef:bf)(n,r,pi(this,"attr."+t,e)):e==null?(n.local?yf:mf)(n):(n.local?xf:wf)(n,r,e))}function Af(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Cf(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function kf(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Cf(t,s)),n}return i._value=e,i}function Tf(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Af(t,s)),n}return i._value=e,i}function Mf(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=ur(t);return this.tween(n,(r.local?kf:Tf)(r,e))}function $f(t,e){return function(){vi(this,t).delay=+e.apply(this,arguments)}}function Ff(t,e){return e=+e,function(){vi(this,t).delay=e}}function Of(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$f:Ff)(e,t)):Rt(this.node(),e).delay}function Nf(t,e){return function(){Kt(this,t).duration=+e.apply(this,arguments)}}function Rf(t,e){return e=+e,function(){Kt(this,t).duration=e}}function If(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Nf:Rf)(e,t)):Rt(this.node(),e).duration}function zf(t,e){if(typeof e!="function")throw new Error;return function(){Kt(this,t).ease=e}}function Df(t){var e=this._id;return arguments.length?this.each(zf(e,t)):Rt(this.node(),e).ease}function Pf(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Kt(this,t).ease=n}}function Lf(t){if(typeof t!="function")throw new Error;return this.each(Pf(this._id,t))}function Hf(t){typeof t!="function"&&(t=na(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],a=s.length,o=r[i]=[],l,u=0;u<a;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&o.push(l);return new ie(r,this._parents,this._name,this._id)}function Bf(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),a=new Array(r),o=0;o<s;++o)for(var l=e[o],u=n[o],f=l.length,d=a[o]=new Array(f),c,h=0;h<f;++h)(c=l[h]||u[h])&&(d[h]=c);for(;o<r;++o)a[o]=e[o];return new ie(a,this._parents,this._name,this._id)}function qf(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Vf(t,e,n){var r,i,s=qf(e)?vi:Kt;return function(){var a=s(this,t),o=a.on;o!==r&&(i=(r=o).copy()).on(e,n),a.on=i}}function jf(t,e){var n=this._id;return arguments.length<2?Rt(this.node(),n).on.on(t):this.each(Vf(n,t,e))}function Uf(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Wf(){return this.on("end.remove",Uf(this._id))}function Yf(t){var e=this._name,n=this._id;typeof t!="function"&&(t=fi(t));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var o=r[a],l=o.length,u=s[a]=new Array(l),f,d,c=0;c<l;++c)(f=o[c])&&(d=t.call(f,f.__data__,c,o))&&("__data__"in f&&(d.__data__=f.__data__),u[c]=d,cr(u[c],e,n,c,u,Rt(f,n)));return new ie(s,this._parents,e,n)}function Xf(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ea(t));for(var r=this._groups,i=r.length,s=[],a=[],o=0;o<i;++o)for(var l=r[o],u=l.length,f,d=0;d<u;++d)if(f=l[d]){for(var c=t.call(f,f.__data__,d,l),h,p=Rt(f,n),y=0,_=c.length;y<_;++y)(h=c[y])&&cr(h,e,n,y,c,p);s.push(c),a.push(f)}return new ie(s,a,e,n)}var Gf=Tn.prototype.constructor;function Kf(){return new Gf(this._groups,this._parents)}function Zf(t,e){var n,r,i;return function(){var s=Ge(this,t),a=(this.style.removeProperty(t),Ge(this,t));return s===a?null:s===n&&a===r?i:i=e(n=s,r=a)}}function Sa(t){return function(){this.style.removeProperty(t)}}function Jf(t,e,n){var r,i=n+"",s;return function(){var a=Ge(this,t);return a===i?null:a===r?s:s=e(r=a,n)}}function Qf(t,e,n){var r,i,s;return function(){var a=Ge(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),Ge(this,t))),a===l?null:a===r&&l===i?s:(i=l,s=e(r=a,o))}}function tc(t,e){var n,r,i,s="style."+e,a="end."+s,o;return function(){var l=Kt(this,t),u=l.on,f=l.value[s]==null?o||(o=Sa(e)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(a,i=f),l.on=r}}function ec(t,e,n){var r=(t+="")=="transform"?rf:Ea;return e==null?this.styleTween(t,Zf(t,r)).on("end.style."+t,Sa(t)):typeof e=="function"?this.styleTween(t,Qf(t,r,pi(this,"style."+t,e))).each(tc(this._id,t)):this.styleTween(t,Jf(t,r,e),n).on("end.style."+t,null)}function nc(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function rc(t,e,n){var r,i;function s(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&nc(t,a,n)),r}return s._value=e,s}function ic(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,rc(t,e,n??""))}function sc(t){return function(){this.textContent=t}}function ac(t){return function(){var e=t(this);this.textContent=e??""}}function oc(t){return this.tween("text",typeof t=="function"?ac(pi(this,"text",t)):sc(t==null?"":t+""))}function lc(t){return function(e){this.textContent=t.call(this,e)}}function uc(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&lc(i)),e}return r._value=t,r}function fc(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,uc(t))}function cc(){for(var t=this._name,e=this._id,n=Aa(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,l,u=0;u<o;++u)if(l=a[u]){var f=Rt(l,e);cr(l,t,n,u,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ie(r,this._parents,t,n)}function hc(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var o={value:a},l={value:function(){--i===0&&s()}};n.each(function(){var u=Kt(this,r),f=u.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),u.on=e}),i===0&&s()})}var dc=0;function ie(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Aa(){return++dc}var Jt=Tn.prototype;ie.prototype={constructor:ie,select:Yf,selectAll:Xf,selectChild:Jt.selectChild,selectChildren:Jt.selectChildren,filter:Hf,merge:Bf,selection:Kf,transition:cc,call:Jt.call,nodes:Jt.nodes,node:Jt.node,size:Jt.size,empty:Jt.empty,each:Jt.each,on:jf,attr:Sf,attrTween:Mf,style:ec,styleTween:ic,text:oc,textTween:fc,remove:Wf,tween:gf,delay:Of,duration:If,ease:Df,easeVarying:Lf,end:hc,[Symbol.iterator]:Jt[Symbol.iterator]};function vc(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var pc={time:null,delay:0,duration:250,ease:vc};function _c(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function gc(t){var e,n;t instanceof ie?(e=t._id,t=t._name):(e=Aa(),(n=pc).time=di(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,l,u=0;u<o;++u)(l=a[u])&&cr(l,t,e,u,a,n||_c(l,e));return new ie(r,this._parents,t,e)}Tn.prototype.interrupt=vf;Tn.prototype.transition=gc;function mc(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function Ca(t,e){return fetch(t,e).then(mc)}function yc(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function wc(){return this.eachAfter(yc)}function xc(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function bc(t,e){for(var n=this,r=[n],i,s,a=-1;n=r.pop();)if(t.call(e,n,++a,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function Ec(t,e){for(var n=this,r=[n],i=[],s,a,o,l=-1;n=r.pop();)if(i.push(n),s=n.children)for(a=0,o=s.length;a<o;++a)r.push(s[a]);for(;n=i.pop();)t.call(e,n,++l,this);return this}function Sc(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function Ac(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function Cc(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function kc(t){for(var e=this,n=Tc(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function Tc(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function Mc(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function $c(){return Array.from(this)}function Fc(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function Oc(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*Nc(){var t=this,e,n=[t],r,i,s;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function hr(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=zc)):e===void 0&&(e=Ic);for(var n=new er(t),r,i=[n],s,a,o,l;r=i.pop();)if((a=e(r.data))&&(l=(a=Array.from(a)).length))for(r.children=a,o=l-1;o>=0;--o)i.push(s=a[o]=new er(a[o])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(Pc)}function Rc(){return hr(this).eachBefore(Dc)}function Ic(t){return t.children}function zc(t){return Array.isArray(t)?t[1]:null}function Dc(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function Pc(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function er(t){this.data=t,this.depth=this.height=0,this.parent=null}er.prototype=hr.prototype={constructor:er,count:wc,each:xc,eachAfter:Ec,eachBefore:bc,find:Sc,sum:Ac,sort:Cc,path:kc,ancestors:Mc,descendants:$c,leaves:Fc,links:Oc,copy:Rc,[Symbol.iterator]:Nc};function Lc(t){if(typeof t!="function")throw new Error;return t}function fn(){return 0}function cn(t){return function(){return t}}function Hc(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Bc(t,e,n,r,i){for(var s=t.children,a,o=-1,l=s.length,u=t.value&&(r-e)/t.value;++o<l;)a=s[o],a.y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*u}function qc(t,e,n,r,i){for(var s=t.children,a,o=-1,l=s.length,u=t.value&&(i-n)/t.value;++o<l;)a=s[o],a.x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*u}var Vc=(1+Math.sqrt(5))/2;function jc(t,e,n,r,i,s){for(var a=[],o=e.children,l,u,f=0,d=0,c=o.length,h,p,y=e.value,_,w,E,$,M,O,N;f<c;){h=i-n,p=s-r;do _=o[d++].value;while(!_&&d<c);for(w=E=_,O=Math.max(p/h,h/p)/(y*t),N=_*_*O,M=Math.max(E/N,N/w);d<c;++d){if(_+=u=o[d].value,u<w&&(w=u),u>E&&(E=u),N=_*_*O,$=Math.max(E/N,N/w),$>M){_-=u;break}M=$}a.push(l={value:_,dice:h<p,children:o.slice(f,d)}),l.dice?Bc(l,n,r,i,y?r+=p*_/y:s):qc(l,n,r,y?n+=h*_/y:i,s),y-=_,f=d}return a}const Uc=(function t(e){function n(r,i,s,a,o){jc(e,r,i,s,a,o)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n})(Vc);function ka(){var t=Uc,e=!1,n=1,r=1,i=[0],s=fn,a=fn,o=fn,l=fn,u=fn;function f(c){return c.x0=c.y0=0,c.x1=n,c.y1=r,c.eachBefore(d),i=[0],e&&c.eachBefore(Hc),c}function d(c){var h=i[c.depth],p=c.x0+h,y=c.y0+h,_=c.x1-h,w=c.y1-h;_<p&&(p=_=(p+_)/2),w<y&&(y=w=(y+w)/2),c.x0=p,c.y0=y,c.x1=_,c.y1=w,c.children&&(h=i[c.depth+1]=s(c)/2,p+=u(c)-h,y+=a(c)-h,_-=o(c)-h,w-=l(c)-h,_<p&&(p=_=(p+_)/2),w<y&&(y=w=(y+w)/2),t(c,p,y,_,w))}return f.round=function(c){return arguments.length?(e=!!c,f):e},f.size=function(c){return arguments.length?(n=+c[0],r=+c[1],f):[n,r]},f.tile=function(c){return arguments.length?(t=Lc(c),f):t},f.padding=function(c){return arguments.length?f.paddingInner(c).paddingOuter(c):f.paddingInner()},f.paddingInner=function(c){return arguments.length?(s=typeof c=="function"?c:cn(+c),f):s},f.paddingOuter=function(c){return arguments.length?f.paddingTop(c).paddingRight(c).paddingBottom(c).paddingLeft(c):f.paddingTop()},f.paddingTop=function(c){return arguments.length?(a=typeof c=="function"?c:cn(+c),f):a},f.paddingRight=function(c){return arguments.length?(o=typeof c=="function"?c:cn(+c),f):o},f.paddingBottom=function(c){return arguments.length?(l=typeof c=="function"?c:cn(+c),f):l},f.paddingLeft=function(c){return arguments.length?(u=typeof c=="function"?c:cn(+c),f):u},f}function pn(t,e,n){this.k=t,this.x=e,this.y=n}pn.prototype={constructor:pn,scale:function(t){return t===1?this:new pn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new pn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};pn.prototype;const Xi=30,Cr=500,kr=800,Tr=["#4A90E2","#7B68EE","#50C878","#FF6B6B","#FFA500","#9B59B6","#1ABC9C","#E74C3C"],Gi=60,Ki=30,Zi=40,Ji=40,Qi=40,ts=60;function _i(t,e){let n=t+"_categories";if(e[n])return n;if(t.endsWith("s")){const r=t.slice(0,-1)+"_categories";if(e[r])return r}return null}function Pn(t,e){const n=Ke(t),r=va(n),i=.05,s=1,o=Math.min(e/.1,1),l=Math.pow(o,3);return r.s=s-l*(s-i),r.toString()}function At(t){return t.toLocaleString()}function Wc(t){if(t.length===0)return{};const e={},n=t[0];for(const r of Object.keys(n)){if(r==="id"||r==="user"||r==="agent"||r==="connections")continue;const i=n[r];if(typeof i=="string"&&new Set(t.map(a=>a[r])).size<Xi&&(e[r]="string"),Array.isArray(i)){const s=new Set;if(t.forEach(a=>{Array.isArray(a[r])&&a[r].forEach(o=>s.add(o))}),s.size<Xi){const a=_i(r,n);a&&typeof n[a]=="object"?e[r]="hierarchical":e[r]="array"}}}return e}function Yc(t,e,n="count"){const r={};for(const[i,s]of Object.entries(e))s==="hierarchical"?r[i]=Xc(t,i):s==="string"?(r[i]={},t.forEach(a=>{const o=a[i];r[i][o]||(r[i][o]={count:0,problematic:0,spend_30d:0,users_1d:0,users_7d:0,users_30d:0}),r[i][o].count++,r[i][o].spend_30d+=a.spend_30d||0,r[i][o].users_1d+=a.users_1d||0,r[i][o].users_7d+=a.users_7d||0,r[i][o].users_30d+=a.users_30d||0,nr(a)&&r[i][o].problematic++})):s==="array"&&(r[i]={},t.forEach(a=>{(a[i]||[]).forEach(l=>{r[i][l]||(r[i][l]={count:0,problematic:0,spend_30d:0,users_1d:0,users_7d:0,users_30d:0}),r[i][l].count++,r[i][l].spend_30d+=a.spend_30d||0,r[i][l].users_1d+=a.users_1d||0,r[i][l].users_7d+=a.users_7d||0,r[i][l].users_30d+=a.users_30d||0,nr(a)&&r[i][l].problematic++})}));return r}function Xc(t,e){if(t.length===0)return{};const n=_i(e,t[0]);if(!n)return console.error(`No hierarchy field found for facet: ${e}`),{};const r={},i=new Set,s={};return t.forEach(a=>{const o=a[n];o&&Object.entries(o).forEach(([l,u])=>{i.add(l),s[l]||(s[l]=new Set),u.forEach(f=>s[l].add(f))})}),i.forEach(a=>{r[a]={count:0,problematic:0,spend_30d:0,users_1d:0,users_7d:0,users_30d:0,children:{}},s[a]&&s[a].forEach(o=>{r[a].children[o]={count:0,problematic:0,spend_30d:0,users_1d:0,users_7d:0,users_30d:0}})}),t.forEach(a=>{const o=a[n];o&&Object.entries(o).forEach(([l,u])=>{u.forEach(f=>{r[l].children[f].count++,r[l].children[f].spend_30d+=a.spend_30d||0,r[l].children[f].users_1d+=a.users_1d||0,r[l].children[f].users_7d+=a.users_7d||0,r[l].children[f].users_30d+=a.users_30d||0,nr(a)&&r[l].children[f].problematic++,r[l].count++,r[l].spend_30d+=a.spend_30d||0,r[l].users_1d+=a.users_1d||0,r[l].users_7d+=a.users_7d||0,r[l].users_30d+=a.users_30d||0,nr(a)&&r[l].problematic++})})}),r}function nr(t){return t.status==="warning"}function Gc(t,e,n,r="count"){const s={name:"root",children:Object.entries(t).map(([l,u])=>({name:l,value:u[r]||0,count:u.count,spend_30d:u.spend_30d,users_1d:u.users_1d,users_7d:u.users_7d,users_30d:u.users_30d,problematic:u.problematic}))},a=hr(s).sum(l=>l.value).sort((l,u)=>u.value-l.value);return ka().size([e,n]).padding(2).round(!0)(a),a.leaves()}function Kc(t,e,n,r="count"){const s={name:"root",children:Object.entries(t).map(([l,u])=>({name:l,count:u.count,spend_30d:u.spend_30d,users_1d:u.users_1d,users_7d:u.users_7d,users_30d:u.users_30d,problematic:u.problematic,isCategory:!0,children:Object.entries(u.children).map(([d,c])=>({name:d,value:c[r]||0,count:c.count,spend_30d:c.spend_30d,users_1d:c.users_1d,users_7d:c.users_7d,users_30d:c.users_30d,problematic:c.problematic,isCategory:!1}))}))},a=hr(s).sum(l=>l.value||0).sort((l,u)=>u.value-l.value);return ka().size([e,n]).paddingOuter(2).paddingTop(20).paddingInner(2).round(!0)(a),a}const dr=me([]),Wr=me({}),mn=me([]),Yr=me("count"),Xr=me({}),Ln=me(null),Zc=lr([dr],([t])=>{const e=new Map;return t.forEach(n=>{e.set(n.id,n)}),e}),Jc=lr([dr],([t])=>{const e=new Map;return t.forEach(n=>{e.set(n.id,[])}),t.forEach(n=>{n.connections&&Array.isArray(n.connections)&&n.connections.forEach(r=>{const i=e.get(r);i&&i.push(n.id)})}),e}),Qc=lr([dr,mn],([t,e])=>e.length===0?t:t.filter(n=>e.every(r=>{const{facetName:i,facetValue:s,facetType:a}=r;if(a==="string")return n[i]===s;if(a==="array"||a==="hierarchical"){if(a==="hierarchical"){const l=_i(i,n);if(l){const u=n[l];if(u&&typeof u=="object"&&u[s])return!0}}return(n[i]||[]).includes(s)}return!0})));var th=I('<span class="filter-chip svelte-1e87otd"> <button class="remove-filter svelte-1e87otd">Ã</button></span>'),eh=I('<div class="filter-notice svelte-1e87otd"><strong class="svelte-1e87otd">Filtered by:</strong> <!> <button class="clear-all svelte-1e87otd">Clear All</button></div>');function nh(t,e){tn(e,!1);const n=()=>Ft(mn,"$activeFilters",r),[r,i]=kn();function s(f){mn.update(d=>d.filter((c,h)=>h!==f))}function a(){mn.set([])}Cn();var o=be(),l=ce(o);{var u=f=>{var d=eh(),c=H(C(d),2);Bt(c,1,n,te,(p,y,_)=>{var w=th(),E=C(w),$=H(E);V(()=>j(E,`${v(y).facetName??""} = "${v(y).facetValue??""}" `)),de("click",$,()=>s(_)),T(p,w)});var h=H(c,2);de("click",h,a),T(f,d)};et(l,f=>{n().length>0&&f(u)})}T(t,o),en(),i()}var rh=I('<label class="size-toggle-option svelte-1kjcpjp"><input type="radio" name="sizeMetric" class="svelte-1kjcpjp"/> <span class="svelte-1kjcpjp"> </span></label>'),ih=I('<div class="size-toggle svelte-1kjcpjp"><label class="size-toggle-label svelte-1kjcpjp">SIZE BY:</label> <div class="size-toggle-options svelte-1kjcpjp"></div></div>');function sh(t,e){tn(e,!1);const n=()=>Ft(Yr,"$sizeMetric",r),[r,i]=kn(),s=[{value:"count",label:"Agent Count"},{value:"spend_30d",label:"Total Spend (30d)"},{value:"users_1d",label:"Total Users (1d)"},{value:"users_7d",label:"Total Users (7d)"},{value:"users_30d",label:"Total Users (30d)"}];function a(u){Yr.set(u)}Cn();var o=ih(),l=H(C(o),2);Bt(l,5,()=>s,te,(u,f)=>{var d=rh(),c=C(d),h=H(c,2),p=C(h);V(()=>{Xo(c,v(f).value),Go(c,n()===v(f).value),j(p,v(f).label)}),de("change",c,()=>a(v(f).value)),T(u,d)}),T(t,o),en(),i()}var ah=I('<div class="facet-group svelte-1ags5i1"><div class="facet-title svelte-1ags5i1"> </div> <svg class="treemap-svg svelte-1ags5i1"></svg></div>');function oh(t,e){tn(e,!1);const n=()=>Ft(Xr,"$highlightedValues",r),[r,i]=kn();let s=Se(e,"facetName",8),a=Se(e,"facetStats",8),o=Se(e,"facetType",8),l=Se(e,"color",8),u=Se(e,"sizeMetric",8,"count"),f=Vt(),d=!1;function c(O){mn.update(N=>N.some(P=>P.facetName===s()&&P.facetValue===O)?N:[...N,{facetName:s(),facetValue:O,facetType:o()}])}function h(O){let N=O.target;if(N.tagName==="rect"){const z=N.getAttribute("data-facet-value");z&&c(z)}}function p(){o()==="hierarchical"?_():y()}function y(){if(!v(f)||!a())return;const O=Gc(a(),kr,Cr,u()),N=Er(v(f)),z=!d||O.length===0;O.length>0&&(d=!0);const P=n()[s()]||{direct:[],transitive:[]},q=m=>P.direct&&P.direct.includes(m),vt=m=>P.transitive&&P.transitive.includes(m),k=N.selectAll("g").data(O,m=>m.data.name).join(m=>{const g=m.append("g").attr("transform",x=>`translate(${x.x0},${x.y0})`).style("opacity",z?1:0);return g.append("title"),g.append("rect").attr("class",x=>q(x.data.name)?"highlighted-direct":vt(x.data.name)?"highlighted-transitive":"").attr("width",x=>x.x1-x.x0).attr("height",x=>x.y1-x.y0).attr("fill",x=>{const b=x.data.count>0?x.data.problematic/x.data.count:0;return Pn(l(),b)}).attr("fill-opacity",.7).attr("stroke","rgba(0,0,0,0.2)").attr("stroke-width",1).attr("data-facet-value",x=>x.data.name).style("cursor","pointer"),g.append("text").attr("class","treemap-label").attr("x",5).attr("y",15),g.append("text").attr("class","treemap-count").attr("text-anchor","middle"),g.append("text").attr("class","treemap-problematic").attr("text-anchor","middle"),z?g:g.transition().duration(500).style("opacity",1)},m=>(m.transition().duration(500).attr("transform",g=>`translate(${g.x0},${g.y0})`),m.select("rect").attr("class",g=>q(g.data.name)?"highlighted-direct":vt(g.data.name)?"highlighted-transitive":"").transition().duration(500).attr("width",g=>g.x1-g.x0).attr("height",g=>g.y1-g.y0).attr("fill",g=>{const x=g.data.count>0?g.data.problematic/g.data.count:0;return Pn(l(),x)}),m),m=>m.transition().duration(500).style("opacity",0).remove());k.select("title").text(m=>`${m.data.name}
Count: ${At(m.data.count)}${m.data.problematic>0?`
Problematic: ${At(m.data.problematic)}`:""}`),k.select(".treemap-label").text(m=>m.x1-m.x0>Gi&&m.y1-m.y0>Ki?m.data.name:"").transition().duration(500).attr("x",5).attr("y",15),k.select(".treemap-count").text(m=>{if(m.x1-m.x0<=Zi||m.y1-m.y0<=Ji)return"";const g=m.data[u()]||0;return u()==="spend_30d"?`$${At(Math.round(g))}`:At(g)}).transition().duration(500).attr("x",m=>(m.x1-m.x0)/2).attr("y",m=>(m.y1-m.y0)/2),k.select(".treemap-problematic").text(m=>m.data.problematic>0&&m.x1-m.x0>Qi&&m.y1-m.y0>ts?`â  ${At(m.data.problematic)}`:"").transition().duration(500).attr("x",m=>(m.x1-m.x0)/2).attr("y",m=>(m.y1-m.y0)/2+20)}function _(){if(!v(f)||!a())return;if(Object.keys(a()).length===0){Er(v(f)).selectAll("*").remove(),d=!1;return}const O=Kc(a(),kr,Cr,u()),N=Er(v(f)),z=O.descendants().filter(g=>g.depth>0),P=!d||z.length===0;z.length>0&&(d=!0);const q=n()[s()]||{direct:[],transitive:[]},vt=g=>q.direct&&q.direct.includes(g),k=g=>q.transitive&&q.transitive.includes(g),m=N.selectAll("g.node").data(z,g=>g.data.name).join(g=>{const x=g.append("g").attr("class",b=>`node ${b.data.isCategory?"category":"leaf"}`).attr("transform",b=>`translate(${b.x0},${b.y0})`).style("opacity",P?1:0);return x.append("title"),x.append("rect").attr("class",b=>{const Y=[b.data.isCategory?"category-rect":"leaf-rect"];return b.data.isCategory||(vt(b.data.name)?Y.push("highlighted-direct"):k(b.data.name)&&Y.push("highlighted-transitive")),Y.join(" ")}).attr("width",b=>b.x1-b.x0).attr("height",b=>b.y1-b.y0).attr("fill",b=>{if(b.data.isCategory)return"transparent";const Y=b.data.count>0?b.data.problematic/b.data.count:0;return Pn(l(),Y)}).attr("fill-opacity",b=>b.data.isCategory?0:.7).attr("stroke",b=>b.data.isCategory?l():"rgba(0,0,0,0.2)").attr("stroke-width",b=>b.data.isCategory?2:1).attr("data-facet-value",b=>b.data.name).style("cursor","pointer"),x.append("text").attr("class",b=>b.data.isCategory?"treemap-category-label":"treemap-label").attr("x",5).attr("y",b=>(b.data.isCategory,15)),x.append("text").attr("class","treemap-count").attr("text-anchor","middle"),x.append("text").attr("class","treemap-problematic").attr("text-anchor","middle"),P?x:x.transition().duration(500).style("opacity",1)},g=>(g.transition().duration(500).attr("transform",x=>`translate(${x.x0},${x.y0})`),g.select("rect").attr("class",x=>{const b=[x.data.isCategory?"category-rect":"leaf-rect"];return x.data.isCategory||(vt(x.data.name)?b.push("highlighted-direct"):k(x.data.name)&&b.push("highlighted-transitive")),b.join(" ")}).transition().duration(500).attr("width",x=>x.x1-x.x0).attr("height",x=>x.y1-x.y0).attr("fill",x=>{if(x.data.isCategory)return"transparent";const b=x.data.count>0?x.data.problematic/x.data.count:0;return Pn(l(),b)}),g),g=>g.transition().duration(500).style("opacity",0).remove());m.select("title").text(g=>{const x=g.data.isCategory?"Category":"Permission";return`${g.data.name}
${x}
Count: ${At(g.data.count)}${g.data.problematic>0?`
Problematic: ${At(g.data.problematic)}`:""}`}),m.select(".treemap-category-label, .treemap-label").text(g=>{const x=g.x1-g.x0,b=g.y1-g.y0;return x>Gi&&b>Ki?g.data.name:""}).transition().duration(500).attr("x",5).attr("y",g=>(g.data.isCategory,15)),m.select(".treemap-count").text(g=>{if(g.data.isCategory||g.x1-g.x0<=Zi||g.y1-g.y0<=Ji)return"";const x=g.data[u()]||0;return u()==="spend_30d"?`$${At(Math.round(x))}`:At(x)}).transition().duration(500).attr("x",g=>(g.x1-g.x0)/2).attr("y",g=>(g.y1-g.y0)/2),m.select(".treemap-problematic").text(g=>g.data.isCategory?"":g.data.problematic>0&&g.x1-g.x0>Qi&&g.y1-g.y0>ts?`â  ${At(g.data.problematic)}`:"").transition().duration(500).attr("x",g=>(g.x1-g.x0)/2).attr("y",g=>(g.y1-g.y0)/2+20)}Zs(p),el(p),Ee(()=>n(),()=>{n()&&p()}),ii(),Cn();var w=ah(),E=C(w),$=C(E),M=H(E,2);Ks(M,O=>G(f,O),()=>v(f)),V(O=>{j($,O),Dr(M,"width",kr),Dr(M,"height",Cr)},[()=>(S(s()),A(()=>s().toUpperCase()))]),de("click",M,h),T(t,w),en(),i()}function Pe(t,e,n){let r=n.initialDeps??[],i;function s(){var a,o,l,u;let f;n.key&&((a=n.debug)!=null&&a.call(n))&&(f=Date.now());const d=t();if(!(d.length!==r.length||d.some((p,y)=>r[y]!==p)))return i;r=d;let h;if(n.key&&((o=n.debug)!=null&&o.call(n))&&(h=Date.now()),i=e(...d),n.key&&((l=n.debug)!=null&&l.call(n))){const p=Math.round((Date.now()-f)*100)/100,y=Math.round((Date.now()-h)*100)/100,_=y/16,w=(E,$)=>{for(E=String(E);E.length<$;)E=" "+E;return E};console.info(`%câ± ${w(y,5)} /${w(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*_,120))}deg 100% 31%);`,n?.key)}return(u=n?.onChange)==null||u.call(n,i),i}return s.updateDeps=a=>{r=a},s}function es(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const lh=(t,e)=>Math.abs(t-e)<1.01,uh=(t,e,n)=>{let r;return function(...i){t.clearTimeout(r),r=t.setTimeout(()=>e.apply(this,i),n)}},ns=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},fh=t=>t,ch=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),r=[];for(let i=e;i<=n;i++)r.push(i);return r},hh=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;const i=a=>{const{width:o,height:l}=a;e({width:Math.round(o),height:Math.round(l)})};if(i(ns(n)),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(a=>{const o=()=>{const l=a[0];if(l?.borderBoxSize){const u=l.borderBoxSize[0];if(u){i({width:u.inlineSize,height:u.blockSize});return}}i(ns(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},rs={passive:!0},is=typeof window>"u"?!0:"onscrollend"in window,dh=(t,e)=>{const n=t.scrollElement;if(!n)return;const r=t.targetWindow;if(!r)return;let i=0;const s=t.options.useScrollendEvent&&is?()=>{}:uh(r,()=>{e(i,!1)},t.options.isScrollingResetDelay),a=f=>()=>{const{horizontal:d,isRtl:c}=t.options;i=d?n.scrollLeft*(c&&-1||1):n.scrollTop,s(),e(i,f)},o=a(!0),l=a(!1);l(),n.addEventListener("scroll",o,rs);const u=t.options.useScrollendEvent&&is;return u&&n.addEventListener("scrollend",l,rs),()=>{n.removeEventListener("scroll",o),u&&n.removeEventListener("scrollend",l)}},vh=(t,e,n)=>{if(e?.borderBoxSize){const r=e.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},ph=(t,{adjustments:e=0,behavior:n},r)=>{var i,s;const a=t+e;(s=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[r.options.horizontal?"left":"top"]:a,behavior:n})};class _h{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{const a=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var s;return(s=r())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=r())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:fh,rangeExtractor:ch,onChange:()=>{},measureElement:vh,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=Pe(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,s=new Map;for(let a=r-1;a>=0;a--){const o=n[a];if(i.has(o.lane))continue;const l=s.get(o.lane);if(l==null||o.end>l.end?s.set(o.lane,o):o.end<l.end&&i.set(o.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((a,o)=>a.end===o.end?a.index-o.index:a.end-o.end)[0]:void 0},this.getMeasurementOptions=Pe(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,s,a)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:a}),{key:!1}),this.getMeasurements=Pe(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:a},o)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,l);for(let f=l;f<n;f++){const d=s(f),c=this.options.lanes===1?u[f-1]:this.getFurthestMeasurement(u,f),h=c?c.end+this.options.gap:r+i,p=o.get(d),y=typeof p=="number"?p:this.options.estimateSize(f),_=h+y,w=c?c.lane:f%this.options.lanes;u[f]={index:f,start:h,size:y,end:_,key:d,lane:w}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Pe(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,s)=>this.range=n.length>0&&r>0?gh({measurements:n,outerSize:r,scrollOffset:i,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Pe(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,s,a)=>s===null||a===null?[]:n({startIndex:s,endIndex:a,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),s=this.measurementsCache[i];if(!s)return;const a=s.key,o=this.elementsCache.get(a);o!==n&&(o&&this.observer.unobserve(o),this.observer.observe(n),this.elementsCache.set(a,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,a=r-s;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,a,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=Pe(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let s=0,a=n.length;s<a;s++){const o=n[s],l=r[o];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return es(r[Ta(0,r.length-1,i=>es(r[i]).start,n)])},this.getOffsetForAlignment=(n,r,i=0)=>{const s=this.getSize(),a=this.getScrollOffset();r==="auto"&&(r=n>=a+s?"end":"start"),r==="center"?n+=(i-s)/2:r==="end"&&(n-=s);const o=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(o,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const s=this.getSize(),a=this.getScrollOffset();if(r==="auto")if(i.end>=a+s-this.options.scrollPaddingEnd)r="end";else if(i.start<=a+this.options.scrollPaddingStart)r="start";else return[a,r];const o=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let s=0;const a=10,o=u=>{if(!this.targetWindow)return;const f=this.getOffsetForIndex(n,u);if(!f){console.warn("Failed to get offset for index:",n);return}const[d,c]=f;this._scrollToOffset(d,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const h=this.getScrollOffset(),p=this.getOffsetForIndex(n,c);if(!p){console.warn("Failed to get offset for index:",n);return}lh(p[0],h)||l(c)})},l=u=>{this.targetWindow&&(s++,s<a?this.targetWindow.requestAnimationFrame(()=>o(u)):console.warn(`Failed to scroll to index ${n} after ${a} attempts.`))};o(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=r[r.length-1])==null?void 0:n.end)??0;else{const s=Array(this.options.lanes).fill(null);let a=r.length-1;for(;a>=0&&s.some(o=>o===null);){const o=r[a];s[o.lane]===null&&(s[o.lane]=o.end),a--}i=Math.max(...s.filter(o=>o!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const Ta=(t,e,n,r)=>{for(;t<=e;){const i=(t+e)/2|0,s=n(i);if(s<r)t=i+1;else if(s>r)e=i-1;else return i}return t>0?t-1:0};function gh({measurements:t,outerSize:e,scrollOffset:n,lanes:r}){const i=t.length-1,s=l=>t[l].start;if(t.length<=r)return{startIndex:0,endIndex:i};let a=Ta(0,i,s,n),o=a;if(r===1)for(;o<i&&t[o].end<n+e;)o++;else if(r>1){const l=Array(r).fill(0);for(;o<i&&l.some(f=>f<n+e);){const f=t[o];l[f.lane]=f.end,o++}const u=Array(r).fill(n+e);for(;a>=0&&u.some(f=>f>=n);){const f=t[a];u[f.lane]=f.start,a--}a=Math.max(0,a-a%r),o=Math.min(i,o+(r-1-o%r))}return{startIndex:a,endIndex:o}}function mh(t){const e=new _h(t),n=e.setOptions;let r;const i=s=>{const a={...e.options,...s,onChange:s.onChange};n({...a,onChange:(o,l)=>{r.set(o),a.onChange?.(o,l)}}),e._willUpdate()};return r=me(e,()=>(i(t),e._didMount())),lr(r,s=>Object.assign(s,{setOptions:i}))}function yh(t){return mh({observeElementRect:hh,observeElementOffset:dh,scrollToFn:ph,...t})}async function wh(){try{const t=await Ca("../data.config.json");return console.log("â Loaded config from data.config.json"),t}catch{return console.warn("No config file found, using auto-detection"),null}}function xh(t,e){if(e)return console.log("â Using explicit config from data.config.json"),e;console.warn("â  No config file found - using auto-detection heuristics"),console.warn("  For better control, create a data.config.json file");const n=t[0]||{},r=Object.keys(n),i={version:"1.0-auto",roles:{titleField:bh(n),idField:Eh(r),warningField:Sh(r),warningValue:"warning",connectionField:Ah(n),connectionSecondaryField:null},fieldOrder:r.filter(s=>Ch(s,n)),excludeFromDisplay:[]};return console.log("Auto-detected schema:",{titleField:i.roles.titleField,idField:i.roles.idField,warningField:i.roles.warningField,connectionField:i.roles.connectionField}),i}function bh(t){const e=["name","title","agent","label"];for(const r of e)if(r in t)return r;for(const[r,i]of Object.entries(t))if(typeof i=="string")return console.warn(`  Using "${r}" as title field (first string field found)`),r;const n=Object.keys(t)[0];return console.warn(`  Using "${n}" as title field (first field in record)`),n}function Eh(t){return t.includes("id")?"id":t[0]}function Sh(t){return t.includes("status")?"status":null}function Ah(t){for(const[e,n]of Object.entries(t))if(Array.isArray(n)&&n.length>0&&typeof n[0]=="number")return e;return console.warn("  No connection field found (expected array of numbers)"),null}function Ch(t,e){const n=e[t];return t!=="_internal"&&n!==void 0}function Lt(t){return t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}function St(t,e){return t[e]}function fe(t,e){return e.roles.warningField?t[e.roles.warningField]===e.roles.warningValue:!1}function Mr(t,e){const n=e.roles.connectionField;return!n||!t[n]?null:{ids:t[n],secondaryField:e.roles.connectionSecondaryField}}function ss(t){return t.fieldOrder.filter(e=>!t.excludeFromDisplay.includes(e))}function as(t,e){return Array.isArray(t[e])}function os(t,e){const n=t[e];return n!==null&&typeof n=="object"&&!Array.isArray(n)}var kh=I('<span class="detail-item-warning svelte-ti8i33">â  WARNING</span>'),Th=I('<span class="connection-platform svelte-ti8i33"> </span>'),Mh=I('<span class="connection-warning svelte-ti8i33">â </span>'),$h=I('<button title="Click to highlight and scroll to this record"><div class="connection-agent svelte-ti8i33"> </div> <div class="connection-details svelte-ti8i33"><!> <!></div></button>'),Fh=I('<span class="connection-item-missing svelte-ti8i33" title="Record not found"> </span>'),Oh=I('<div class="detail-item-field svelte-ti8i33"><strong class="svelte-ti8i33"> </strong> <div class="connections-list svelte-ti8i33"></div></div>'),Nh=I('<span class="permission-badge svelte-ti8i33"> </span>'),Rh=I('<div class="detail-item-field svelte-ti8i33"><strong class="svelte-ti8i33"> </strong> <div class="detail-item-permissions svelte-ti8i33"></div></div>'),Ih=I('<span class="permission-badge small svelte-ti8i33"> </span>'),zh=I('<div class="object-field-value svelte-ti8i33"></div>'),Dh=I('<span class="object-field-value svelte-ti8i33"> </span>'),Ph=I('<div class="object-field-item svelte-ti8i33"><span class="object-field-key svelte-ti8i33"> </span> <!></div>'),Lh=I('<div class="detail-item-field svelte-ti8i33"><strong class="svelte-ti8i33"> </strong> <div class="object-field svelte-ti8i33"></div></div>'),Hh=I('<div class="detail-item-field svelte-ti8i33"><strong class="svelte-ti8i33"> </strong> </div>'),Bh=I('<span class="connection-platform svelte-ti8i33"> </span>'),qh=I('<span class="connection-warning svelte-ti8i33">â </span>'),Vh=I('<button title="Click to highlight and scroll to this record"><div class="connection-agent svelte-ti8i33"> </div> <div class="connection-details svelte-ti8i33"><!> <!></div></button>'),jh=I('<span class="connection-item-missing svelte-ti8i33" title="Record not found"> </span>'),Uh=I('<div class="detail-item-field svelte-ti8i33"><strong class="svelte-ti8i33"> </strong> <div class="connections-list svelte-ti8i33"></div></div>'),Wh=I('<div><div class="detail-item-header svelte-ti8i33"><span> </span> <!></div> <!> <!></div>'),Yh=I("<div></div>"),Xh=I('<div class="detail-panel svelte-ti8i33"><h2 class="svelte-ti8i33"> </h2> <div class="detail-list svelte-ti8i33"><!></div></div>');function Gh(t,e){tn(e,!1);const n=()=>Ft(v(f),"$virtualizer",o),r=()=>Ft(Wr,"$facetTypes",o),i=()=>Ft(Zc,"$recordLookup",o),s=()=>Ft(Ln,"$highlightedRecordId",o),a=()=>Ft(Jc,"$backlinksMap",o),[o,l]=kn(),u=Vt(),f=Vt(),d=Vt(),c=Vt();let h=Se(e,"data",8),p=Se(e,"schema",8),y=Vt(),_=new Map;function w(k,m){const{recordId:g,virtualItem:x}=m;return _.set(g,k),v(f)&&requestAnimationFrame(()=>{k.isConnected&&n().measureElement(k)}),{destroy(){_.delete(g)}}}function E(k){const m={},g=r();Object.keys(g).forEach(rt=>{m[rt]={direct:[],transitive:[]}});const x=new Set([k.id]),b=[k.id],Y=[];for(;b.length>0;){const rt=b.shift(),X=i().get(rt);if(X){const it=Mr(X,p());it&&it.ids&&it.ids.forEach(xt=>{if(!x.has(xt)){x.add(xt),b.push(xt);const oe=i().get(xt);oe&&Y.push(oe)}})}}Object.keys(g).forEach(rt=>{const X=g[rt];if(X==="string"){const it=k[rt];it&&m[rt].direct.push(it)}else if(X==="array"||X==="hierarchical"){const it=k[rt]||[];m[rt].direct.push(...it)}}),Y.forEach(rt=>{Object.keys(g).forEach(X=>{const it=g[X];if(it==="string"){const xt=rt[X];xt&&!m[X].transitive.includes(xt)&&!m[X].direct.includes(xt)&&m[X].transitive.push(xt)}else(it==="array"||it==="hierarchical")&&(rt[X]||[]).forEach(oe=>{!m[X].transitive.includes(oe)&&!m[X].direct.includes(oe)&&m[X].transitive.push(oe)})})}),Xr.set(m)}function $(){Xr.set({})}async function M(k){Ln.set(k);const m=h().findIndex(g=>g.id===k);m>=0?(v(f)&&n().scrollToIndex(m,{align:"center",behavior:"auto"}),await Si(),requestAnimationFrame(()=>{requestAnimationFrame(()=>{setTimeout(()=>{Ln.set(null)},2e3)})})):(alert("Connected record is not in the current filtered view. Try adjusting your filters."),Ln.set(null))}Ee(()=>(S(h()),v(y)),()=>{G(u,{count:h().length,getScrollElement:()=>v(y),estimateSize:()=>280,overscan:5,measureElement:k=>k?.getBoundingClientRect().height})}),Ee(()=>(v(y),v(u)),()=>{Qo(G(f,v(y)?yh(v(u)):null),"$virtualizer",o)}),Ee(()=>(v(f),S(h()),n()),()=>{v(f)&&h()&&Si().then(()=>{requestAnimationFrame(()=>{_.forEach(k=>{k?.isConnected&&n().measureElement(k)})})})}),Ee(()=>(S(p()),ss),()=>{G(d,p()?ss(p()):[])}),Ee(()=>S(p()),()=>{G(c,p()?p().roles.titleField:"agent")}),ii(),Cn();var O=Xh(),N=C(O),z=C(N),P=H(N,2),q=C(P);{var vt=k=>{var m=Yh();Bt(m,5,()=>(n(),A(()=>n().getVirtualItems())),g=>g.key,(g,x)=>{const b=qt(()=>(S(h()),v(x),A(()=>h()[v(x).index])));var Y=Wh();let rt;var X=C(Y),it=C(X),xt=C(it),oe=H(it,2);{var Ma=pt=>{var L=kh();T(pt,L)};et(oe,pt=>{S(fe),S(v(b)),S(p()),A(()=>fe(v(b),p()))&&pt(Ma)})}var gi=H(X,2);Bt(gi,1,()=>v(d),te,(pt,L)=>{const ye=qt(()=>(S(St),S(v(b)),v(L),A(()=>St(v(b),v(L)))));var sn=be(),vr=ce(sn);{var pr=Mt=>{const B=qt(()=>(S(Mr),S(v(b)),S(p()),A(()=>Mr(v(b),p()))));var we=be(),an=ce(we);{var on=bt=>{var st=Oh(),at=C(st),It=C(at),le=H(at,2);Bt(le,5,()=>(S(v(B)),A(()=>v(B).ids)),te,(Q,ut)=>{const W=qt(()=>(i(),v(ut),A(()=>i().get(v(ut)))));var zt=be(),xe=ce(zt);{var Zt=tt=>{var Et=$h();let $t;var ln=C(Et),$n=C(ln),gr=H(ln,2),Fn=C(gr);{var mr=ot=>{var Pt=Th(),wr=C(Pt);V(On=>j(wr,On),[()=>(S(St),S(v(W)),S(v(B)),A(()=>St(v(W),v(B).secondaryField)))]),T(ot,Pt)};et(Fn,ot=>{S(v(B)),A(()=>v(B).secondaryField)&&ot(mr)})}var yr=H(Fn,2);{var Dt=ot=>{var Pt=Mh();T(ot,Pt)};et(yr,ot=>{S(fe),S(v(W)),S(p()),A(()=>fe(v(W),p()))&&ot(Dt)})}V((ot,Pt)=>{$t=br(Et,1,"connection-item svelte-ti8i33",null,$t,ot),j($n,Pt)},[()=>({warning:fe(v(W),p())}),()=>(S(St),S(v(W)),v(c),A(()=>St(v(W),v(c))))]),de("click",Et,()=>M(v(ut))),T(tt,Et)},_t=tt=>{var Et=Fh(),$t=C(Et);V(()=>j($t,`ID ${v(ut)??""} (not found)`)),T(tt,Et)};et(xe,tt=>{v(W)?tt(Zt):tt(_t,!1)})}T(Q,zt)}),V(Q=>j(It,`${Q??""} (${S(v(B)),A(()=>v(B).ids.length)??""}):`),[()=>(S(Lt),v(L),A(()=>Lt(v(L))))]),T(bt,st)};et(an,bt=>{S(v(B)),A(()=>v(B)&&v(B).ids.length>0)&&bt(on)})}T(Mt,we)},_r=Mt=>{var B=be(),we=ce(B);{var an=bt=>{var st=Rh(),at=C(st),It=C(at),le=H(at,2);Bt(le,5,()=>v(ye),te,(Q,ut)=>{var W=Nh(),zt=C(W);V(()=>j(zt,v(ut))),T(Q,W)}),V(Q=>j(It,`${Q??""}:`),[()=>(S(Lt),v(L),A(()=>Lt(v(L))))]),T(bt,st)},on=bt=>{var st=be(),at=ce(st);{var It=Q=>{var ut=Lh(),W=C(ut),zt=C(W),xe=H(W,2);Bt(xe,5,()=>(S(v(ye)),A(()=>Object.entries(v(ye)))),te,(Zt,_t)=>{var tt=Cs(()=>hs(v(_t),2));let Et=()=>v(tt)[0],$t=()=>v(tt)[1];var ln=Ph(),$n=C(ln),gr=C($n),Fn=H($n,2);{var mr=Dt=>{var ot=zh();Bt(ot,5,$t,te,(Pt,wr)=>{var On=Ih(),Oa=C(On);V(()=>j(Oa,v(wr))),T(Pt,On)}),T(Dt,ot)},yr=Dt=>{var ot=Dh(),Pt=C(ot);V(()=>j(Pt,$t())),T(Dt,ot)};et(Fn,Dt=>{$t(),A(()=>Array.isArray($t()))?Dt(mr):Dt(yr,!1)})}V(Dt=>j(gr,`${Dt??""}:`),[()=>(S(Lt),Et(),A(()=>Lt(Et())))]),T(Zt,ln)}),V(Zt=>j(zt,`${Zt??""}:`),[()=>(S(Lt),v(L),A(()=>Lt(v(L))))]),T(Q,ut)},le=Q=>{var ut=Hh(),W=C(ut),zt=C(W),xe=H(W);V(Zt=>{j(zt,`${Zt??""}:`),j(xe,` ${v(ye)??""}`)},[()=>(S(Lt),v(L),A(()=>Lt(v(L))))]),T(Q,ut)};et(at,Q=>{S(os),S(v(b)),v(L),A(()=>os(v(b),v(L)))?Q(It):Q(le,!1)},!0)}T(bt,st)};et(we,bt=>{S(as),S(v(b)),v(L),A(()=>as(v(b),v(L)))?bt(an):bt(on,!1)},!0)}T(Mt,B)};et(vr,Mt=>{v(L),S(p()),A(()=>v(L)===p().roles.connectionField)?Mt(pr):Mt(_r,!1)})}T(pt,sn)});var $a=H(gi,2);{var Fa=pt=>{const L=qt(()=>(a(),S(v(b)),A(()=>a().get(v(b).id)||[])));var ye=Uh(),sn=C(ye),vr=C(sn),pr=H(sn,2);Bt(pr,5,()=>v(L),te,(_r,Mt)=>{const B=qt(()=>(i(),v(Mt),A(()=>i().get(v(Mt)))));var we=be(),an=ce(we);{var on=st=>{var at=Vh();let It;var le=C(at),Q=C(le),ut=H(le,2),W=C(ut);{var zt=_t=>{var tt=Bh(),Et=C(tt);V($t=>j(Et,$t),[()=>(S(St),S(v(B)),S(p()),A(()=>St(v(B),p().roles.connectionSecondaryField)))]),T(_t,tt)};et(W,_t=>{S(p()),A(()=>p().roles.connectionSecondaryField)&&_t(zt)})}var xe=H(W,2);{var Zt=_t=>{var tt=qh();T(_t,tt)};et(xe,_t=>{S(fe),S(v(B)),S(p()),A(()=>fe(v(B),p()))&&_t(Zt)})}V((_t,tt)=>{It=br(at,1,"connection-item svelte-ti8i33",null,It,_t),j(Q,tt)},[()=>({warning:fe(v(B),p())}),()=>(S(St),S(v(B)),v(c),A(()=>St(v(B),v(c))))]),de("click",at,()=>M(v(Mt))),T(st,at)},bt=st=>{var at=jh(),It=C(at);V(()=>j(It,`ID ${v(Mt)??""} (not found)`)),T(st,at)};et(an,st=>{v(B)?st(on):st(bt,!1)})}T(_r,we)}),V(()=>j(vr,`Connects to this (${S(v(L)),A(()=>v(L).length)??""}):`)),T(pt,ye)};et($a,pt=>{a(),S(v(b)),A(()=>(a().get(v(b).id)||[]).length>0)&&pt(Fa)})}Vo(Y,(pt,L)=>w?.(pt,L),()=>({recordId:v(b).id,virtualItem:v(x)})),Wn(()=>de("mouseenter",Y,()=>E(v(b)))),Wn(()=>de("mouseleave",Y,$)),V(pt=>{rt=br(Y,1,"detail-item svelte-ti8i33",null,rt,{highlighted:s()===v(b).id}),Ti(Y,`position: absolute; top: 0; left: 0; width: 100%; transform: translateY(${v(x),A(()=>v(x).start)??""}px);`),Dr(Y,"data-index",(v(x),A(()=>v(x).index))),j(xt,pt)},[()=>(S(St),S(v(b)),v(c),A(()=>St(v(b),v(c))))]),T(g,Y)}),V(g=>Ti(m,`height: ${g??""}px; width: 100%; position: relative;`),[()=>(n(),A(()=>n().getTotalSize()))]),T(k,m)};et(q,k=>{v(f)&&k(vt)})}Ks(P,k=>G(y,k),()=>v(y)),V(k=>j(z,`Matching Records (${k??""})`),[()=>(S(At),S(h()),A(()=>At(h().length)))]),T(t,O),en(),l()}var Kh=I('<div id="visualization" class="svelte-2jhczl"></div> <!>',1),Zh=I("<p>Loading...</p>"),Jh=I('<div id="container" class="svelte-2jhczl"><h1 class="svelte-2jhczl">Hierarchical Faceted Browser</h1> <!> <!> <div id="main-content" class="svelte-2jhczl"><!></div></div>');function Qh(t,e){tn(e,!1);const n=()=>Ft(Wr,"$facetTypes",s),r=()=>Ft(Qc,"$filteredData",s),i=()=>Ft(Yr,"$sizeMetric",s),[s,a]=kn();let o=Vt({}),l=Vt(null);Zs(async()=>{try{const _=await wh(),w=await Ca("../data.json");w.forEach($=>{$.connections&&$.connections.length>0?$.connection_status="Connected":$.connection_status="Isolated"}),dr.set(w),G(l,xh(w,_)),console.log("Schema loaded:",v(l));const E=Wc(w);Wr.set(E)}catch(_){console.error("Error loading data:",_)}}),Ee(()=>(n(),r(),i()),()=>{Object.keys(n()).length>0&&G(o,Yc(r(),n(),i()))}),ii(),Cn();var u=Jh(),f=H(C(u),2);nh(f,{});var d=H(f,2);sh(d,{});var c=H(d,2),h=C(c);{var p=_=>{var w=Kh(),E=ce(w);Bt(E,5,()=>(n(),A(()=>Object.entries(n()))),te,(M,O,N)=>{var z=Cs(()=>hs(v(O),2));let P=()=>v(z)[0],q=()=>v(z)[1];{let vt=qt(()=>(v(o),P(),A(()=>v(o)[P()]||{})));oh(M,{get facetName(){return P()},get facetStats(){return v(vt)},get facetType(){return q()},get color(){return S(Tr),A(()=>Tr[N%Tr.length])},get sizeMetric(){return i()}})}});var $=H(E,2);Gh($,{get data(){return r()},get schema(){return v(l)}}),T(_,w)},y=_=>{var w=Zh();T(_,w)};et(h,_=>{v(l)?_(p):_(y,!1)})}T(t,u),en(),a()}zo(Qh,{target:document.getElementById("app")});

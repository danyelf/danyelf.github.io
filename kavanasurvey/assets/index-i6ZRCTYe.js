(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function a1(t,n){if(n==="_none")return{groupLabels:["All respondents"],groupIds:["_all"],getGroups:()=>["_all"]};const e=t.questions[n];if(!e)return{groupLabels:[],groupIds:[],getGroups:()=>[]};if(e.type==="multiselect"){const a=e.items;return{groupLabels:a.map(c=>t.questions[c].label),groupIds:a,getGroups(c){return a.filter(s=>c[s]===!0)}}}const r=e.scaleOrder;if(r&&r.length>0)return{groupLabels:r,groupIds:r,getGroups(a){const f=a[n];return f!=null?[f]:[]}};const i=new Set;for(const a of t.rows){const f=a[n];f!=null&&i.add(f)}const o=[...i];return{groupLabels:o,groupIds:o,getGroups(a){const f=a[n];return f!=null?[f]:[]}}}function Cs(t,n,e){const r=t.questions[n];if(!r)return[];const i=r.scaleOrder||[];if(i.length===0)return[];const{groupLabels:o,groupIds:a}=e,f={},c={};for(const u of a){f[u]={},c[u]=0;for(const d of i)f[u][d]=0}for(const u of t.rows){const d=e.getGroups(u),l=u[n];if(l!=null)for(const h of d)h in f&&(c[h]++,l in f[h]&&f[h][l]++)}const s=[];for(let u=0;u<a.length;u++){const d=a[u],l=o[u],h=c[d];for(const p of i)s.push({group:l,answer:p,pct:h>0?Math.round(100*f[d][p]/h):0,count:f[d][p],n:h})}return s}function f1(t,n,e){const{groupLabels:r,groupIds:i}=e;let o={};for(const c of i){o[c]={};for(const s of n)o[c][s]=0}for(const c of t.rows){const s=e.getGroups(c);if(s.length!==0){for(const u of s)if(u in o)for(const d of n)c[d]===!0&&o[u][d]++}}const a={};for(const c of i)a[c]=new Set;for(let c=0;c<t.rows.length;c++){const s=t.rows[c],u=e.getGroups(s);for(const d of u)d in a&&a[d].add(c)}o={};for(const c of i){o[c]={};for(const s of n)o[c][s]=0}for(let c=0;c<t.rows.length;c++){const s=t.rows[c],u=e.getGroups(s);for(const d of u)if(d in o)for(const l of n)s[l]===!0&&o[d][l]++}const f=[];for(let c=0;c<i.length;c++){const s=i[c],u=r[c],d=a[s].size;for(const l of n)f.push({group:u,option:t.questions[l].label,pct:d>0?Math.round(100*o[s][l]/d):0,count:o[s][l],n:d})}return f}function c1(t,n){const{groupLabels:e,groupIds:r}=n,i={};for(const o of r)i[o]=new Set;for(let o=0;o<t.rows.length;o++){const a=n.getGroups(t.rows[o]);for(const f of a)f in i&&i[f].add(o)}return r.map((o,a)=>({label:e[a],n:i[o].size}))}function Ct(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Dr(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function lo(t){let n,e,r;t.length!==2?(n=Ct,e=(f,c)=>Ct(t(f),c),r=(f,c)=>t(f)-c):(n=t===Ct||t===Dr?t:u1,e=t,r=t);function i(f,c,s=0,u=f.length){if(s<u){if(n(c,c)!==0)return u;do{const d=s+u>>>1;e(f[d],c)<0?s=d+1:u=d}while(s<u)}return s}function o(f,c,s=0,u=f.length){if(s<u){if(n(c,c)!==0)return u;do{const d=s+u>>>1;e(f[d],c)<=0?s=d+1:u=d}while(s<u)}return s}function a(f,c,s=0,u=f.length){const d=i(f,c,s,u-1);return d>s&&r(f[d-1],c)>-r(f[d],c)?d-1:d}return{left:i,center:a,right:o}}function u1(){return 0}function Es(t){return t===null?NaN:+t}function*s1(t,n){if(n===void 0)for(let e of t)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)(r=n(r,++e,t))!=null&&(r=+r)>=r&&(yield r)}}const l1=lo(Ct),Tf=l1.right;lo(Es).center;function d1(t){return t.length|0}function h1(t){return!(t>0)}function p1(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function g1(t){return n=>t(...n)}function m1(...t){const n=typeof t[t.length-1]=="function"&&g1(t.pop());t=t.map(p1);const e=t.map(d1),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||e.some(h1))return o;for(;;){o.push(i.map((f,c)=>t[c][f]));let a=r;for(;++i[a]===e[a];){if(a===0)return n?o.map(n):o;i[a--]=0}}}function b1(t,n){var e=0;return Float64Array.from(t,r=>e+=+r||0)}function Ns(t,n){let e=0,r,i=0,o=0;if(n===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++e,o+=r*(a-i));else{let a=-1;for(let f of t)(f=n(f,++a,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++e,o+=r*(f-i))}if(e>1)return o/(e-1)}function y1(t,n){const e=Ns(t,n);return e&&Math.sqrt(e)}function Dn(t,n){let e,r;for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));return[e,r]}class Kn{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=e[i],a=n+o,f=Math.abs(n)<Math.abs(o)?n-(a-o):o-(a-n);f&&(e[r++]=f),n=a}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,o,a=0;if(e>0){for(a=n[--e];e>0&&(r=a,i=n[--e],a=r+i,o=i-(a-r),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class jn extends Map{constructor(n,e=Is){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(Aa(this,n))}has(n){return super.has(Aa(this,n))}set(n,e){return super.set(ks(this,n),e)}delete(n){return super.delete(Ls(this,n))}}class ho extends Set{constructor(n,e=Is){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const r of n)this.add(r)}has(n){return super.has(Aa(this,n))}add(n){return super.add(ks(this,n))}delete(n){return super.delete(Ls(this,n))}}function Aa({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function ks({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Ls({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Is(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ca(t){return t}function Ds(t,...n){return Af(t,Ca,Ca,n)}function lr(t,n,...e){return Af(t,Ca,n,e)}function w1(t,n,...e){return Af(t,Array.from,n,e)}function Af(t,n,e,r){return(function i(o,a){if(a>=r.length)return e(o);const f=new jn,c=r[a++];let s=-1;for(const u of o){const d=c(u,++s,o),l=f.get(d);l?l.push(u):f.set(d,[u])}for(const[u,d]of f)f.set(u,i(d,a));return n(f)})(t,0)}function v1(t,n){return Array.from(n,e=>t[e])}function Ea(t,...n){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&e.length!==2||n.length>1){const r=Uint32Array.from(t,(i,o)=>o);return n.length>1?(n=n.map(i=>t.map(i)),r.sort((i,o)=>{for(const a of n){const f=Ni(a[i],a[o]);if(f)return f}})):(e=t.map(e),r.sort((i,o)=>Ni(e[i],e[o]))),v1(t,r)}return t.sort(Rs(e))}function Rs(t=Ct){if(t===Ct)return Ni;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function Ni(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}function Cf(t,n,e){return(n.length!==2?Ea(lr(t,n,e),(([r,i],[o,a])=>Ct(i,a)||Ct(r,o))):Ea(Ds(t,e),(([r,i],[o,a])=>n(i,a)||Ct(r,o)))).map(([r])=>r)}const x1=Math.sqrt(50),M1=Math.sqrt(10),$1=Math.sqrt(2);function ki(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=x1?10:o>=M1?5:o>=$1?2:1;let f,c,s;return i<0?(s=Math.pow(10,-i)/a,f=Math.round(t*s),c=Math.round(n*s),f/s<t&&++f,c/s>n&&--c,s=-s):(s=Math.pow(10,i)*a,f=Math.round(t/s),c=Math.round(n/s),f*s<t&&++f,c*s>n&&--c),c<f&&.5<=e&&e<2?ki(t,n,e*2):[f,c,s]}function Li(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,o,a]=r?ki(n,t,e):ki(t,n,e);if(!(o>=i))return[];const f=o-i+1,c=new Array(f);if(r)if(a<0)for(let s=0;s<f;++s)c[s]=(o-s)/-a;else for(let s=0;s<f;++s)c[s]=(o-s)*a;else if(a<0)for(let s=0;s<f;++s)c[s]=(i+s)/-a;else for(let s=0;s<f;++s)c[s]=(i+s)*a;return c}function Na(t,n,e){return n=+n,t=+t,e=+e,ki(t,n,e)[2]}function ka(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?Na(n,t,e):Na(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function Kt(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function _1(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);return r}function Tn(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function S1(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);return r}function Fs(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=i===void 0?Ni:Rs(i);r>e;){if(r-e>600){const c=r-e+1,s=n-e+1,u=Math.log(c),d=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*d*(c-d)/c)*(s-c/2<0?-1:1),h=Math.max(e,Math.floor(n-s*d/c+l)),p=Math.min(r,Math.floor(n+(c-s)*d/c+l));Fs(t,n,h,p,i)}const o=t[n];let a=e,f=r;for(Ze(t,e,n),i(t[r],o)>0&&Ze(t,e,r);a<f;){for(Ze(t,a,f),++a,--f;i(t[a],o)<0;)++a;for(;i(t[f],o)>0;)--f}i(t[e],o)===0?Ze(t,e,f):(++f,Ze(t,f,r)),f<=n&&(e=f+1),n<=f&&(r=f-1)}return t}function Ze(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function Os(t,n=Ct){let e,r=!1;if(n.length===1){let i;for(const o of t){const a=n(o);(r?Ct(a,i)>0:Ct(a,a)===0)&&(e=o,i=a,r=!0)}}else for(const i of t)(r?n(i,e)>0:n(i,i)===0)&&(e=i,r=!0);return e}function Ii(t,n,e){if(t=Float64Array.from(s1(t,e)),!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return Tn(t);if(n>=1)return Kt(t);var r,i=(r-1)*n,o=Math.floor(i),a=Kt(Fs(t,o).subarray(0,o+1)),f=Tn(t.subarray(o+1));return a+(f-a)*(i-o)}}function T1(t,n,e=Es){if(!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t),f=+e(t[o+1],o+1,t);return a+(f-a)*(i-o)}}function A1(t,n){let e=0,r=0;if(n===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}function La(t,n){return Ii(t,.5,n)}function*C1(t){for(const n of t)yield*n}function Ps(t){return Array.from(C1(t))}function E1(t,n){const e=new jn;if(n===void 0)for(let o of t)o!=null&&o>=o&&e.set(o,(e.get(o)||0)+1);else{let o=-1;for(let a of t)(a=n(a,++o,t))!=null&&a>=a&&e.set(a,(e.get(a)||0)+1)}let r,i=0;for(const[o,a]of e)a>i&&(i=a,r=o);return r}function N1(t,n=k1){const e=[];let r,i=!1;for(const o of t)i&&e.push(n(r,o)),r=o,i=!0;return e}function k1(t,n){return[t,n]}function Ia(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(i);++r<i;)o[r]=t+r*e;return o}function Qn(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function Di(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function L1(t){return t}var I1=3,Ac=1e-6;function D1(t){return"translate("+t+",0)"}function R1(t){return n=>+t(n)}function F1(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function O1(){return!this.__axis}function P1(t,n){var e=[],r=null,i=null,o=6,a=6,f=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=1,u="y",d=D1;function l(h){var p=r??(n.ticks?n.ticks.apply(n,e):n.domain()),g=i??(n.tickFormat?n.tickFormat.apply(n,e):L1),m=Math.max(o,0)+f,w=n.range(),y=+w[0]+c,v=+w[w.length-1]+c,b=(n.bandwidth?F1:R1)(n.copy(),c),$=h.selection?h.selection():h,x=$.selectAll(".domain").data([null]),M=$.selectAll(".tick").data(p,n).order(),S=M.exit(),T=M.enter().append("g").attr("class","tick"),k=M.select("line"),A=M.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(T),k=k.merge(T.append("line").attr("stroke","currentColor").attr(u+"2",s*o)),A=A.merge(T.append("text").attr("fill","currentColor").attr(u,s*m).attr("dy","0.71em")),h!==$&&(x=x.transition(h),M=M.transition(h),k=k.transition(h),A=A.transition(h),S=S.transition(h).attr("opacity",Ac).attr("transform",function(E){return isFinite(E=b(E))?d(E+c):this.getAttribute("transform")}),T.attr("opacity",Ac).attr("transform",function(E){var O=this.parentNode.__axis;return d((O&&isFinite(O=O(E))?O:b(E))+c)})),S.remove(),x.attr("d",a?"M"+y+","+s*a+"V"+c+"H"+v+"V"+s*a:"M"+y+","+c+"H"+v),M.attr("opacity",1).attr("transform",function(E){return d(b(E)+c)}),k.attr(u+"2",s*o),A.attr(u,s*m).text(g),$.filter(O1).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),$.each(function(){this.__axis=b})}return l.scale=function(h){return arguments.length?(n=h,l):n},l.ticks=function(){return e=Array.from(arguments),l},l.tickArguments=function(h){return arguments.length?(e=h==null?[]:Array.from(h),l):e.slice()},l.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),l):r&&r.slice()},l.tickFormat=function(h){return arguments.length?(i=h,l):i},l.tickSize=function(h){return arguments.length?(o=a=+h,l):o},l.tickSizeInner=function(h){return arguments.length?(o=+h,l):o},l.tickSizeOuter=function(h){return arguments.length?(a=+h,l):a},l.tickPadding=function(h){return arguments.length?(f=+h,l):f},l.offset=function(h){return arguments.length?(c=+h,l):c},l}function q1(t){return P1(I1,t)}var U1={value:()=>{}};function qs(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new _i(e)}function _i(t){this._=t}function H1(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}_i.prototype=qs.prototype={constructor:_i,on:function(t,n){var e=this._,r=H1(t+"",e),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=z1(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<a;)if(i=(t=r[o]).type)e[i]=Cc(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Cc(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new _i(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function z1(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Cc(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=U1,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Da="http://www.w3.org/1999/xhtml";const Ce={svg:"http://www.w3.org/2000/svg",xhtml:Da,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function po(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Ce.hasOwnProperty(n)?{space:Ce[n],local:t}:t}function B1(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Da&&n.documentElement.namespaceURI===Da?n.createElement(t):n.createElementNS(e,t)}}function W1(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function go(t){var n=po(t);return(n.local?W1:B1)(n)}function Y1(){}function Ef(t){return t==null?Y1:function(){return this.querySelector(t)}}function V1(t){typeof t!="function"&&(t=Ef(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=new Array(a),c,s,u=0;u<a;++u)(c=o[u])&&(s=t.call(c,c.__data__,u,o))&&("__data__"in c&&(s.__data__=c.__data__),f[u]=s);return new It(r,this._parents)}function G1(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function X1(){return[]}function Us(t){return t==null?X1:function(){return this.querySelectorAll(t)}}function Z1(t){return function(){return G1(t.apply(this,arguments))}}function K1(t){typeof t=="function"?t=Z1(t):t=Us(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a=n[o],f=a.length,c,s=0;s<f;++s)(c=a[s])&&(r.push(t.call(c,c.__data__,s,a)),i.push(c));return new It(r,i)}function Hs(t){return function(){return this.matches(t)}}function zs(t){return function(n){return n.matches(t)}}var j1=Array.prototype.find;function Q1(t){return function(){return j1.call(this.children,t)}}function J1(){return this.firstElementChild}function tg(t){return this.select(t==null?J1:Q1(typeof t=="function"?t:zs(t)))}var ng=Array.prototype.filter;function eg(){return Array.from(this.children)}function rg(t){return function(){return ng.call(this.children,t)}}function ig(t){return this.selectAll(t==null?eg:rg(typeof t=="function"?t:zs(t)))}function og(t){typeof t!="function"&&(t=Hs(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=[],c,s=0;s<a;++s)(c=o[s])&&t.call(c,c.__data__,s,o)&&f.push(c);return new It(r,this._parents)}function Bs(t){return new Array(t.length)}function ag(){return new It(this._enter||this._groups.map(Bs),this._parents)}function Ri(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Ri.prototype={constructor:Ri,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function fg(t){return function(){return t}}function cg(t,n,e,r,i,o){for(var a=0,f,c=n.length,s=o.length;a<s;++a)(f=n[a])?(f.__data__=o[a],r[a]=f):e[a]=new Ri(t,o[a]);for(;a<c;++a)(f=n[a])&&(i[a]=f)}function ug(t,n,e,r,i,o,a){var f,c,s=new Map,u=n.length,d=o.length,l=new Array(u),h;for(f=0;f<u;++f)(c=n[f])&&(l[f]=h=a.call(c,c.__data__,f,n)+"",s.has(h)?i[f]=c:s.set(h,c));for(f=0;f<d;++f)h=a.call(t,o[f],f,o)+"",(c=s.get(h))?(r[f]=c,c.__data__=o[f],s.delete(h)):e[f]=new Ri(t,o[f]);for(f=0;f<u;++f)(c=n[f])&&s.get(l[f])===c&&(i[f]=c)}function sg(t){return t.__data__}function lg(t,n){if(!arguments.length)return Array.from(this,sg);var e=n?ug:cg,r=this._parents,i=this._groups;typeof t!="function"&&(t=fg(t));for(var o=i.length,a=new Array(o),f=new Array(o),c=new Array(o),s=0;s<o;++s){var u=r[s],d=i[s],l=d.length,h=dg(t.call(u,u&&u.__data__,s,r)),p=h.length,g=f[s]=new Array(p),m=a[s]=new Array(p),w=c[s]=new Array(l);e(u,d,g,m,w,h,n);for(var y=0,v=0,b,$;y<p;++y)if(b=g[y]){for(y>=v&&(v=y+1);!($=m[v])&&++v<p;);b._next=$||null}}return a=new It(a,r),a._enter=f,a._exit=c,a}function dg(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function hg(){return new It(this._exit||this._groups.map(Bs),this._parents)}function pg(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function gg(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),f=new Array(i),c=0;c<a;++c)for(var s=e[c],u=r[c],d=s.length,l=f[c]=new Array(d),h,p=0;p<d;++p)(h=s[p]||u[p])&&(l[p]=h);for(;c<i;++c)f[c]=e[c];return new It(f,this._parents)}function mg(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function bg(t){t||(t=yg);function n(d,l){return d&&l?t(d.__data__,l.__data__):!d-!l}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a=e[o],f=a.length,c=i[o]=new Array(f),s,u=0;u<f;++u)(s=a[u])&&(c[u]=s);c.sort(n)}return new It(i,this._parents).order()}function yg(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function wg(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function vg(){return Array.from(this)}function xg(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Mg(){let t=0;for(const n of this)++t;return t}function $g(){return!this.node()}function _g(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,a=i.length,f;o<a;++o)(f=i[o])&&t.call(f,f.__data__,o,i);return this}function Sg(t){return function(){this.removeAttribute(t)}}function Tg(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ag(t,n){return function(){this.setAttribute(t,n)}}function Cg(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Eg(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Ng(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function kg(t,n){var e=po(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Tg:Sg:typeof n=="function"?e.local?Ng:Eg:e.local?Cg:Ag)(e,n))}function Ws(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Lg(t){return function(){this.style.removeProperty(t)}}function Ig(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Dg(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Rg(t,n,e){return arguments.length>1?this.each((n==null?Lg:typeof n=="function"?Dg:Ig)(t,n,e??"")):Ee(this.node(),t)}function Ee(t,n){return t.style.getPropertyValue(n)||Ws(t).getComputedStyle(t,null).getPropertyValue(n)}function Fg(t){return function(){delete this[t]}}function Og(t,n){return function(){this[t]=n}}function Pg(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function qg(t,n){return arguments.length>1?this.each((n==null?Fg:typeof n=="function"?Pg:Og)(t,n)):this.node()[t]}function Ys(t){return t.trim().split(/^|\s+/)}function Nf(t){return t.classList||new Vs(t)}function Vs(t){this._node=t,this._names=Ys(t.getAttribute("class")||"")}Vs.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Gs(t,n){for(var e=Nf(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Xs(t,n){for(var e=Nf(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Ug(t){return function(){Gs(this,t)}}function Hg(t){return function(){Xs(this,t)}}function zg(t,n){return function(){(n.apply(this,arguments)?Gs:Xs)(this,t)}}function Bg(t,n){var e=Ys(t+"");if(arguments.length<2){for(var r=Nf(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?zg:n?Ug:Hg)(e,n))}function Wg(){this.textContent=""}function Yg(t){return function(){this.textContent=t}}function Vg(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Gg(t){return arguments.length?this.each(t==null?Wg:(typeof t=="function"?Vg:Yg)(t)):this.node().textContent}function Xg(){this.innerHTML=""}function Zg(t){return function(){this.innerHTML=t}}function Kg(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function jg(t){return arguments.length?this.each(t==null?Xg:(typeof t=="function"?Kg:Zg)(t)):this.node().innerHTML}function Qg(){this.nextSibling&&this.parentNode.appendChild(this)}function Jg(){return this.each(Qg)}function tm(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nm(){return this.each(tm)}function em(t){var n=typeof t=="function"?t:go(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function rm(){return null}function im(t,n){var e=typeof t=="function"?t:go(t),r=n==null?rm:typeof n=="function"?n:Ef(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function om(){var t=this.parentNode;t&&t.removeChild(this)}function am(){return this.each(om)}function fm(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function cm(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function um(t){return this.select(t?cm:fm)}function sm(t){return arguments.length?this.property("__data__",t):this.node().__data__}function lm(t){return function(n){t.call(this,n,this.__data__)}}function dm(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function hm(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function pm(t,n,e){return function(){var r=this.__on,i,o=lm(n);if(r){for(var a=0,f=r.length;a<f;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function gm(t,n,e){var r=dm(t+""),i,o=r.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var c=0,s=f.length,u;c<s;++c)for(i=0,u=f[c];i<o;++i)if((a=r[i]).type===u.type&&a.name===u.name)return u.value}return}for(f=n?pm:hm,i=0;i<o;++i)this.each(f(r[i],n,e));return this}function Zs(t,n,e){var r=Ws(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function mm(t,n){return function(){return Zs(this,t,n)}}function bm(t,n){return function(){return Zs(this,t,n.apply(this,arguments))}}function ym(t,n){return this.each((typeof n=="function"?bm:mm)(t,n))}function*wm(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Ks=[null];function It(t,n){this._groups=t,this._parents=n}function Rr(){return new It([[document.documentElement]],Ks)}function vm(){return this}It.prototype=Rr.prototype={constructor:It,select:V1,selectAll:K1,selectChild:tg,selectChildren:ig,filter:og,data:lg,enter:ag,exit:hg,join:pg,merge:gg,selection:vm,order:mg,sort:bg,call:wg,nodes:vg,node:xg,size:Mg,empty:$g,each:_g,attr:kg,style:Rg,property:qg,classed:Bg,text:Gg,html:jg,raise:Jg,lower:nm,append:em,insert:im,remove:am,clone:um,datum:sm,on:gm,dispatch:ym,[Symbol.iterator]:wm};function Yn(t){return typeof t=="string"?new It([[document.querySelector(t)]],[document.documentElement]):new It([[t]],Ks)}function xm(t){let n;for(;n=t.sourceEvent;)t=n;return t}function Mm(t,n){if(t=xm(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function ze(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Fr(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function On(){}var Jn=.7,Ne=1/Jn,Se="\\s*([+-]?\\d+)\\s*",yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$m=/^#([0-9a-f]{3,8})$/,_m=new RegExp(`^rgb\\(${Se},${Se},${Se}\\)$`),Sm=new RegExp(`^rgb\\(${fn},${fn},${fn}\\)$`),Tm=new RegExp(`^rgba\\(${Se},${Se},${Se},${yr}\\)$`),Am=new RegExp(`^rgba\\(${fn},${fn},${fn},${yr}\\)$`),Cm=new RegExp(`^hsl\\(${yr},${fn},${fn}\\)$`),Em=new RegExp(`^hsla\\(${yr},${fn},${fn},${yr}\\)$`),Ec={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ze(On,te,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Nc,formatHex:Nc,formatHex8:Nm,formatHsl:km,formatRgb:kc,toString:kc});function Nc(){return this.rgb().formatHex()}function Nm(){return this.rgb().formatHex8()}function km(){return js(this).formatHsl()}function kc(){return this.rgb().formatRgb()}function te(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=$m.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?Lc(n):e===3?new mt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?ii(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?ii(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=_m.exec(t))?new mt(n[1],n[2],n[3],1):(n=Sm.exec(t))?new mt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Tm.exec(t))?ii(n[1],n[2],n[3],n[4]):(n=Am.exec(t))?ii(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Cm.exec(t))?Rc(n[1],n[2]/100,n[3]/100,1):(n=Em.exec(t))?Rc(n[1],n[2]/100,n[3]/100,n[4]):Ec.hasOwnProperty(t)?Lc(Ec[t]):t==="transparent"?new mt(NaN,NaN,NaN,0):null}function Lc(t){return new mt(t>>16&255,t>>8&255,t&255,1)}function ii(t,n,e,r){return r<=0&&(t=n=e=NaN),new mt(t,n,e,r)}function kf(t){return t instanceof On||(t=te(t)),t?(t=t.rgb(),new mt(t.r,t.g,t.b,t.opacity)):new mt}function Rn(t,n,e,r){return arguments.length===1?kf(t):new mt(t,n,e,r??1)}function mt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}ze(mt,Rn,Fr(On,{brighter(t){return t=t==null?Ne:Math.pow(Ne,t),new mt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jn:Math.pow(Jn,t),new mt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new mt(Vn(this.r),Vn(this.g),Vn(this.b),Fi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ic,formatHex:Ic,formatHex8:Lm,formatRgb:Dc,toString:Dc}));function Ic(){return`#${Wn(this.r)}${Wn(this.g)}${Wn(this.b)}`}function Lm(){return`#${Wn(this.r)}${Wn(this.g)}${Wn(this.b)}${Wn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Dc(){const t=Fi(this.opacity);return`${t===1?"rgb(":"rgba("}${Vn(this.r)}, ${Vn(this.g)}, ${Vn(this.b)}${t===1?")":`, ${t})`}`}function Fi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wn(t){return t=Vn(t),(t<16?"0":"")+t.toString(16)}function Rc(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Gt(t,n,e,r)}function js(t){if(t instanceof Gt)return new Gt(t.h,t.s,t.l,t.opacity);if(t instanceof On||(t=te(t)),!t)return new Gt;if(t instanceof Gt)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,f=o-i,c=(o+i)/2;return f?(n===o?a=(e-r)/f+(e<r)*6:e===o?a=(r-n)/f+2:a=(n-e)/f+4,f/=c<.5?o+i:2-o-i,a*=60):f=c>0&&c<1?0:a,new Gt(a,f,c,t.opacity)}function Ra(t,n,e,r){return arguments.length===1?js(t):new Gt(t,n,e,r??1)}function Gt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}ze(Gt,Ra,Fr(On,{brighter(t){return t=t==null?Ne:Math.pow(Ne,t),new Gt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jn:Math.pow(Jn,t),new Gt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new mt(Vo(t>=240?t-240:t+120,i,r),Vo(t,i,r),Vo(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Gt(Fc(this.h),oi(this.s),oi(this.l),Fi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fi(this.opacity);return`${t===1?"hsl(":"hsla("}${Fc(this.h)}, ${oi(this.s)*100}%, ${oi(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Fc(t){return t=(t||0)%360,t<0?t+360:t}function oi(t){return Math.max(0,Math.min(1,t||0))}function Vo(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const Qs=Math.PI/180,Js=180/Math.PI,Oi=18,tl=.96422,nl=1,el=.82521,rl=4/29,Te=6/29,il=3*Te*Te,Im=Te*Te*Te;function ol(t){if(t instanceof cn)return new cn(t.l,t.a,t.b,t.opacity);if(t instanceof Mn)return al(t);t instanceof mt||(t=kf(t));var n=Ko(t.r),e=Ko(t.g),r=Ko(t.b),i=Go((.2225045*n+.7168786*e+.0606169*r)/nl),o,a;return n===e&&e===r?o=a=i:(o=Go((.4360747*n+.3850649*e+.1430804*r)/tl),a=Go((.0139322*n+.0971045*e+.7141733*r)/el)),new cn(116*i-16,500*(o-i),200*(i-a),t.opacity)}function Fa(t,n,e,r){return arguments.length===1?ol(t):new cn(t,n,e,r??1)}function cn(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}ze(cn,Fa,Fr(On,{brighter(t){return new cn(this.l+Oi*(t??1),this.a,this.b,this.opacity)},darker(t){return new cn(this.l-Oi*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=tl*Xo(n),t=nl*Xo(t),e=el*Xo(e),new mt(Zo(3.1338561*n-1.6168667*t-.4906146*e),Zo(-.9787684*n+1.9161415*t+.033454*e),Zo(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function Go(t){return t>Im?Math.pow(t,1/3):t/il+rl}function Xo(t){return t>Te?t*t*t:il*(t-rl)}function Zo(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ko(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Dm(t){if(t instanceof Mn)return new Mn(t.h,t.c,t.l,t.opacity);if(t instanceof cn||(t=ol(t)),t.a===0&&t.b===0)return new Mn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Js;return new Mn(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Oa(t,n,e,r){return arguments.length===1?Dm(t):new Mn(t,n,e,r??1)}function Mn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function al(t){if(isNaN(t.h))return new cn(t.l,0,0,t.opacity);var n=t.h*Qs;return new cn(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}ze(Mn,Oa,Fr(On,{brighter(t){return new Mn(this.h,this.c,this.l+Oi*(t??1),this.opacity)},darker(t){return new Mn(this.h,this.c,this.l-Oi*(t??1),this.opacity)},rgb(){return al(this).rgb()}}));var fl=-.14861,Lf=1.78277,If=-.29227,mo=-.90649,wr=1.97294,Oc=wr*mo,Pc=wr*Lf,qc=Lf*If-mo*fl;function Rm(t){if(t instanceof Gn)return new Gn(t.h,t.s,t.l,t.opacity);t instanceof mt||(t=kf(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(qc*r+Oc*n-Pc*e)/(qc+Oc-Pc),o=r-i,a=(wr*(e-i)-If*o)/mo,f=Math.sqrt(a*a+o*o)/(wr*i*(1-i)),c=f?Math.atan2(a,o)*Js-120:NaN;return new Gn(c<0?c+360:c,f,i,t.opacity)}function un(t,n,e,r){return arguments.length===1?Rm(t):new Gn(t,n,e,r??1)}function Gn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}ze(Gn,un,Fr(On,{brighter(t){return t=t==null?Ne:Math.pow(Ne,t),new Gn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jn:Math.pow(Jn,t),new Gn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Qs,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new mt(255*(n+e*(fl*r+Lf*i)),255*(n+e*(If*r+mo*i)),255*(n+e*(wr*r)),this.opacity)}}));function Fm(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function Om(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,f=r<n-1?t[r+2]:2*o-i;return Fm((e-r/n)*n,a,i,o,f)}}const bo=t=>()=>t;function cl(t,n){return function(e){return t+e*n}}function Pm(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Df(t,n){var e=n-t;return e?cl(t,e>180||e<-180?e-360*Math.round(e/360):e):bo(isNaN(t)?n:t)}function qm(t){return(t=+t)==1?xt:function(n,e){return e-n?Pm(n,e,t):bo(isNaN(n)?e:n)}}function xt(t,n){var e=n-t;return e?cl(t,e):bo(isNaN(t)?n:t)}const ne=(function t(n){var e=qm(n);function r(i,o){var a=e((i=Rn(i)).r,(o=Rn(o)).r),f=e(i.g,o.g),c=e(i.b,o.b),s=xt(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=f(u),i.b=c(u),i.opacity=s(u),i+""}}return r.gamma=t,r})(1);function Um(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),o=new Array(e),a,f;for(a=0;a<e;++a)f=Rn(n[a]),r[a]=f.r||0,i[a]=f.g||0,o[a]=f.b||0;return r=t(r),i=t(i),o=t(o),f.opacity=1,function(c){return f.r=r(c),f.g=i(c),f.b=o(c),f+""}}}var Hm=Um(Om);function zm(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function Bm(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Wm(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=Or(t[a],n[a]);for(;a<e;++a)o[a]=n[a];return function(f){for(a=0;a<r;++a)o[a]=i[a](f);return o}}function Ym(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function wt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Vm(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=Or(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var Pa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jo=new RegExp(Pa.source,"g");function Gm(t){return function(){return t}}function Xm(t){return function(n){return t(n)+""}}function ul(t,n){var e=Pa.lastIndex=jo.lastIndex=0,r,i,o,a=-1,f=[],c=[];for(t=t+"",n=n+"";(r=Pa.exec(t))&&(i=jo.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),f[a]?f[a]+=o:f[++a]=o),(r=r[0])===(i=i[0])?f[a]?f[a]+=i:f[++a]=i:(f[++a]=null,c.push({i:a,x:wt(r,i)})),e=jo.lastIndex;return e<n.length&&(o=n.slice(e),f[a]?f[a]+=o:f[++a]=o),f.length<2?c[0]?Xm(c[0].x):Gm(n):(n=c.length,function(s){for(var u=0,d;u<n;++u)f[(d=c[u]).i]=d.x(s);return f.join("")})}function Or(t,n){var e=typeof n,r;return n==null||e==="boolean"?bo(n):(e==="number"?wt:e==="string"?(r=te(n))?(n=r,ne):ul:n instanceof te?ne:n instanceof Date?Ym:Bm(n)?zm:Array.isArray(n)?Wm:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Vm:wt)(t,n)}function Rf(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Uc=180/Math.PI,qa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function sl(t,n,e,r,i,o){var a,f,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(f=Math.sqrt(e*e+r*r))&&(e/=f,r/=f,c/=f),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Uc,skewX:Math.atan(c)*Uc,scaleX:a,scaleY:f}}var ai;function Zm(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?qa:sl(n.a,n.b,n.c,n.d,n.e,n.f)}function Km(t){return t==null||(ai||(ai=document.createElementNS("http://www.w3.org/2000/svg","g")),ai.setAttribute("transform",t),!(t=ai.transform.baseVal.consolidate()))?qa:(t=t.matrix,sl(t.a,t.b,t.c,t.d,t.e,t.f))}function ll(t,n,e,r){function i(s){return s.length?s.pop()+" ":""}function o(s,u,d,l,h,p){if(s!==d||u!==l){var g=h.push("translate(",null,n,null,e);p.push({i:g-4,x:wt(s,d)},{i:g-2,x:wt(u,l)})}else(d||l)&&h.push("translate("+d+n+l+e)}function a(s,u,d,l){s!==u?(s-u>180?u+=360:u-s>180&&(s+=360),l.push({i:d.push(i(d)+"rotate(",null,r)-2,x:wt(s,u)})):u&&d.push(i(d)+"rotate("+u+r)}function f(s,u,d,l){s!==u?l.push({i:d.push(i(d)+"skewX(",null,r)-2,x:wt(s,u)}):u&&d.push(i(d)+"skewX("+u+r)}function c(s,u,d,l,h,p){if(s!==d||u!==l){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:wt(s,d)},{i:g-2,x:wt(u,l)})}else(d!==1||l!==1)&&h.push(i(h)+"scale("+d+","+l+")")}return function(s,u){var d=[],l=[];return s=t(s),u=t(u),o(s.translateX,s.translateY,u.translateX,u.translateY,d,l),a(s.rotate,u.rotate,d,l),f(s.skewX,u.skewX,d,l),c(s.scaleX,s.scaleY,u.scaleX,u.scaleY,d,l),s=u=null,function(h){for(var p=-1,g=l.length,m;++p<g;)d[(m=l[p]).i]=m.x(h);return d.join("")}}}var jm=ll(Zm,"px, ","px)","deg)"),Qm=ll(Km,", ",")",")");function Jm(t){return function(n,e){var r=t((n=Ra(n)).h,(e=Ra(e)).h),i=xt(n.s,e.s),o=xt(n.l,e.l),a=xt(n.opacity,e.opacity);return function(f){return n.h=r(f),n.s=i(f),n.l=o(f),n.opacity=a(f),n+""}}}const tb=Jm(Df);function nb(t,n){var e=xt((t=Fa(t)).l,(n=Fa(n)).l),r=xt(t.a,n.a),i=xt(t.b,n.b),o=xt(t.opacity,n.opacity);return function(a){return t.l=e(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function eb(t){return function(n,e){var r=t((n=Oa(n)).h,(e=Oa(e)).h),i=xt(n.c,e.c),o=xt(n.l,e.l),a=xt(n.opacity,e.opacity);return function(f){return n.h=r(f),n.c=i(f),n.l=o(f),n.opacity=a(f),n+""}}}const rb=eb(Df);function dl(t){return(function n(e){e=+e;function r(i,o){var a=t((i=un(i)).h,(o=un(o)).h),f=xt(i.s,o.s),c=xt(i.l,o.l),s=xt(i.opacity,o.opacity);return function(u){return i.h=a(u),i.s=f(u),i.l=c(Math.pow(u,e)),i.opacity=s(u),i+""}}return r.gamma=n,r})(1)}dl(Df);var Ff=dl(xt);function yo(t,n){n===void 0&&(n=t,t=Or);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(a){var f=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[f](a-f)}}function jt(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}var ke=0,er=0,Ke=0,hl=1e3,Pi,rr,qi=0,ee=0,wo=0,vr=typeof performance=="object"&&performance.now?performance:Date,pl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Of(){return ee||(pl(ib),ee=vr.now()+wo)}function ib(){ee=0}function Ui(){this._call=this._time=this._next=null}Ui.prototype=gl.prototype={constructor:Ui,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Of():+e)+(n==null?0:+n),!this._next&&rr!==this&&(rr?rr._next=this:Pi=this,rr=this),this._call=t,this._time=e,Ua()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ua())}};function gl(t,n,e){var r=new Ui;return r.restart(t,n,e),r}function ob(){Of(),++ke;for(var t=Pi,n;t;)(n=ee-t._time)>=0&&t._call.call(void 0,n),t=t._next;--ke}function Hc(){ee=(qi=vr.now())+wo,ke=er=0;try{ob()}finally{ke=0,fb(),ee=0}}function ab(){var t=vr.now(),n=t-qi;n>hl&&(wo-=n,qi=t)}function fb(){for(var t,n=Pi,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Pi=e);rr=t,Ua(r)}function Ua(t){if(!ke){er&&(er=clearTimeout(er));var n=t-ee;n>24?(t<1/0&&(er=setTimeout(Hc,t-vr.now()-wo)),Ke&&(Ke=clearInterval(Ke))):(Ke||(qi=vr.now(),Ke=setInterval(ab,hl)),ke=1,pl(Hc))}}function zc(t,n,e){var r=new Ui;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var cb=qs("start","end","cancel","interrupt"),ub=[],ml=0,Bc=1,Ha=2,Si=3,Wc=4,za=5,Ti=6;function vo(t,n,e,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(e in a)return;sb(t,e,{name:n,index:r,group:i,on:cb,tween:ub,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ml})}function Pf(t,n){var e=tn(t,n);if(e.state>ml)throw new Error("too late; already scheduled");return e}function dn(t,n){var e=tn(t,n);if(e.state>Si)throw new Error("too late; already running");return e}function tn(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function sb(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=gl(o,0,e.time);function o(s){e.state=Bc,e.timer.restart(a,e.delay,e.time),e.delay<=s&&a(s-e.delay)}function a(s){var u,d,l,h;if(e.state!==Bc)return c();for(u in r)if(h=r[u],h.name===e.name){if(h.state===Si)return zc(a);h.state===Wc?(h.state=Ti,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[u]):+u<n&&(h.state=Ti,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[u])}if(zc(function(){e.state===Si&&(e.state=Wc,e.timer.restart(f,e.delay,e.time),f(s))}),e.state=Ha,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Ha){for(e.state=Si,i=new Array(l=e.tween.length),u=0,d=-1;u<l;++u)(h=e.tween[u].value.call(t,t.__data__,e.index,e.group))&&(i[++d]=h);i.length=d+1}}function f(s){for(var u=s<e.duration?e.ease.call(null,s/e.duration):(e.timer.restart(c),e.state=za,1),d=-1,l=i.length;++d<l;)i[d].call(t,u);e.state===za&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){e.state=Ti,e.timer.stop(),delete r[n];for(var s in r)return;delete t.__transition}}function lb(t,n){var e=t.__transition,r,i,o=!0,a;if(e){n=n==null?null:n+"";for(a in e){if((r=e[a]).name!==n){o=!1;continue}i=r.state>Ha&&r.state<za,r.state=Ti,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[a]}o&&delete t.__transition}}function db(t){return this.each(function(){lb(this,t)})}function hb(t,n){var e,r;return function(){var i=dn(this,t),o=i.tween;if(o!==e){r=e=o;for(var a=0,f=r.length;a<f;++a)if(r[a].name===n){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function pb(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=dn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var f={name:n,value:e},c=0,s=i.length;c<s;++c)if(i[c].name===n){i[c]=f;break}c===s&&i.push(f)}o.tween=i}}function gb(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=tn(this.node(),e).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((n==null?hb:pb)(e,t,n))}function qf(t,n,e){var r=t._id;return t.each(function(){var i=dn(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return tn(i,r).value[n]}}function bl(t,n){var e;return(typeof n=="number"?wt:n instanceof te?ne:(e=te(n))?(n=e,ne):ul)(t,n)}function mb(t){return function(){this.removeAttribute(t)}}function bb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function yb(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=n(r=a,e)}}function wb(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=n(r=a,e)}}function vb(t,n,e){var r,i,o;return function(){var a,f=e(this),c;return f==null?void this.removeAttribute(t):(a=this.getAttribute(t),c=f+"",a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,f)))}}function xb(t,n,e){var r,i,o;return function(){var a,f=e(this),c;return f==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),c=f+"",a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,f)))}}function Mb(t,n){var e=po(t),r=e==="transform"?Qm:bl;return this.attrTween(t,typeof n=="function"?(e.local?xb:vb)(e,r,qf(this,"attr."+t,n)):n==null?(e.local?bb:mb)(e):(e.local?wb:yb)(e,r,n))}function $b(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function _b(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Sb(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&_b(t,o)),e}return i._value=n,i}function Tb(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&$b(t,o)),e}return i._value=n,i}function Ab(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=po(t);return this.tween(e,(r.local?Sb:Tb)(r,n))}function Cb(t,n){return function(){Pf(this,t).delay=+n.apply(this,arguments)}}function Eb(t,n){return n=+n,function(){Pf(this,t).delay=n}}function Nb(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Cb:Eb)(n,t)):tn(this.node(),n).delay}function kb(t,n){return function(){dn(this,t).duration=+n.apply(this,arguments)}}function Lb(t,n){return n=+n,function(){dn(this,t).duration=n}}function Ib(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?kb:Lb)(n,t)):tn(this.node(),n).duration}function Db(t,n){if(typeof n!="function")throw new Error;return function(){dn(this,t).ease=n}}function Rb(t){var n=this._id;return arguments.length?this.each(Db(n,t)):tn(this.node(),n).ease}function Fb(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;dn(this,t).ease=e}}function Ob(t){if(typeof t!="function")throw new Error;return this.each(Fb(this._id,t))}function Pb(t){typeof t!="function"&&(t=Hs(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=[],c,s=0;s<a;++s)(c=o[s])&&t.call(c,c.__data__,s,o)&&f.push(c);return new An(r,this._parents,this._name,this._id)}function qb(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),f=0;f<o;++f)for(var c=n[f],s=e[f],u=c.length,d=a[f]=new Array(u),l,h=0;h<u;++h)(l=c[h]||s[h])&&(d[h]=l);for(;f<r;++f)a[f]=n[f];return new An(a,this._parents,this._name,this._id)}function Ub(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Hb(t,n,e){var r,i,o=Ub(n)?Pf:dn;return function(){var a=o(this,t),f=a.on;f!==r&&(i=(r=f).copy()).on(n,e),a.on=i}}function zb(t,n){var e=this._id;return arguments.length<2?tn(this.node(),e).on.on(t):this.each(Hb(e,t,n))}function Bb(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Wb(){return this.on("end.remove",Bb(this._id))}function Yb(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Ef(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var f=r[a],c=f.length,s=o[a]=new Array(c),u,d,l=0;l<c;++l)(u=f[l])&&(d=t.call(u,u.__data__,l,f))&&("__data__"in u&&(d.__data__=u.__data__),s[l]=d,vo(s[l],n,e,l,s,tn(u,e)));return new An(o,this._parents,n,e)}function Vb(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Us(t));for(var r=this._groups,i=r.length,o=[],a=[],f=0;f<i;++f)for(var c=r[f],s=c.length,u,d=0;d<s;++d)if(u=c[d]){for(var l=t.call(u,u.__data__,d,c),h,p=tn(u,e),g=0,m=l.length;g<m;++g)(h=l[g])&&vo(h,n,e,g,l,p);o.push(l),a.push(u)}return new An(o,a,n,e)}var Gb=Rr.prototype.constructor;function Xb(){return new Gb(this._groups,this._parents)}function Zb(t,n){var e,r,i;return function(){var o=Ee(this,t),a=(this.style.removeProperty(t),Ee(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}function yl(t){return function(){this.style.removeProperty(t)}}function Kb(t,n,e){var r,i=e+"",o;return function(){var a=Ee(this,t);return a===i?null:a===r?o:o=n(r=a,e)}}function jb(t,n,e){var r,i,o;return function(){var a=Ee(this,t),f=e(this),c=f+"";return f==null&&(c=f=(this.style.removeProperty(t),Ee(this,t))),a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,f))}}function Qb(t,n){var e,r,i,o="style."+n,a="end."+o,f;return function(){var c=dn(this,t),s=c.on,u=c.value[o]==null?f||(f=yl(n)):void 0;(s!==e||i!==u)&&(r=(e=s).copy()).on(a,i=u),c.on=r}}function Jb(t,n,e){var r=(t+="")=="transform"?jm:bl;return n==null?this.styleTween(t,Zb(t,r)).on("end.style."+t,yl(t)):typeof n=="function"?this.styleTween(t,jb(t,r,qf(this,"style."+t,n))).each(Qb(this._id,t)):this.styleTween(t,Kb(t,r,n),e).on("end.style."+t,null)}function ty(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function ny(t,n,e){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&ty(t,a,e)),r}return o._value=n,o}function ey(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,ny(t,n,e??""))}function ry(t){return function(){this.textContent=t}}function iy(t){return function(){var n=t(this);this.textContent=n??""}}function oy(t){return this.tween("text",typeof t=="function"?iy(qf(this,"text",t)):ry(t==null?"":t+""))}function ay(t){return function(n){this.textContent=t.call(this,n)}}function fy(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&ay(i)),n}return r._value=t,r}function cy(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,fy(t))}function uy(){for(var t=this._name,n=this._id,e=wl(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,c,s=0;s<f;++s)if(c=a[s]){var u=tn(c,n);vo(c,t,e,s,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new An(r,this._parents,t,e)}function sy(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var f={value:a},c={value:function(){--i===0&&o()}};e.each(function(){var s=dn(this,r),u=s.on;u!==t&&(n=(t=u).copy(),n._.cancel.push(f),n._.interrupt.push(f),n._.end.push(c)),s.on=n}),i===0&&o()})}var ly=0;function An(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function wl(){return++ly}var gn=Rr.prototype;An.prototype={constructor:An,select:Yb,selectAll:Vb,selectChild:gn.selectChild,selectChildren:gn.selectChildren,filter:Pb,merge:qb,selection:Xb,transition:uy,call:gn.call,nodes:gn.nodes,node:gn.node,size:gn.size,empty:gn.empty,each:gn.each,on:zb,attr:Mb,attrTween:Ab,style:Jb,styleTween:ey,text:oy,textTween:cy,remove:Wb,tween:gb,delay:Nb,duration:Ib,ease:Rb,easeVarying:Ob,end:sy,[Symbol.iterator]:gn[Symbol.iterator]};function dy(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var hy={time:null,delay:0,duration:250,ease:dy};function py(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function gy(t){var n,e;t instanceof An?(n=t._id,t=t._name):(n=wl(),(e=hy).time=Of(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,c,s=0;s<f;++s)(c=a[s])&&vo(c,t,n,s,a,e||py(c,n));return new An(r,this._parents,t,n)}Rr.prototype.interrupt=db;Rr.prototype.transition=gy;const Ba=Math.PI,Wa=2*Ba,zn=1e-6,my=Wa-zn;function vl(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function by(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return vl;const e=10**n;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class yy{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?vl:by(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,o,a){this._append`C${+n},${+e},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(n,e,r,i,o){if(n=+n,e=+e,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,f=this._y1,c=r-n,s=i-e,u=a-n,d=f-e,l=u*u+d*d;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(l>zn)if(!(Math.abs(d*c-s*u)>zn)||!o)this._append`L${this._x1=n},${this._y1=e}`;else{let h=r-a,p=i-f,g=c*c+s*s,m=h*h+p*p,w=Math.sqrt(g),y=Math.sqrt(l),v=o*Math.tan((Ba-Math.acos((g+l-m)/(2*w*y)))/2),b=v/y,$=v/w;Math.abs(b-1)>zn&&this._append`L${n+b*u},${e+b*d}`,this._append`A${o},${o},0,0,${+(d*h>u*p)},${this._x1=n+$*c},${this._y1=e+$*s}`}}arc(n,e,r,i,o,a){if(n=+n,e=+e,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),c=r*Math.sin(i),s=n+f,u=e+c,d=1^a,l=a?i-o:o-i;this._x1===null?this._append`M${s},${u}`:(Math.abs(this._x1-s)>zn||Math.abs(this._y1-u)>zn)&&this._append`L${s},${u}`,r&&(l<0&&(l=l%Wa+Wa),l>my?this._append`A${r},${r},0,1,${d},${n-f},${e-c}A${r},${r},0,1,${d},${this._x1=s},${this._y1=u}`:l>zn&&this._append`A${r},${r},0,${+(l>=Ba)},${d},${this._x1=n+r*Math.cos(o)},${this._y1=e+r*Math.sin(o)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ya(t=3){return new yy(+t)}function wy(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Hi(t,n){if(!isFinite(t)||t===0)return null;var e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"),r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Le(t){return t=Hi(Math.abs(t)),t?t[1]:NaN}function vy(t,n){return function(e,r){for(var i=e.length,o=[],a=0,f=t[0],c=0;i>0&&f>0&&(c+f+1>r&&(f=Math.max(1,r-c)),o.push(e.substring(i-=f,i+f)),!((c+=f+1)>r));)f=t[a=(a+1)%t.length];return o.reverse().join(n)}}function xy(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var My=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xr(t){if(!(n=My.exec(t)))throw new Error("invalid format: "+t);var n;return new Uf({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}xr.prototype=Uf.prototype;function Uf(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Uf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $y(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var zi;function _y(t,n){var e=Hi(t,n);if(!e)return zi=void 0,t.toPrecision(n);var r=e[0],i=e[1],o=i-(zi=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Hi(t,Math.max(0,n+o-1))[0]}function Yc(t,n){var e=Hi(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Vc={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:wy,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Yc(t*100,n),r:Yc,s:_y,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Gc(t){return t}var Xc=Array.prototype.map,Zc=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Sy(t){var n=t.grouping===void 0||t.thousands===void 0?Gc:vy(Xc.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Gc:xy(Xc.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function s(d,l){d=xr(d);var h=d.fill,p=d.align,g=d.sign,m=d.symbol,w=d.zero,y=d.width,v=d.comma,b=d.precision,$=d.trim,x=d.type;x==="n"?(v=!0,x="g"):Vc[x]||(b===void 0&&(b=12),$=!0,x="g"),(w||h==="0"&&p==="=")&&(w=!0,h="0",p="=");var M=(l&&l.prefix!==void 0?l.prefix:"")+(m==="$"?e:m==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():""),S=(m==="$"?r:/[%p]/.test(x)?a:"")+(l&&l.suffix!==void 0?l.suffix:""),T=Vc[x],k=/[defgprs%]/.test(x);b=b===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function A(E){var O=M,I=S,_,D,W;if(x==="c")I=T(E)+I,E="";else{E=+E;var B=E<0||1/E<0;if(E=isNaN(E)?c:T(Math.abs(E),b),$&&(E=$y(E)),B&&+E==0&&g!=="+"&&(B=!1),O=(B?g==="("?g:f:g==="-"||g==="("?"":g)+O,I=(x==="s"&&!isNaN(E)&&zi!==void 0?Zc[8+zi/3]:"")+I+(B&&g==="("?")":""),k){for(_=-1,D=E.length;++_<D;)if(W=E.charCodeAt(_),48>W||W>57){I=(W===46?i+E.slice(_+1):E.slice(_))+I,E=E.slice(0,_);break}}}v&&!w&&(E=n(E,1/0));var L=O.length+E.length+I.length,R=L<y?new Array(y-L+1).join(h):"";switch(v&&w&&(E=n(R+E,R.length?y-I.length:1/0),R=""),p){case"<":E=O+E+I+R;break;case"=":E=O+R+E+I;break;case"^":E=R.slice(0,L=R.length>>1)+O+E+I+R.slice(L);break;default:E=R+O+E+I;break}return o(E)}return A.toString=function(){return d+""},A}function u(d,l){var h=Math.max(-8,Math.min(8,Math.floor(Le(l)/3)))*3,p=Math.pow(10,-h),g=s((d=xr(d),d.type="f",d),{suffix:Zc[8+h/3]});return function(m){return g(p*m)}}return{format:s,formatPrefix:u}}var fi,Be,xl;Ty({thousands:",",grouping:[3],currency:["$",""]});function Ty(t){return fi=Sy(t),Be=fi.format,xl=fi.formatPrefix,fi}function Ay(t){return Math.max(0,-Le(Math.abs(t)))}function Cy(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Le(n)/3)))*3-Le(Math.abs(t)))}function Ey(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Le(n)-Le(t))+1}var X=1e-6,Ml=1e-12,K=Math.PI,ut=K/2,Kc=K/4,Dt=K*2,$t=180/K,ct=K/180,rt=Math.abs,We=Math.atan,Cn=Math.atan2,Z=Math.cos,$l=Math.exp,Bi=Math.log,Qo=Math.pow,V=Math.sin,Pt=Math.sign||function(t){return t>0?1:t<0?-1:0},Et=Math.sqrt,Hf=Math.tan;function _l(t){return t>1?0:t<-1?K:Math.acos(t)}function Bt(t){return t>1?ut:t<-1?-ut:Math.asin(t)}function qt(){}function Wi(t,n){t&&Qc.hasOwnProperty(t.type)&&Qc[t.type](t,n)}var jc={Feature:function(t,n){Wi(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Wi(e[r].geometry,n)}},Qc={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Va(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Va(e[r],n,0)},Polygon:function(t,n){Jc(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Jc(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Wi(e[r],n)}};function Va(t,n,e){var r=-1,i=t.length-e,o;for(n.lineStart();++r<i;)o=t[r],n.point(o[0],o[1],o[2]);n.lineEnd()}function Jc(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Va(t[e],n,1);n.polygonEnd()}function Bn(t,n){t&&jc.hasOwnProperty(t.type)?jc[t.type](t,n):Wi(t,n)}function Ga(t){return[Cn(t[1],t[0]),Bt(t[2])]}function Ie(t){var n=t[0],e=t[1],r=Z(e);return[r*Z(n),r*V(n),V(e)]}function ci(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Yi(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Jo(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function ui(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Xa(t){var n=Et(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Za(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function Ka(t,n){return rt(t)>K&&(t-=Math.round(t/Dt)*Dt),[t,n]}Ka.invert=Ka;function Sl(t,n,e){return(t%=Dt)?n||e?Za(nu(t),eu(n,e)):nu(t):n||e?eu(n,e):Ka}function tu(t){return function(n,e){return n+=t,rt(n)>K&&(n-=Math.round(n/Dt)*Dt),[n,e]}}function nu(t){var n=tu(t);return n.invert=tu(-t),n}function eu(t,n){var e=Z(t),r=V(t),i=Z(n),o=V(n);function a(f,c){var s=Z(c),u=Z(f)*s,d=V(f)*s,l=V(c),h=l*e+u*r;return[Cn(d*i-h*o,u*e-l*r),Bt(h*i+d*o)]}return a.invert=function(f,c){var s=Z(c),u=Z(f)*s,d=V(f)*s,l=V(c),h=l*i-d*o;return[Cn(d*i+l*o,u*e+h*r),Bt(h*e-u*r)]},a}function Ny(t){t=Sl(t[0]*ct,t[1]*ct,t.length>2?t[2]*ct:0);function n(e){return e=t(e[0]*ct,e[1]*ct),e[0]*=$t,e[1]*=$t,e}return n.invert=function(e){return e=t.invert(e[0]*ct,e[1]*ct),e[0]*=$t,e[1]*=$t,e},n}function ky(t,n,e,r,i,o){if(e){var a=Z(n),f=V(n),c=r*e;i==null?(i=n+r*Dt,o=n-c/2):(i=ru(a,i),o=ru(a,o),(r>0?i<o:i>o)&&(i+=r*Dt));for(var s,u=i;r>0?u>o:u<o;u-=c)s=Ga([a,-f*Z(u),-f*V(u)]),t.point(s[0],s[1])}}function ru(t,n){n=Ie(n),n[0]-=t,Xa(n);var e=_l(-n[1]);return((-n[2]<0?-e:e)+Dt-X)%Dt}function Tl(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:qt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function Ai(t,n){return rt(t[0]-n[0])<X&&rt(t[1]-n[1])<X}function si(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Al(t,n,e,r,i){var o=[],a=[],f,c;if(t.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],w=p[g],y;if(Ai(m,w)){if(!m[2]&&!w[2]){for(i.lineStart(),f=0;f<g;++f)i.point((m=p[f])[0],m[1]);i.lineEnd();return}w[0]+=2*X}o.push(y=new si(m,p,null,!0)),a.push(y.o=new si(m,null,y,!1)),o.push(y=new si(w,p,null,!1)),a.push(y.o=new si(w,null,y,!0))}}),!!o.length){for(a.sort(n),iu(o),iu(a),f=0,c=a.length;f<c;++f)a[f].e=e=!e;for(var s=o[0],u,d;;){for(var l=s,h=!0;l.v;)if((l=l.n)===s)return;u=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(h)for(f=0,c=u.length;f<c;++f)i.point((d=u[f])[0],d[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(h)for(u=l.p.z,f=u.length-1;f>=0;--f)i.point((d=u[f])[0],d[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,u=l.z,h=!h}while(!l.v);i.lineEnd()}}}function iu(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function ta(t){return rt(t[0])<=K?t[0]:Pt(t[0])*((rt(t[0])+K)%Dt-K)}function Ly(t,n){var e=ta(n),r=n[1],i=V(r),o=[V(e),-Z(e),0],a=0,f=0,c=new Kn;i===1?r=ut+X:i===-1&&(r=-ut-X);for(var s=0,u=t.length;s<u;++s)if(l=(d=t[s]).length)for(var d,l,h=d[l-1],p=ta(h),g=h[1]/2+Kc,m=V(g),w=Z(g),y=0;y<l;++y,p=b,m=x,w=M,h=v){var v=d[y],b=ta(v),$=v[1]/2+Kc,x=V($),M=Z($),S=b-p,T=S>=0?1:-1,k=T*S,A=k>K,E=m*x;if(c.add(Cn(E*T*V(k),w*M+E*Z(k))),a+=A?S+T*Dt:S,A^p>=e^b>=e){var O=Yi(Ie(h),Ie(v));Xa(O);var I=Yi(o,O);Xa(I);var _=(A^S>=0?-1:1)*Bt(I[2]);(r>_||r===_&&(O[0]||O[1]))&&(f+=A^S>=0?1:-1)}}return(a<-X||a<X&&c<-Ml)^f&1}function Cl(t,n,e,r){return function(i){var o=n(i),a=Tl(),f=n(a),c=!1,s,u,d,l={point:h,lineStart:g,lineEnd:m,polygonStart:function(){l.point=w,l.lineStart=y,l.lineEnd=v,u=[],s=[]},polygonEnd:function(){l.point=h,l.lineStart=g,l.lineEnd=m,u=Ps(u);var b=Ly(s,r);u.length?(c||(i.polygonStart(),c=!0),Al(u,Dy,b,e,i)):b&&(c||(i.polygonStart(),c=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),u=s=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(b,$){t(b,$)&&i.point(b,$)}function p(b,$){o.point(b,$)}function g(){l.point=p,o.lineStart()}function m(){l.point=h,o.lineEnd()}function w(b,$){d.push([b,$]),f.point(b,$)}function y(){f.lineStart(),d=[]}function v(){w(d[0][0],d[0][1]),f.lineEnd();var b=f.clean(),$=a.result(),x,M=$.length,S,T,k;if(d.pop(),s.push(d),d=null,!!M){if(b&1){if(T=$[0],(S=T.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),x=0;x<S;++x)i.point((k=T[x])[0],k[1]);i.lineEnd()}return}M>1&&b&2&&$.push($.pop().concat($.shift())),u.push($.filter(Iy))}}return l}}function Iy(t){return t.length>1}function Dy(t,n){return((t=t.x)[0]<0?t[1]-ut-X:ut-t[1])-((n=n.x)[0]<0?n[1]-ut-X:ut-n[1])}const ou=Cl(function(){return!0},Ry,Oy,[-K,-ut]);function Ry(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var f=o>0?K:-K,c=rt(o-n);rt(c-K)<X?(t.point(n,e=(e+a)/2>0?ut:-ut),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),t.point(o,e),i=0):r!==f&&c>=K&&(rt(n-r)<X&&(n-=r*X),rt(o-f)<X&&(o-=f*X),e=Fy(n,e,o,a),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),i=0),t.point(n=o,e=a),r=f},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function Fy(t,n,e,r){var i,o,a=V(t-e);return rt(a)>X?We((V(n)*(o=Z(r))*V(e)-V(r)*(i=Z(n))*V(t))/(i*o*a)):(n+r)/2}function Oy(t,n,e,r){var i;if(t==null)i=e*ut,r.point(-K,i),r.point(0,i),r.point(K,i),r.point(K,0),r.point(K,-i),r.point(0,-i),r.point(-K,-i),r.point(-K,0),r.point(-K,i);else if(rt(t[0]-n[0])>X){var o=t[0]<n[0]?K:-K;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function Py(t){var n=Z(t),e=2*ct,r=n>0,i=rt(n)>X;function o(u,d,l,h){ky(h,t,e,l,u,d)}function a(u,d){return Z(u)*Z(d)>n}function f(u){var d,l,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(m,w){var y=[m,w],v,b=a(m,w),$=r?b?0:s(m,w):b?s(m+(m<0?K:-K),w):0;if(!d&&(p=h=b)&&u.lineStart(),b!==h&&(v=c(d,y),(!v||Ai(d,v)||Ai(y,v))&&(y[2]=1)),b!==h)g=0,b?(u.lineStart(),v=c(y,d),u.point(v[0],v[1])):(v=c(d,y),u.point(v[0],v[1],2),u.lineEnd()),d=v;else if(i&&d&&r^b){var x;!($&l)&&(x=c(y,d,!0))&&(g=0,r?(u.lineStart(),u.point(x[0][0],x[0][1]),u.point(x[1][0],x[1][1]),u.lineEnd()):(u.point(x[1][0],x[1][1]),u.lineEnd(),u.lineStart(),u.point(x[0][0],x[0][1],3)))}b&&(!d||!Ai(d,y))&&u.point(y[0],y[1]),d=y,h=b,l=$},lineEnd:function(){h&&u.lineEnd(),d=null},clean:function(){return g|(p&&h)<<1}}}function c(u,d,l){var h=Ie(u),p=Ie(d),g=[1,0,0],m=Yi(h,p),w=ci(m,m),y=m[0],v=w-y*y;if(!v)return!l&&u;var b=n*w/v,$=-n*y/v,x=Yi(g,m),M=ui(g,b),S=ui(m,$);Jo(M,S);var T=x,k=ci(M,T),A=ci(T,T),E=k*k-A*(ci(M,M)-1);if(!(E<0)){var O=Et(E),I=ui(T,(-k-O)/A);if(Jo(I,M),I=Ga(I),!l)return I;var _=u[0],D=d[0],W=u[1],B=d[1],L;D<_&&(L=_,_=D,D=L);var R=D-_,U=rt(R-K)<X,H=U||R<X;if(!U&&B<W&&(L=W,W=B,B=L),H?U?W+B>0^I[1]<(rt(I[0]-_)<X?W:B):W<=I[1]&&I[1]<=B:R>K^(_<=I[0]&&I[0]<=D)){var q=ui(T,(-k+O)/A);return Jo(q,M),[I,Ga(q)]}}}function s(u,d){var l=r?t:K-t,h=0;return u<-l?h|=1:u>l&&(h|=2),d<-l?h|=4:d>l&&(h|=8),h}return Cl(a,f,o,r?[0,-t]:[-K,t-K])}function qy(t,n,e,r,i,o){var a=t[0],f=t[1],c=n[0],s=n[1],u=0,d=1,l=c-a,h=s-f,p;if(p=e-a,!(!l&&p>0)){if(p/=l,l<0){if(p<u)return;p<d&&(d=p)}else if(l>0){if(p>d)return;p>u&&(u=p)}if(p=i-a,!(!l&&p<0)){if(p/=l,l<0){if(p>d)return;p>u&&(u=p)}else if(l>0){if(p<u)return;p<d&&(d=p)}if(p=r-f,!(!h&&p>0)){if(p/=h,h<0){if(p<u)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>u&&(u=p)}if(p=o-f,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>u&&(u=p)}else if(h>0){if(p<u)return;p<d&&(d=p)}return u>0&&(t[0]=a+u*l,t[1]=f+u*h),d<1&&(n[0]=a+d*l,n[1]=f+d*h),!0}}}}}var ir=1e9,li=-ir;function El(t,n,e,r){function i(s,u){return t<=s&&s<=e&&n<=u&&u<=r}function o(s,u,d,l){var h=0,p=0;if(s==null||(h=a(s,d))!==(p=a(u,d))||c(s,u)<0^d>0)do l.point(h===0||h===3?t:e,h>1?r:n);while((h=(h+d+4)%4)!==p);else l.point(u[0],u[1])}function a(s,u){return rt(s[0]-t)<X?u>0?0:3:rt(s[0]-e)<X?u>0?2:1:rt(s[1]-n)<X?u>0?1:0:u>0?3:2}function f(s,u){return c(s.x,u.x)}function c(s,u){var d=a(s,1),l=a(u,1);return d!==l?d-l:d===0?u[1]-s[1]:d===1?s[0]-u[0]:d===2?s[1]-u[1]:u[0]-s[0]}return function(s){var u=s,d=Tl(),l,h,p,g,m,w,y,v,b,$,x,M={point:S,lineStart:E,lineEnd:O,polygonStart:k,polygonEnd:A};function S(_,D){i(_,D)&&u.point(_,D)}function T(){for(var _=0,D=0,W=h.length;D<W;++D)for(var B=h[D],L=1,R=B.length,U=B[0],H,q,j=U[0],J=U[1];L<R;++L)H=j,q=J,U=B[L],j=U[0],J=U[1],q<=r?J>r&&(j-H)*(r-q)>(J-q)*(t-H)&&++_:J<=r&&(j-H)*(r-q)<(J-q)*(t-H)&&--_;return _}function k(){u=d,l=[],h=[],x=!0}function A(){var _=T(),D=x&&_,W=(l=Ps(l)).length;(D||W)&&(s.polygonStart(),D&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),W&&Al(l,f,_,o,s),s.polygonEnd()),u=s,l=h=p=null}function E(){M.point=I,h&&h.push(p=[]),$=!0,b=!1,y=v=NaN}function O(){l&&(I(g,m),w&&b&&d.rejoin(),l.push(d.result())),M.point=S,b&&u.lineEnd()}function I(_,D){var W=i(_,D);if(h&&p.push([_,D]),$)g=_,m=D,w=W,$=!1,W&&(u.lineStart(),u.point(_,D));else if(W&&b)u.point(_,D);else{var B=[y=Math.max(li,Math.min(ir,y)),v=Math.max(li,Math.min(ir,v))],L=[_=Math.max(li,Math.min(ir,_)),D=Math.max(li,Math.min(ir,D))];qy(B,L,t,n,e,r)?(b||(u.lineStart(),u.point(B[0],B[1])),u.point(L[0],L[1]),W||u.lineEnd(),x=!1):W&&(u.lineStart(),u.point(_,D),x=!1)}y=_,v=D,b=W}return M}}const ja=t=>t;var na=new Kn,Qa=new Kn,Nl,kl,Ja,tf,xn={point:qt,lineStart:qt,lineEnd:qt,polygonStart:function(){xn.lineStart=Uy,xn.lineEnd=zy},polygonEnd:function(){xn.lineStart=xn.lineEnd=xn.point=qt,na.add(rt(Qa)),Qa=new Kn},result:function(){var t=na/2;return na=new Kn,t}};function Uy(){xn.point=Hy}function Hy(t,n){xn.point=Ll,Nl=Ja=t,kl=tf=n}function Ll(t,n){Qa.add(tf*t-Ja*n),Ja=t,tf=n}function zy(){Ll(Nl,kl)}var De=1/0,Vi=De,Mr=-De,Gi=Mr,Xi={point:By,lineStart:qt,lineEnd:qt,polygonStart:qt,polygonEnd:qt,result:function(){var t=[[De,Vi],[Mr,Gi]];return Mr=Gi=-(Vi=De=1/0),t}};function By(t,n){t<De&&(De=t),t>Mr&&(Mr=t),n<Vi&&(Vi=n),n>Gi&&(Gi=n)}var nf=0,ef=0,or=0,Zi=0,Ki=0,$e=0,rf=0,of=0,ar=0,Il,Dl,rn,on,Ot={point:re,lineStart:au,lineEnd:fu,polygonStart:function(){Ot.lineStart=Vy,Ot.lineEnd=Gy},polygonEnd:function(){Ot.point=re,Ot.lineStart=au,Ot.lineEnd=fu},result:function(){var t=ar?[rf/ar,of/ar]:$e?[Zi/$e,Ki/$e]:or?[nf/or,ef/or]:[NaN,NaN];return nf=ef=or=Zi=Ki=$e=rf=of=ar=0,t}};function re(t,n){nf+=t,ef+=n,++or}function au(){Ot.point=Wy}function Wy(t,n){Ot.point=Yy,re(rn=t,on=n)}function Yy(t,n){var e=t-rn,r=n-on,i=Et(e*e+r*r);Zi+=i*(rn+t)/2,Ki+=i*(on+n)/2,$e+=i,re(rn=t,on=n)}function fu(){Ot.point=re}function Vy(){Ot.point=Xy}function Gy(){Rl(Il,Dl)}function Xy(t,n){Ot.point=Rl,re(Il=rn=t,Dl=on=n)}function Rl(t,n){var e=t-rn,r=n-on,i=Et(e*e+r*r);Zi+=i*(rn+t)/2,Ki+=i*(on+n)/2,$e+=i,i=on*t-rn*n,rf+=i*(rn+t),of+=i*(on+n),ar+=i*3,re(rn=t,on=n)}function Fl(t){this._context=t}Fl.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Dt);break}}},result:qt};var af=new Kn,ea,Ol,Pl,fr,cr,$r={point:qt,lineStart:function(){$r.point=Zy},lineEnd:function(){ea&&ql(Ol,Pl),$r.point=qt},polygonStart:function(){ea=!0},polygonEnd:function(){ea=null},result:function(){var t=+af;return af=new Kn,t}};function Zy(t,n){$r.point=ql,Ol=fr=t,Pl=cr=n}function ql(t,n){fr-=t,cr-=n,af.add(Et(fr*fr+cr*cr)),fr=t,cr=n}let cu,ji,uu,su;class lu{constructor(n){this._append=n==null?Ul:Ky(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==uu||this._append!==ji){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,uu=r,ji=this._append,su=this._,this._=i}this._+=su;break}}}result(){const n=this._;return this._="",n.length?n:null}}function Ul(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Ky(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Ul;if(n!==cu){const e=10**n;cu=n,ji=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*e)/e+i[o]}}return ji}function zf(t,n){let e=3,r=4.5,i,o;function a(f){return f&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Bn(f,i(o))),o.result()}return a.area=function(f){return Bn(f,i(xn)),xn.result()},a.measure=function(f){return Bn(f,i($r)),$r.result()},a.bounds=function(f){return Bn(f,i(Xi)),Xi.result()},a.centroid=function(f){return Bn(f,i(Ot)),Ot.result()},a.projection=function(f){return arguments.length?(i=f==null?(t=null,ja):(t=f).stream,a):t},a.context=function(f){return arguments.length?(o=f==null?(n=null,new lu(e)):new Fl(n=f),typeof r!="function"&&o.pointRadius(r),a):n},a.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(o.pointRadius(+f),+f),a):r},a.digits=function(f){if(!arguments.length)return e;if(f==null)e=null;else{const c=Math.floor(f);if(!(c>=0))throw new RangeError(`invalid digits: ${f}`);e=c}return n===null&&(o=new lu(e)),a},a.projection(t).digits(e).context(n)}function Qi(t){return{stream:xo(t)}}function xo(t){return function(n){var e=new ff;for(var r in t)e[r]=t[r];return e.stream=n,e}}function ff(){}ff.prototype={constructor:ff,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Bf(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Bn(e,t.stream(Xi)),n(Xi.result()),r!=null&&t.clipExtent(r),t}function Wf(t,n,e){return Bf(t,function(r){var i=n[1][0]-n[0][0],o=n[1][1]-n[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),f=+n[0][0]+(i-a*(r[1][0]+r[0][0]))/2,c=+n[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([f,c])},e)}function Hl(t,n,e){return Wf(t,[[0,0],n],e)}function zl(t,n,e){return Bf(t,function(r){var i=+n,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,f=-o*r[0][1];t.scale(150*o).translate([a,f])},e)}function Bl(t,n,e){return Bf(t,function(r){var i=+n,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],f=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,f])},e)}var du=16,jy=Z(30*ct);function hu(t,n){return+n?Jy(t,n):Qy(t)}function Qy(t){return xo({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function Jy(t,n){function e(r,i,o,a,f,c,s,u,d,l,h,p,g,m){var w=s-r,y=u-i,v=w*w+y*y;if(v>4*n&&g--){var b=a+l,$=f+h,x=c+p,M=Et(b*b+$*$+x*x),S=Bt(x/=M),T=rt(rt(x)-1)<X||rt(o-d)<X?(o+d)/2:Cn($,b),k=t(T,S),A=k[0],E=k[1],O=A-r,I=E-i,_=y*O-w*I;(_*_/v>n||rt((w*O+y*I)/v-.5)>.3||a*l+f*h+c*p<jy)&&(e(r,i,o,a,f,c,A,E,T,b/=M,$/=M,x,g,m),m.point(A,E),e(A,E,T,b,$,x,s,u,d,l,h,p,g,m))}}return function(r){var i,o,a,f,c,s,u,d,l,h,p,g,m={point:w,lineStart:y,lineEnd:b,polygonStart:function(){r.polygonStart(),m.lineStart=$},polygonEnd:function(){r.polygonEnd(),m.lineStart=y}};function w(S,T){S=t(S,T),r.point(S[0],S[1])}function y(){d=NaN,m.point=v,r.lineStart()}function v(S,T){var k=Ie([S,T]),A=t(S,T);e(d,l,u,h,p,g,d=A[0],l=A[1],u=S,h=k[0],p=k[1],g=k[2],du,r),r.point(d,l)}function b(){m.point=w,r.lineEnd()}function $(){y(),m.point=x,m.lineEnd=M}function x(S,T){v(i=S,T),o=d,a=l,f=h,c=p,s=g,m.point=v}function M(){e(d,l,u,h,p,g,o,a,i,f,c,s,du,r),m.lineEnd=b,b()}return m}}var t2=xo({point:function(t,n){this.stream.point(t*ct,n*ct)}});function n2(t){return xo({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function e2(t,n,e,r,i){function o(a,f){return a*=r,f*=i,[n+t*a,e-t*f]}return o.invert=function(a,f){return[(a-n)/t*r,(e-f)/t*i]},o}function pu(t,n,e,r,i,o){if(!o)return e2(t,n,e,r,i);var a=Z(o),f=V(o),c=a*t,s=f*t,u=a/t,d=f/t,l=(f*e-a*n)/t,h=(f*n+a*e)/t;function p(g,m){return g*=r,m*=i,[c*g-s*m+n,e-s*g-c*m]}return p.invert=function(g,m){return[r*(u*g-d*m+l),i*(h-d*g-u*m)]},p}function Pn(t){return Wl(function(){return t})()}function Wl(t){var n,e=150,r=480,i=250,o=0,a=0,f=0,c=0,s=0,u,d=0,l=1,h=1,p=null,g=ou,m=null,w,y,v,b=ja,$=.5,x,M,S,T,k;function A(_){return S(_[0]*ct,_[1]*ct)}function E(_){return _=S.invert(_[0],_[1]),_&&[_[0]*$t,_[1]*$t]}A.stream=function(_){return T&&k===_?T:T=t2(n2(u)(g(x(b(k=_)))))},A.preclip=function(_){return arguments.length?(g=_,p=void 0,I()):g},A.postclip=function(_){return arguments.length?(b=_,m=w=y=v=null,I()):b},A.clipAngle=function(_){return arguments.length?(g=+_?Py(p=_*ct):(p=null,ou),I()):p*$t},A.clipExtent=function(_){return arguments.length?(b=_==null?(m=w=y=v=null,ja):El(m=+_[0][0],w=+_[0][1],y=+_[1][0],v=+_[1][1]),I()):m==null?null:[[m,w],[y,v]]},A.scale=function(_){return arguments.length?(e=+_,O()):e},A.translate=function(_){return arguments.length?(r=+_[0],i=+_[1],O()):[r,i]},A.center=function(_){return arguments.length?(o=_[0]%360*ct,a=_[1]%360*ct,O()):[o*$t,a*$t]},A.rotate=function(_){return arguments.length?(f=_[0]%360*ct,c=_[1]%360*ct,s=_.length>2?_[2]%360*ct:0,O()):[f*$t,c*$t,s*$t]},A.angle=function(_){return arguments.length?(d=_%360*ct,O()):d*$t},A.reflectX=function(_){return arguments.length?(l=_?-1:1,O()):l<0},A.reflectY=function(_){return arguments.length?(h=_?-1:1,O()):h<0},A.precision=function(_){return arguments.length?(x=hu(M,$=_*_),I()):Et($)},A.fitExtent=function(_,D){return Wf(A,_,D)},A.fitSize=function(_,D){return Hl(A,_,D)},A.fitWidth=function(_,D){return zl(A,_,D)},A.fitHeight=function(_,D){return Bl(A,_,D)};function O(){var _=pu(e,0,0,l,h,d).apply(null,n(o,a)),D=pu(e,r-_[0],i-_[1],l,h,d);return u=Sl(f,c,s),M=Za(n,D),S=Za(u,M),x=hu(M,$),I()}function I(){return T=k=null,A}return function(){return n=t.apply(this,arguments),A.invert=n.invert&&E,O()}}function Yf(t){var n=0,e=K/3,r=Wl(t),i=r(n,e);return i.parallels=function(o){return arguments.length?r(n=o[0]*ct,e=o[1]*ct):[n*$t,e*$t]},i}function r2(t){var n=Z(t);function e(r,i){return[r*n,V(i)/n]}return e.invert=function(r,i){return[r/n,Bt(i*n)]},e}function i2(t,n){var e=V(t),r=(e+V(n))/2;if(rt(r)<X)return r2(t);var i=1+e*(2*r-e),o=Et(i)/r;function a(f,c){var s=Et(i-2*r*V(c))/r;return[s*V(f*=r),o-s*Z(f)]}return a.invert=function(f,c){var s=o-c,u=Cn(f,rt(s))*Pt(s);return s*r<0&&(u-=K*Pt(f)*Pt(s)),[u/r,Bt((i-(f*f+s*s)*r*r)/(2*r))]},a}function Ji(){return Yf(i2).scale(155.424).center([0,33.6442])}function Yl(){return Ji().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function o2(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function a2(){var t,n,e=Yl(),r,i=Ji().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=Ji().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,c,s={point:function(l,h){c=[l,h]}};function u(l){var h=l[0],p=l[1];return c=null,r.point(h,p),c||(o.point(h,p),c)||(f.point(h,p),c)}u.invert=function(l){var h=e.scale(),p=e.translate(),g=(l[0]-p[0])/h,m=(l[1]-p[1])/h;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?i:m>=.166&&m<.234&&g>=-.214&&g<-.115?a:e).invert(l)},u.stream=function(l){return t&&n===l?t:t=o2([e.stream(n=l),i.stream(l),a.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),a.precision(l),d()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l*.35),a.scale(l),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();var h=e.scale(),p=+l[0],g=+l[1];return r=e.translate(l).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(s),o=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+X,g+.12*h+X],[p-.214*h-X,g+.234*h-X]]).stream(s),f=a.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+X,g+.166*h+X],[p-.115*h-X,g+.234*h-X]]).stream(s),d()},u.fitExtent=function(l,h){return Wf(u,l,h)},u.fitSize=function(l,h){return Hl(u,l,h)},u.fitWidth=function(l,h){return zl(u,l,h)},u.fitHeight=function(l,h){return Bl(u,l,h)};function d(){return t=n=null,u}return u.scale(1070)}function Vl(t){return function(n,e){var r=Z(n),i=Z(e),o=t(r*i);return o===1/0?[2,0]:[o*i*V(n),o*V(e)]}}function Pr(t){return function(n,e){var r=Et(n*n+e*e),i=t(r),o=V(i),a=Z(i);return[Cn(n*o,r*a),Bt(r&&e*o/r)]}}var Gl=Vl(function(t){return Et(2/(1+t))});Gl.invert=Pr(function(t){return 2*Bt(t/2)});function f2(){return Pn(Gl).scale(124.75).clipAngle(180-.001)}var Xl=Vl(function(t){return(t=_l(t))&&t/V(t)});Xl.invert=Pr(function(t){return t});function c2(){return Pn(Xl).scale(79.4188).clipAngle(180-.001)}function Mo(t,n){return[t,Bi(Hf((ut+n)/2))]}Mo.invert=function(t,n){return[t,2*We($l(n))-ut]};function u2(){return Zl(Mo).scale(961/Dt)}function Zl(t){var n=Pn(t),e=n.center,r=n.scale,i=n.translate,o=n.clipExtent,a=null,f,c,s;n.scale=function(d){return arguments.length?(r(d),u()):r()},n.translate=function(d){return arguments.length?(i(d),u()):i()},n.center=function(d){return arguments.length?(e(d),u()):e()},n.clipExtent=function(d){return arguments.length?(d==null?a=f=c=s=null:(a=+d[0][0],f=+d[0][1],c=+d[1][0],s=+d[1][1]),u()):a==null?null:[[a,f],[c,s]]};function u(){var d=K*r(),l=n(Ny(n.rotate()).invert([0,0]));return o(a==null?[[l[0]-d,l[1]-d],[l[0]+d,l[1]+d]]:t===Mo?[[Math.max(l[0]-d,a),f],[Math.min(l[0]+d,c),s]]:[[a,Math.max(l[1]-d,f)],[c,Math.min(l[1]+d,s)]])}return u()}function di(t){return Hf((ut+t)/2)}function s2(t,n){var e=Z(t),r=t===n?V(t):Bi(e/Z(n))/Bi(di(n)/di(t)),i=e*Qo(di(t),r)/r;if(!r)return Mo;function o(a,f){i>0?f<-ut+X&&(f=-ut+X):f>ut-X&&(f=ut-X);var c=i/Qo(di(f),r);return[c*V(r*a),i-c*Z(r*a)]}return o.invert=function(a,f){var c=i-f,s=Pt(r)*Et(a*a+c*c),u=Cn(a,rt(c))*Pt(c);return c*r<0&&(u-=K*Pt(a)*Pt(c)),[u/r,2*We(Qo(i/s,1/r))-ut]},o}function l2(){return Yf(s2).scale(109.5).parallels([30,30])}function to(t,n){return[t,n]}to.invert=to;function d2(){return Pn(to).scale(152.63)}function h2(t,n){var e=Z(t),r=t===n?V(t):(e-Z(n))/(n-t),i=e/r+t;if(rt(r)<X)return to;function o(a,f){var c=i-f,s=r*a;return[c*V(s),i-c*Z(s)]}return o.invert=function(a,f){var c=i-f,s=Cn(a,rt(c))*Pt(c);return c*r<0&&(s-=K*Pt(a)*Pt(c)),[s/r,i-Pt(r)*Et(a*a+c*c)]},o}function p2(){return Yf(h2).scale(131.154).center([0,13.9389])}var dr=1.340264,hr=-.081106,pr=893e-6,gr=.003796,no=Et(3)/2,g2=12;function Kl(t,n){var e=Bt(no*V(n)),r=e*e,i=r*r*r;return[t*Z(e)/(no*(dr+3*hr*r+i*(7*pr+9*gr*r))),e*(dr+hr*r+i*(pr+gr*r))]}Kl.invert=function(t,n){for(var e=n,r=e*e,i=r*r*r,o=0,a,f,c;o<g2&&(f=e*(dr+hr*r+i*(pr+gr*r))-n,c=dr+3*hr*r+i*(7*pr+9*gr*r),e-=a=f/c,r=e*e,i=r*r*r,!(rt(a)<Ml));++o);return[no*t*(dr+3*hr*r+i*(7*pr+9*gr*r))/Z(e),Bt(V(e)/no)]};function m2(){return Pn(Kl).scale(177.158)}function jl(t,n){var e=Z(n),r=Z(t)*e;return[e*V(t)/r,V(n)/r]}jl.invert=Pr(We);function b2(){return Pn(jl).scale(144.049).clipAngle(60)}function Ql(t,n){return[Z(n)*V(t),V(n)]}Ql.invert=Pr(Bt);function y2(){return Pn(Ql).scale(249.5).clipAngle(90+X)}function Jl(t,n){var e=Z(n),r=1+Z(t)*e;return[e*V(t)/r,V(n)/r]}Jl.invert=Pr(function(t){return 2*We(t)});function w2(){return Pn(Jl).scale(250).clipAngle(142)}function td(t,n){return[Bi(Hf((ut+n)/2)),-t]}td.invert=function(t,n){return[-n,2*We($l(t))-ut]};function v2(){var t=Zl(td),n=t.center,e=t.rotate;return t.center=function(r){return arguments.length?n([-r[1],r[0]]):(r=n(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}function hn(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function $o(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const cf=Symbol("implicit");function Vf(){var t=new jn,n=[],e=[],r=cf;function i(o){let a=t.get(o);if(a===void 0){if(r!==cf)return r;t.set(o,a=n.push(o)-1)}return e[a%e.length]}return i.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new jn;for(const a of o)t.has(a)||t.set(a,n.push(a)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Vf(n,e).unknown(r)},hn.apply(i,arguments),i}function _o(){var t=Vf().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,o,a,f=!1,c=0,s=0,u=.5;delete t.unknown;function d(){var l=n().length,h=i<r,p=h?i:r,g=h?r:i;o=(g-p)/Math.max(1,l-c+s*2),f&&(o=Math.floor(o)),p+=(g-p-o*(l-c))*u,a=o*(1-c),f&&(p=Math.round(p),a=Math.round(a));var m=Ia(l).map(function(w){return p+o*w});return e(h?m.reverse():m)}return t.domain=function(l){return arguments.length?(n(l),d()):n()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,f=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(l){return arguments.length?(f=!!l,d()):f},t.padding=function(l){return arguments.length?(c=Math.min(1,s=+l),d()):c},t.paddingInner=function(l){return arguments.length?(c=Math.min(1,l),d()):c},t.paddingOuter=function(l){return arguments.length?(s=+l,d()):s},t.align=function(l){return arguments.length?(u=Math.max(0,Math.min(1,l)),d()):u},t.copy=function(){return _o(n(),[r,i]).round(f).paddingInner(c).paddingOuter(s).align(u)},hn.apply(d(),arguments)}function nd(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return nd(n())},t}function x2(){return nd(_o.apply(null,arguments).paddingInner(1))}function M2(t){return function(){return t}}function uf(t){return+t}var gu=[0,1];function Ut(t){return t}function sf(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:M2(isNaN(n)?NaN:.5)}function $2(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function _2(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=sf(i,r),o=e(a,o)):(r=sf(r,i),o=e(o,a)),function(f){return o(r(f))}}function S2(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=sf(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(f){var c=Tf(t,f,1,r)-1;return o[c](i[c](f))}}function qr(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function So(){var t=gu,n=gu,e=Or,r,i,o,a=Ut,f,c,s;function u(){var l=Math.min(t.length,n.length);return a!==Ut&&(a=$2(t[0],t[l-1])),f=l>2?S2:_2,c=s=null,d}function d(l){return l==null||isNaN(l=+l)?o:(c||(c=f(t.map(r),n,e)))(r(a(l)))}return d.invert=function(l){return a(i((s||(s=f(n,t.map(r),wt)))(l)))},d.domain=function(l){return arguments.length?(t=Array.from(l,uf),u()):t.slice()},d.range=function(l){return arguments.length?(n=Array.from(l),u()):n.slice()},d.rangeRound=function(l){return n=Array.from(l),e=Rf,u()},d.clamp=function(l){return arguments.length?(a=l?!0:Ut,u()):a!==Ut},d.interpolate=function(l){return arguments.length?(e=l,u()):e},d.unknown=function(l){return arguments.length?(o=l,d):o},function(l,h){return r=l,i=h,u()}}function ed(){return So()(Ut,Ut)}function T2(t,n,e,r){var i=ka(t,n,e),o;switch(r=xr(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=Cy(i,a))&&(r.precision=o),xl(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Ey(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Ay(i))&&(r.precision=o-(r.type==="%")*2);break}}return Be(r)}function Ur(t){var n=t.domain;return t.ticks=function(e){var r=n();return Li(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return T2(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,a=r[i],f=r[o],c,s,u=10;for(f<a&&(s=a,a=f,f=s,s=i,i=o,o=s);u-- >0;){if(s=Na(a,f,e),s===c)return r[i]=a,r[o]=f,n(r);if(s>0)a=Math.floor(a/s)*s,f=Math.ceil(f/s)*s;else if(s<0)a=Math.ceil(a*s)/s,f=Math.floor(f*s)/s;else break;c=s}return t},t}function Gf(){var t=ed();return t.copy=function(){return qr(t,Gf())},hn.apply(t,arguments),Ur(t)}function rd(t){var n;function e(r){return r==null||isNaN(r=+r)?n:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=Array.from(r,uf),e):t.slice()},e.unknown=function(r){return arguments.length?(n=r,e):n},e.copy=function(){return rd(t).unknown(n)},t=arguments.length?Array.from(t,uf):[0,1],Ur(e)}function id(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],o=t[r],a;return o<i&&(a=e,e=r,r=a,a=i,i=o,o=a),t[e]=n.floor(i),t[r]=n.ceil(o),t}function mu(t){return Math.log(t)}function bu(t){return Math.exp(t)}function A2(t){return-Math.log(-t)}function C2(t){return-Math.exp(-t)}function E2(t){return isFinite(t)?+("1e"+t):t<0?0:t}function N2(t){return t===10?E2:t===Math.E?Math.exp:n=>Math.pow(t,n)}function k2(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function yu(t){return(n,e)=>-t(-n,e)}function od(t){const n=t(mu,bu),e=n.domain;let r=10,i,o;function a(){return i=k2(r),o=N2(r),e()[0]<0?(i=yu(i),o=yu(o),t(A2,C2)):t(mu,bu),n}return n.base=function(f){return arguments.length?(r=+f,a()):r},n.domain=function(f){return arguments.length?(e(f),a()):e()},n.ticks=f=>{const c=e();let s=c[0],u=c[c.length-1];const d=u<s;d&&([s,u]=[u,s]);let l=i(s),h=i(u),p,g;const m=f==null?10:+f;let w=[];if(!(r%1)&&h-l<m){if(l=Math.floor(l),h=Math.ceil(h),s>0){for(;l<=h;++l)for(p=1;p<r;++p)if(g=l<0?p/o(-l):p*o(l),!(g<s)){if(g>u)break;w.push(g)}}else for(;l<=h;++l)for(p=r-1;p>=1;--p)if(g=l>0?p/o(-l):p*o(l),!(g<s)){if(g>u)break;w.push(g)}w.length*2<m&&(w=Li(s,u,m))}else w=Li(l,h,Math.min(h-l,m)).map(o);return d?w.reverse():w},n.tickFormat=(f,c)=>{if(f==null&&(f=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=xr(c)).precision==null&&(c.trim=!0),c=Be(c)),f===1/0)return c;const s=Math.max(1,r*f/n.ticks().length);return u=>{let d=u/o(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=s?c(u):""}},n.nice=()=>e(id(e(),{floor:f=>o(Math.floor(i(f))),ceil:f=>o(Math.ceil(i(f)))})),n}function ad(){const t=od(So()).domain([1,10]);return t.copy=()=>qr(t,ad()).base(t.base()),hn.apply(t,arguments),t}function wu(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function vu(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function fd(t){var n=1,e=t(wu(n),vu(n));return e.constant=function(r){return arguments.length?t(wu(n=+r),vu(n)):n},Ur(e)}function cd(){var t=fd(So());return t.copy=function(){return qr(t,cd()).constant(t.constant())},hn.apply(t,arguments)}function xu(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function L2(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function I2(t){return t<0?-t*t:t*t}function ud(t){var n=t(Ut,Ut),e=1;function r(){return e===1?t(Ut,Ut):e===.5?t(L2,I2):t(xu(e),xu(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},Ur(n)}function sd(){var t=ud(So());return t.copy=function(){return qr(t,sd()).exponent(t.exponent())},hn.apply(t,arguments),t}function ld(){var t=[],n=[],e=[],r;function i(){var a=0,f=Math.max(1,n.length);for(e=new Array(f-1);++a<f;)e[a-1]=T1(t,a/f);return o}function o(a){return a==null||isNaN(a=+a)?r:n[Tf(e,a)]}return o.invertExtent=function(a){var f=n.indexOf(a);return f<0?[NaN,NaN]:[f>0?e[f-1]:t[0],f<e.length?e[f]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let f of a)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(Ct),i()},o.range=function(a){return arguments.length?(n=Array.from(a),i()):n.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return e.slice()},o.copy=function(){return ld().domain(t).range(n).unknown(r)},hn.apply(o,arguments)}function dd(){var t=[.5],n=[0,1],e,r=1;function i(o){return o!=null&&o<=o?n[Tf(t,o,0,r)]:e}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(o){return arguments.length?(n=Array.from(o),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(o){var a=n.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(e=o,i):e},i.copy=function(){return dd().domain(t).range(n).unknown(e)},hn.apply(i,arguments)}const ra=new Date,ia=new Date;function ht(t,n,e,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),n(o,1),t(o),o),i.round=o=>{const a=i(o),f=i.ceil(o);return o-a<f-o?a:f},i.offset=(o,a)=>(n(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,f)=>{const c=[];if(o=i.ceil(o),f=f==null?1:Math.floor(f),!(o<a)||!(f>0))return c;let s;do c.push(s=new Date(+o)),n(o,f),t(o);while(s<o&&o<a);return c},i.filter=o=>ht(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,f)=>{if(a>=a)if(f<0)for(;++f<=0;)for(;n(a,-1),!o(a););else for(;--f>=0;)for(;n(a,1),!o(a););}),e&&(i.count=(o,a)=>(ra.setTime(+o),ia.setTime(+a),t(ra),t(ia),Math.floor(e(ra,ia))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const eo=ht(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);eo.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ht(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):eo);eo.range;const $n=1e3,Ht=$n*60,_n=Ht*60,En=_n*24,Xf=En*7,Mu=En*30,oa=En*365,Xt=ht(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*$n)},(t,n)=>(n-t)/$n,t=>t.getUTCSeconds());Xt.range;const Hr=ht(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$n)},(t,n)=>{t.setTime(+t+n*Ht)},(t,n)=>(n-t)/Ht,t=>t.getMinutes());Hr.range;const zr=ht(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*Ht)},(t,n)=>(n-t)/Ht,t=>t.getUTCMinutes());zr.range;const Br=ht(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$n-t.getMinutes()*Ht)},(t,n)=>{t.setTime(+t+n*_n)},(t,n)=>(n-t)/_n,t=>t.getHours());Br.range;const Wr=ht(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*_n)},(t,n)=>(n-t)/_n,t=>t.getUTCHours());Wr.range;const ue=ht(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ht)/En,t=>t.getDate()-1);ue.range;const To=ht(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/En,t=>t.getUTCDate()-1);To.range;const Ao=ht(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/En,t=>Math.floor(t/En));Ao.range;function se(t){return ht(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+e*7)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Ht)/Xf)}const Re=se(0),_r=se(1),hd=se(2),pd=se(3),ie=se(4),gd=se(5),md=se(6);Re.range;_r.range;hd.range;pd.range;ie.range;gd.range;md.range;function le(t){return ht(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e*7)},(n,e)=>(e-n)/Xf)}const Fe=le(0),Sr=le(1),bd=le(2),yd=le(3),oe=le(4),wd=le(5),vd=le(6);Fe.range;Sr.range;bd.range;yd.range;oe.range;wd.range;vd.range;const Yr=ht(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Yr.range;const Vr=ht(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Vr.range;const Qt=ht(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());Qt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ht(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)});Qt.range;const Jt=ht(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Jt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ht(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)});Jt.range;function xd(t,n,e,r,i,o){const a=[[Xt,1,$n],[Xt,5,5*$n],[Xt,15,15*$n],[Xt,30,30*$n],[o,1,Ht],[o,5,5*Ht],[o,15,15*Ht],[o,30,30*Ht],[i,1,_n],[i,3,3*_n],[i,6,6*_n],[i,12,12*_n],[r,1,En],[r,2,2*En],[e,1,Xf],[n,1,Mu],[n,3,3*Mu],[t,1,oa]];function f(s,u,d){const l=u<s;l&&([s,u]=[u,s]);const h=d&&typeof d.range=="function"?d:c(s,u,d),p=h?h.range(s,+u+1):[];return l?p.reverse():p}function c(s,u,d){const l=Math.abs(u-s)/d,h=lo(([,,m])=>m).right(a,l);if(h===a.length)return t.every(ka(s/oa,u/oa,d));if(h===0)return eo.every(Math.max(ka(s,u,d),1));const[p,g]=a[l/a[h-1][2]<a[h][2]/l?h-1:h];return p.every(g)}return[f,c]}const[D2,R2]=xd(Jt,Vr,Fe,Ao,Wr,zr),[F2,O2]=xd(Qt,Yr,Re,ue,Br,Hr);function aa(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function fa(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function je(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function P2(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,f=t.months,c=t.shortMonths,s=Qe(i),u=Je(i),d=Qe(o),l=Je(o),h=Qe(a),p=Je(a),g=Qe(f),m=Je(f),w=Qe(c),y=Je(c),v={a:W,A:B,b:L,B:R,c:null,d:Cu,e:Cu,f:f6,g:b6,G:w6,H:i6,I:o6,j:a6,L:Md,m:c6,M:u6,p:U,q:H,Q:ku,s:Lu,S:s6,u:l6,U:d6,V:h6,w:p6,W:g6,x:null,X:null,y:m6,Y:y6,Z:v6,"%":Nu},b={a:q,A:j,b:J,B:tt,c:null,d:Eu,e:Eu,f:_6,g:D6,G:F6,H:x6,I:M6,j:$6,L:_d,m:S6,M:T6,p:P,q:et,Q:ku,s:Lu,S:A6,u:C6,U:E6,V:N6,w:k6,W:L6,x:null,X:null,y:I6,Y:R6,Z:O6,"%":Nu},$={a:k,A,b:E,B:O,c:I,d:Tu,e:Tu,f:t6,g:Su,G:_u,H:Au,I:Au,j:K2,L:J2,m:Z2,M:j2,p:T,q:X2,Q:e6,s:r6,S:Q2,u:B2,U:W2,V:Y2,w:z2,W:V2,x:_,X:D,y:Su,Y:_u,Z:G2,"%":n6};v.x=x(e,v),v.X=x(r,v),v.c=x(n,v),b.x=x(e,b),b.X=x(r,b),b.c=x(n,b);function x(N,F){return function(z){var C=[],ot=-1,Y=0,ft=N.length,lt,Nt,we;for(z instanceof Date||(z=new Date(+z));++ot<ft;)N.charCodeAt(ot)===37&&(C.push(N.slice(Y,ot)),(Nt=$u[lt=N.charAt(++ot)])!=null?lt=N.charAt(++ot):Nt=lt==="e"?" ":"0",(we=F[lt])&&(lt=we(z,Nt)),C.push(lt),Y=ot+1);return C.push(N.slice(Y,ot)),C.join("")}}function M(N,F){return function(z){var C=je(1900,void 0,1),ot=S(C,N,z+="",0),Y,ft;if(ot!=z.length)return null;if("Q"in C)return new Date(C.Q);if("s"in C)return new Date(C.s*1e3+("L"in C?C.L:0));if(F&&!("Z"in C)&&(C.Z=0),"p"in C&&(C.H=C.H%12+C.p*12),C.m===void 0&&(C.m="q"in C?C.q:0),"V"in C){if(C.V<1||C.V>53)return null;"w"in C||(C.w=1),"Z"in C?(Y=fa(je(C.y,0,1)),ft=Y.getUTCDay(),Y=ft>4||ft===0?Sr.ceil(Y):Sr(Y),Y=To.offset(Y,(C.V-1)*7),C.y=Y.getUTCFullYear(),C.m=Y.getUTCMonth(),C.d=Y.getUTCDate()+(C.w+6)%7):(Y=aa(je(C.y,0,1)),ft=Y.getDay(),Y=ft>4||ft===0?_r.ceil(Y):_r(Y),Y=ue.offset(Y,(C.V-1)*7),C.y=Y.getFullYear(),C.m=Y.getMonth(),C.d=Y.getDate()+(C.w+6)%7)}else("W"in C||"U"in C)&&("w"in C||(C.w="u"in C?C.u%7:"W"in C?1:0),ft="Z"in C?fa(je(C.y,0,1)).getUTCDay():aa(je(C.y,0,1)).getDay(),C.m=0,C.d="W"in C?(C.w+6)%7+C.W*7-(ft+5)%7:C.w+C.U*7-(ft+6)%7);return"Z"in C?(C.H+=C.Z/100|0,C.M+=C.Z%100,fa(C)):aa(C)}}function S(N,F,z,C){for(var ot=0,Y=F.length,ft=z.length,lt,Nt;ot<Y;){if(C>=ft)return-1;if(lt=F.charCodeAt(ot++),lt===37){if(lt=F.charAt(ot++),Nt=$[lt in $u?F.charAt(ot++):lt],!Nt||(C=Nt(N,z,C))<0)return-1}else if(lt!=z.charCodeAt(C++))return-1}return C}function T(N,F,z){var C=s.exec(F.slice(z));return C?(N.p=u.get(C[0].toLowerCase()),z+C[0].length):-1}function k(N,F,z){var C=h.exec(F.slice(z));return C?(N.w=p.get(C[0].toLowerCase()),z+C[0].length):-1}function A(N,F,z){var C=d.exec(F.slice(z));return C?(N.w=l.get(C[0].toLowerCase()),z+C[0].length):-1}function E(N,F,z){var C=w.exec(F.slice(z));return C?(N.m=y.get(C[0].toLowerCase()),z+C[0].length):-1}function O(N,F,z){var C=g.exec(F.slice(z));return C?(N.m=m.get(C[0].toLowerCase()),z+C[0].length):-1}function I(N,F,z){return S(N,n,F,z)}function _(N,F,z){return S(N,e,F,z)}function D(N,F,z){return S(N,r,F,z)}function W(N){return a[N.getDay()]}function B(N){return o[N.getDay()]}function L(N){return c[N.getMonth()]}function R(N){return f[N.getMonth()]}function U(N){return i[+(N.getHours()>=12)]}function H(N){return 1+~~(N.getMonth()/3)}function q(N){return a[N.getUTCDay()]}function j(N){return o[N.getUTCDay()]}function J(N){return c[N.getUTCMonth()]}function tt(N){return f[N.getUTCMonth()]}function P(N){return i[+(N.getUTCHours()>=12)]}function et(N){return 1+~~(N.getUTCMonth()/3)}return{format:function(N){var F=x(N+="",v);return F.toString=function(){return N},F},parse:function(N){var F=M(N+="",!1);return F.toString=function(){return N},F},utcFormat:function(N){var F=x(N+="",b);return F.toString=function(){return N},F},utcParse:function(N){var F=M(N+="",!0);return F.toString=function(){return N},F}}}var $u={"-":"",_:" ",0:"0"},bt=/^\s*\d+/,q2=/^%/,U2=/[\\^$*+?|[\]().{}]/g;function nt(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function H2(t){return t.replace(U2,"\\$&")}function Qe(t){return new RegExp("^(?:"+t.map(H2).join("|")+")","i")}function Je(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function z2(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function B2(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function W2(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Y2(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function V2(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function _u(t,n,e){var r=bt.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Su(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function G2(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function X2(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function Z2(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Tu(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function K2(t,n,e){var r=bt.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Au(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function j2(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Q2(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function J2(t,n,e){var r=bt.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function t6(t,n,e){var r=bt.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function n6(t,n,e){var r=q2.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function e6(t,n,e){var r=bt.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function r6(t,n,e){var r=bt.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function Cu(t,n){return nt(t.getDate(),n,2)}function i6(t,n){return nt(t.getHours(),n,2)}function o6(t,n){return nt(t.getHours()%12||12,n,2)}function a6(t,n){return nt(1+ue.count(Qt(t),t),n,3)}function Md(t,n){return nt(t.getMilliseconds(),n,3)}function f6(t,n){return Md(t,n)+"000"}function c6(t,n){return nt(t.getMonth()+1,n,2)}function u6(t,n){return nt(t.getMinutes(),n,2)}function s6(t,n){return nt(t.getSeconds(),n,2)}function l6(t){var n=t.getDay();return n===0?7:n}function d6(t,n){return nt(Re.count(Qt(t)-1,t),n,2)}function $d(t){var n=t.getDay();return n>=4||n===0?ie(t):ie.ceil(t)}function h6(t,n){return t=$d(t),nt(ie.count(Qt(t),t)+(Qt(t).getDay()===4),n,2)}function p6(t){return t.getDay()}function g6(t,n){return nt(_r.count(Qt(t)-1,t),n,2)}function m6(t,n){return nt(t.getFullYear()%100,n,2)}function b6(t,n){return t=$d(t),nt(t.getFullYear()%100,n,2)}function y6(t,n){return nt(t.getFullYear()%1e4,n,4)}function w6(t,n){var e=t.getDay();return t=e>=4||e===0?ie(t):ie.ceil(t),nt(t.getFullYear()%1e4,n,4)}function v6(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+nt(n/60|0,"0",2)+nt(n%60,"0",2)}function Eu(t,n){return nt(t.getUTCDate(),n,2)}function x6(t,n){return nt(t.getUTCHours(),n,2)}function M6(t,n){return nt(t.getUTCHours()%12||12,n,2)}function $6(t,n){return nt(1+To.count(Jt(t),t),n,3)}function _d(t,n){return nt(t.getUTCMilliseconds(),n,3)}function _6(t,n){return _d(t,n)+"000"}function S6(t,n){return nt(t.getUTCMonth()+1,n,2)}function T6(t,n){return nt(t.getUTCMinutes(),n,2)}function A6(t,n){return nt(t.getUTCSeconds(),n,2)}function C6(t){var n=t.getUTCDay();return n===0?7:n}function E6(t,n){return nt(Fe.count(Jt(t)-1,t),n,2)}function Sd(t){var n=t.getUTCDay();return n>=4||n===0?oe(t):oe.ceil(t)}function N6(t,n){return t=Sd(t),nt(oe.count(Jt(t),t)+(Jt(t).getUTCDay()===4),n,2)}function k6(t){return t.getUTCDay()}function L6(t,n){return nt(Sr.count(Jt(t)-1,t),n,2)}function I6(t,n){return nt(t.getUTCFullYear()%100,n,2)}function D6(t,n){return t=Sd(t),nt(t.getUTCFullYear()%100,n,2)}function R6(t,n){return nt(t.getUTCFullYear()%1e4,n,4)}function F6(t,n){var e=t.getUTCDay();return t=e>=4||e===0?oe(t):oe.ceil(t),nt(t.getUTCFullYear()%1e4,n,4)}function O6(){return"+0000"}function Nu(){return"%"}function ku(t){return+t}function Lu(t){return Math.floor(+t/1e3)}var ve,Zf,Gr;P6({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function P6(t){return ve=P2(t),Zf=ve.format,ve.parse,Gr=ve.utcFormat,ve.utcParse,ve}function q6(t){return new Date(t)}function U6(t){return t instanceof Date?+t:+new Date(+t)}function Kf(t,n,e,r,i,o,a,f,c,s){var u=ed(),d=u.invert,l=u.domain,h=s(".%L"),p=s(":%S"),g=s("%I:%M"),m=s("%I %p"),w=s("%a %d"),y=s("%b %d"),v=s("%B"),b=s("%Y");function $(x){return(c(x)<x?h:f(x)<x?p:a(x)<x?g:o(x)<x?m:r(x)<x?i(x)<x?w:y:e(x)<x?v:b)(x)}return u.invert=function(x){return new Date(d(x))},u.domain=function(x){return arguments.length?l(Array.from(x,U6)):l().map(q6)},u.ticks=function(x){var M=l();return t(M[0],M[M.length-1],x??10)},u.tickFormat=function(x,M){return M==null?$:s(M)},u.nice=function(x){var M=l();return(!x||typeof x.range!="function")&&(x=n(M[0],M[M.length-1],x??10)),x?l(id(M,x)):u},u.copy=function(){return qr(u,Kf(t,n,e,r,i,o,a,f,c,s))},u}function H6(){return hn.apply(Kf(F2,O2,Qt,Yr,Re,ue,Br,Hr,Xt,Zf).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function z6(){return hn.apply(Kf(D2,R2,Jt,Vr,Fe,To,Wr,zr,Xt,Gr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Co(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Eo(){var t=0,n=.5,e=1,r=1,i,o,a,f,c,s=Ut,u,d=!1,l;function h(g){return isNaN(g=+g)?l:(g=.5+((g=+u(g))-o)*(r*g<r*o?f:c),s(d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,n,e]=g,i=u(t=+t),o=u(n=+n),a=u(e=+e),f=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,h):[t,n,e]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(s=g,h):s};function p(g){return function(m){var w,y,v;return arguments.length?([w,y,v]=m,s=yo(g,[w,y,v]),h):[s(0),s(.5),s(1)]}}return h.range=p(Or),h.rangeRound=p(Rf),h.unknown=function(g){return arguments.length?(l=g,h):l},function(g){return u=g,i=g(t),o=g(n),a=g(e),f=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function Td(){var t=Ur(Eo()(Ut));return t.copy=function(){return Co(t,Td())},$o.apply(t,arguments)}function Ad(){var t=od(Eo()).domain([.1,1,10]);return t.copy=function(){return Co(t,Ad()).base(t.base())},$o.apply(t,arguments)}function Cd(){var t=fd(Eo());return t.copy=function(){return Co(t,Cd()).constant(t.constant())},$o.apply(t,arguments)}function Ed(){var t=ud(Eo());return t.copy=function(){return Co(t,Ed()).exponent(t.exponent())},$o.apply(t,arguments)}function G(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const B6=G("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),W6=G("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Y6=G("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),V6=G("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),G6=G("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),X6=G("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Z6=G("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),K6=G("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),j6=G("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Q6=G("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),J6=G("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),at=t=>Hm(t[t.length-1]);var Nd=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(G);const kd=at(Nd);var Ld=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(G);const Id=at(Ld);var Dd=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(G);const Rd=at(Dd);var Fd=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(G);const Od=at(Fd);var lf=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(G);const ro=at(lf);var Pd=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(G);const qd=at(Pd);var df=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(G);const io=at(df);var Ud=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(G);const Hd=at(Ud);var zd=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(G);const Bd=at(zd);var Wd=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(G);const Yd=at(Wd);var Vd=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(G);const Gd=at(Vd);var Xd=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(G);const Zd=at(Xd);var Kd=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(G);const jd=at(Kd);var Qd=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(G);const Jd=at(Qd);var t0=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(G);const n0=at(t0);var e0=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(G);const r0=at(e0);var i0=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(G);const o0=at(i0);var a0=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(G);const f0=at(a0);var c0=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(G);const u0=at(c0);var s0=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(G);const l0=at(s0);var d0=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(G);const h0=at(d0);var p0=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(G);const g0=at(p0);var m0=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(G);const b0=at(m0);var y0=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(G);const w0=at(y0);var v0=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(G);const x0=at(v0);var M0=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(G);const $0=at(M0);var _0=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(G);const S0=at(_0);function T0(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const A0=Ff(un(300,.5,0),un(-240,.5,1));var C0=Ff(un(-100,.75,.35),un(80,1.5,.8)),E0=Ff(un(260,.75,.35),un(80,1.5,.8)),hi=un();function N0(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return hi.h=360*t-100,hi.s=1.5-1.5*n,hi.l=.8-.9*n,hi+""}var pi=Rn(),tw=Math.PI/3,nw=Math.PI*2/3;function k0(t){var n;return t=(.5-t)*Math.PI,pi.r=255*(n=Math.sin(t))*n,pi.g=255*(n=Math.sin(t+tw))*n,pi.b=255*(n=Math.sin(t+nw))*n,pi+""}function L0(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function No(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const I0=No(G("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var D0=No(G("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),R0=No(G("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),F0=No(G("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const O0=Math.cos,jf=Math.min,oo=Math.sin,pt=Math.sqrt,ao=Math.PI,ko=2*ao,ew=pt(3),P0={draw(t,n){const e=pt(n+jf(n/28,.75))*.59436,r=e/2,i=r*ew;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},Qf={draw(t,n){const e=pt(n/ao);t.moveTo(e,0),t.arc(0,0,e,0,ko)}},q0={draw(t,n){const e=pt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},U0=pt(1/3),rw=U0*2,H0={draw(t,n){const e=pt(n/rw),r=e*U0;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},z0={draw(t,n){const e=pt(n)*.62625;t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},B0={draw(t,n){const e=pt(n-jf(n/7,2))*.87559;t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},W0={draw(t,n){const e=pt(n),r=-e/2;t.rect(r,r,e,e)}},Y0={draw(t,n){const e=pt(n)*.4431;t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},iw=.8908130915292852,V0=oo(ao/10)/oo(7*ao/10),ow=oo(ko/10)*V0,aw=-O0(ko/10)*V0,G0={draw(t,n){const e=pt(n*iw),r=ow*e,i=aw*e;t.moveTo(0,-e),t.lineTo(r,i);for(let o=1;o<5;++o){const a=ko*o/5,f=O0(a),c=oo(a);t.lineTo(c*e,-f*e),t.lineTo(f*r-c*i,c*r+f*i)}t.closePath()}},ca=pt(3),X0={draw(t,n){const e=-pt(n/(ca*3));t.moveTo(0,e*2),t.lineTo(-ca*e,-e),t.lineTo(ca*e,-e),t.closePath()}},fw=pt(3),Z0={draw(t,n){const e=pt(n)*.6824,r=e/2,i=e*fw/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},Rt=-.5,Ft=pt(3)/2,hf=1/pt(12),cw=(hf/2+1)*3,K0={draw(t,n){const e=pt(n/cw),r=e/2,i=e*hf,o=r,a=e*hf+e,f=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(f,c),t.lineTo(Rt*r-Ft*i,Ft*r+Rt*i),t.lineTo(Rt*o-Ft*a,Ft*o+Rt*a),t.lineTo(Rt*f-Ft*c,Ft*f+Rt*c),t.lineTo(Rt*r+Ft*i,Rt*i-Ft*r),t.lineTo(Rt*o+Ft*a,Rt*a-Ft*o),t.lineTo(Rt*f+Ft*c,Rt*c-Ft*f),t.closePath()}},j0={draw(t,n){const e=pt(n-jf(n/6,1.7))*.6189;t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},uw=[Qf,q0,H0,W0,G0,X0,K0],sw=[Qf,B0,j0,Z0,P0,Y0,z0];function ur(t,n,e){this.k=t,this.x=n,this.y=e}ur.prototype={constructor:ur,scale:function(t){return t===1?this:new ur(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new ur(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ur.prototype;function ae(t){return t!=null&&!Number.isNaN(t)}function sn(t,n){return+ae(n)-+ae(t)||Ct(t,n)}function fo(t,n){return+ae(n)-+ae(t)||Dr(t,n)}function Q0(t){return t!=null&&`${t}`!=""}function J0(t){return isFinite(t)?t:NaN}function Jf(t){return t>0&&isFinite(t)?t:NaN}function th(t){return t<0&&isFinite(t)?t:NaN}function lw(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof n=="function"?n(t):n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${dw(t.getUTCFullYear())}-${vn(t.getUTCMonth()+1,2)}-${vn(t.getUTCDate(),2)}${e||r||i||o?`T${vn(e,2)}:${vn(r,2)}${i||o?`:${vn(i,2)}${o?`.${vn(o,3)}`:""}`:""}Z`:""}`}function dw(t){return t<0?`-${vn(-t,6)}`:t>9999?`+${vn(t,6)}`:vn(t,4)}function vn(t,n){return`${t}`.padStart(n,"0")}const hw=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function nh(t,n){return hw.test(t+="")?new Date(t):typeof n=="function"?n(t):n}function Oe(t){if(t==null)return;const n=t[0],e=t[t.length-1];return Dr(n,e)}const _e=1e3,Ln=_e*60,In=Ln*60,ln=In*24,en=ln*7,Xn=ln*30,kn=ln*365,ua=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",_e],["5 seconds",5*_e],["15 seconds",15*_e],["30 seconds",30*_e],["minute",Ln],["5 minutes",5*Ln],["15 minutes",15*Ln],["30 minutes",30*Ln],["hour",In],["3 hours",3*In],["6 hours",6*In],["12 hours",12*In],["day",ln],["2 days",2*ln],["week",en],["2 weeks",2*en],["month",Xn],["3 months",3*Xn],["6 months",6*Xn],["year",kn],["2 years",2*kn],["5 years",5*kn],["10 years",10*kn],["20 years",20*kn],["50 years",50*kn],["100 years",100*kn]],tc=new Map([["second",_e],["minute",Ln],["hour",In],["day",ln],["monday",en],["tuesday",en],["wednesday",en],["thursday",en],["friday",en],["saturday",en],["sunday",en],["week",en],["month",Xn],["year",kn]]),eh=new Map([["second",Xt],["minute",Hr],["hour",Br],["day",ue],["monday",_r],["tuesday",hd],["wednesday",pd],["thursday",ie],["friday",gd],["saturday",md],["sunday",Re],["week",Re],["month",Yr],["year",Qt]]),nc=new Map([["second",Xt],["minute",zr],["hour",Wr],["day",Ao],["monday",Sr],["tuesday",bd],["wednesday",yd],["thursday",oe],["friday",wd],["saturday",vd],["sunday",Fe],["week",Fe],["month",Vr],["year",Jt]]),Xr=Symbol("intervalDuration"),Lo=Symbol("intervalType");for(const[t,n]of eh)n[Xr]=tc.get(t),n[Lo]="time";for(const[t,n]of nc)n[Xr]=tc.get(t),n[Lo]="utc";const sr=[["year",Jt,"utc"],["month",Vr,"utc"],["day",Ao,"utc",6*Xn],["hour",Wr,"utc",3*ln],["minute",zr,"utc",6*In],["second",Xt,"utc",30*Ln]],Ci=[["year",Qt,"time"],["month",Yr,"time"],["day",ue,"time",6*Xn],["hour",Br,"time",3*ln],["minute",Hr,"time",6*In],["second",Xt,"time",30*Ln]],pw=[sr[0],Ci[0],sr[1],Ci[1],sr[2],Ci[2],...sr.slice(3)];function rh(t){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let e=1;const r=/^(?:(\d+)\s+)/.exec(n);switch(r&&(n=n.slice(r[0].length),e=+r[1]),n){case"quarter":n="month",e*=3;break;case"half":n="month",e*=6;break}let i=nc.get(n);if(!i)throw new Error(`unknown interval: ${t}`);if(e>1&&!i.every)throw new Error(`non-periodic interval: ${n}`);return[n,e]}function ih(t){return ah(rh(t),"time")}function oh(t){return ah(rh(t),"utc")}function ah([t,n],e){let r=(e==="time"?eh:nc).get(t);return n>1&&(r=r.every(n),r[Xr]=tc.get(t)*n,r[Lo]=e),r}function Iu(t,n){if(!(n>1))return;const e=t[Xr];if(!ua.some(([,i])=>i===e)||e%ln===0&&ln<e&&e<Xn)return;const[r]=ua[lo(([,i])=>Math.log(i)).center(ua,Math.log(e*n))];return(t[Lo]==="time"?ih:oh)(r)}function Du(t,n,e){const r=n==="time"?Zf:Gr;if(e==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=gw(e);switch(t){case"millisecond":return xe(r(".%L"),r(":%M:%S"),i);case"second":return xe(r(":%S"),r("%-I:%M"),i);case"minute":return xe(r("%-I:%M"),r("%p"),i);case"hour":return xe(r("%-I %p"),r("%b %-d"),i);case"day":return xe(r("%-d"),r("%b"),i);case"month":return xe(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function gw(t){return t==="left"||t==="right"?(n,e)=>`
${n}
${e}`:t==="top"?(n,e)=>`${e}
${n}`:(n,e)=>`${n}
${e}`}function mw(t){return t==="time"?Ci:t==="utc"?sr:pw}function bw(t,n,e){const r=Kt(N1(n,(i,o)=>Math.abs(o-i)));if(r<1e3)return Du("millisecond","utc",e);for(const[i,o,a,f]of mw(t)){if(r>f||i==="hour"&&!r)break;if(n.every(c=>o.floor(c)>=c))return Du(i,a,e)}}function xe(t,n,e){return(r,i,o)=>{const a=t(r,i),f=n(r,i),c=i-Oe(o);return i!==c&&o[c]!==void 0&&f===n(o[c],c)?a:e(a,f)}}const ec=Object.getPrototypeOf(Uint8Array),yw=Object.prototype.toString;function de(t){return t instanceof Array||t instanceof ec}function fh(t){return t instanceof ec&&!ww(t)}function ch(t){return t?.prototype instanceof ec&&!vw(t)}function ww(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function vw(t){return t===BigInt64Array||t===BigUint64Array}const uh=Symbol("reindex");function zt(t,n,e){const r=typeof n;return r==="string"?Mh(t)?rc(t.getChild(n),e):Ru(t,sh(n),e):r==="function"?Ru(t,n,e):r==="number"||n instanceof Date||r==="boolean"?dt(t,Sn(n),e):typeof n?.transform=="function"?pf(n.transform(t),e):xw(pf(n,e),t?.[uh])}function xw(t,n){return t!=null&&n?ac(t,n):t}function Ru(t,n,e){return dt(t,ch(e)?(r,i)=>ic(n(r,i)):n,e)}function pf(t,n){return n===void 0?he(t):$h(t)?rc(t,n):t instanceof n?t:n.from(t,ch(n)&&!fh(t)?ic:void 0)}function rc(t,n){return t==null?t:(n===void 0||n===Array)&&Gw(t.type)?hh(Fu(t)):pf(Fu(t),n)}function Fu(t){return t.nullCount?t.toJSON():t.toArray()}const Ei=[null],sh=t=>n=>{const e=n[t];return e===void 0&&n.type==="Feature"?n.properties?.[t]:e},lh={transform:qn},Yt={transform:t=>t},Mw=()=>1,$w=()=>!0,vt=t=>t==null?t:`${t}`,Mt=t=>t==null?t:+t,dh=t=>t?t[0]:void 0,_w=t=>t?t[1]:void 0,Sn=t=>()=>t;function Sw(t){const n=+`${t}`.slice(1)/100;return(e,r)=>Ii(e,n,r)}function Ou(t){return fh(t)?t:dt(t,ic,Float64Array)}function ic(t){return t==null?NaN:Number(t)}function hh(t){return dt(t,Tw)}function Tw(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?nh(t):t==null||isNaN(t=Number(t))?void 0:new Date(t)}function fe(t,n){return t===void 0&&(t=n),t===null?[void 0,"none"]:Do(t)?[void 0,t]:[t,void 0]}function kt(t,n){return t===void 0&&(t=n),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function ph(t,n,e){if(t!=null)return nn(t,n,e)}function nn(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function Pe(t){return Mh(t)?t:he(t)}function he(t){if(t==null||de(t))return t;if($h(t))return rc(t);if(gh(t))switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;default:return[t]}return Array.from(t)}function gh(t){switch(t?.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function dt(t,n,e=Array){return t==null?t:t instanceof e?t.map(n):e.from(t,n)}function Tr(t,n=Array){return t instanceof n?t.slice():n.from(t)}function mh({x:t,x1:n,x2:e}){return t!==void 0||n!==void 0||e!==void 0}function Aw({y:t,y1:n,y2:e}){return t!==void 0||n!==void 0||e!==void 0}function Cw(t){return mh(t)||Aw(t)||t.interval!==void 0}function pe(t){return t?.toString===yw}function gf(t){return pe(t)&&(t.type!==void 0||t.domain!==void 0)}function oc(t){return pe(t)&&typeof t.transform!="function"}function Ar(t){return oc(t)&&t.value===void 0&&t.channel===void 0}function Ew(t,n,e,r=Yt){return n===void 0&&e===void 0?(n=0,e=t===void 0?r:t):n===void 0?n=t===void 0?0:t:e===void 0&&(e=t===void 0?0:t),[n,e]}function bh(t,n){return t===void 0&&n===void 0?[dh,_w]:[t,n]}function Nw({z:t,fill:n,stroke:e}={}){return t===void 0&&([t]=fe(n)),t===void 0&&([t]=fe(e)),t}function Cr(t){return de(t)?t.length:t?.numRows}function qn(t){const n=Cr(t),e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function ac(t,n){return de(t)?dt(n,e=>t[e],t.constructor):dt(n,e=>t.at(e))}function kw(t,n,e){return t.subarray?t.subarray(n,e):t.slice(n,e)}function gi(t){return t!==null&&typeof t=="object"?t.valueOf():t}function mf(t){let n;return[{transform:()=>n,label:Zr(t)},e=>n=e]}function Lw(t){return t==null?[t]:mf(t)}function Zr(t,n){return typeof t=="string"?t:t&&t.label!==void 0?t.label:n}function Iw(t,n){return{transform(e){const r=t.transform(e),i=n.transform(e);return Wt(r)||Wt(i)?dt(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):dt(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:t.label}}function Dw(t,n){const e=yh(n?.interval,n?.type);return e?dt(t,e):t}function yh(t,n){const e=fc(t,n);return e&&(r=>ae(r)?e.floor(r):r)}function fc(t,n){if(t!=null){if(typeof t=="number")return Rw(t);if(typeof t=="string")return(n==="time"?ih:oh)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function Rw(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:e=>Math.floor(e*n)/n,offset:(e,r=1)=>(e*n+Math.floor(r))/n,range:(e,r)=>Ia(Math.ceil(e*n),r*n).map(i=>i/n)}:{floor:e=>Math.floor(e/n)*n,offset:(e,r=1)=>e+n*Math.floor(r),range:(e,r)=>Ia(Math.ceil(e/n),r/n).map(i=>i*n)}}function Kr(t,n){if(t=fc(t,n),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function Fw(t,n){if(t=Kr(t,n),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function Ow(t){return typeof t?.range=="function"}function Io(t){return t===void 0||oc(t)?t:{value:t}}function Pw(t){return t==null?null:{transform:n=>zt(n,t,Float64Array),label:Zr(t)}}function ge(t){return t&&typeof t[Symbol.iterator]=="function"}function wh(t){for(const n of t)if(n!=null)return typeof n!="object"||n instanceof Date}function Pu(t){for(const n of t){if(n==null)continue;const e=typeof n;return e==="string"||e==="boolean"}}function Wt(t){for(const n of t)if(n!=null)return n instanceof Date}function qw(t){for(const n of t)if(n!=null)return typeof n=="string"&&isNaN(n)&&nh(n)}function Uw(t){for(const n of t)if(n!=null){if(typeof n!="string")return!1;if(n.trim())return!isNaN(n)}}function Hw(t){for(const n of t)if(n!=null)return typeof n=="number"}function sa(t,n){let e;for(const r of t)if(r!=null){if(!n(r))return!1;e=!0}return e}const zw=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Do(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||zw.has(t))}function Bw(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function At(t){return t==null||Er(t)}function Er(t){return/^\s*none\s*$/i.test(t)}function Ww(t){return/^\s*round\s*$/i.test(t)}function bf(t,n){return ph(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function cc(t="middle"){return bf(t,"frameAnchor")}function Yw(t={},...n){let e=t;for(const r of n)for(const i in r)if(e[i]===void 0){const o=r[i];e===t?e={...e,[i]:o}:e[i]=o}return e}function Vw(t){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(t,e=>{const{name:r}=e;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(n.has(i))throw new Error(`duplicate name: ${i}`);return n.add(i),[r,e]}))}function vh(t){return ge(t)?Vw(t):t}function xh(t){return t===!0?t="frame":t===!1?t=null:!gh(t)&&t!=null&&(t=nn(t,"clip",["frame","sphere"]),t==="sphere"&&(t={type:"Sphere"})),t}function Mh(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function $h(t){return t&&typeof t.toArray=="function"&&t.type}function Gw(t){return t&&(t.typeId===8||t.typeId===10)&&t.unit===1}const an=Symbol("position"),Nn=Symbol("color"),jr=Symbol("radius"),Qr=Symbol("length"),Jr=Symbol("opacity"),Ro=Symbol("symbol"),_h=Symbol("projection"),st=new Map([["x",an],["y",an],["fx",an],["fy",an],["r",jr],["color",Nn],["opacity",Jr],["symbol",Ro],["length",Qr],["projection",_h]]);function Xw(t){return t===an||t===_h}function Zw(t){return t===an||t===jr||t===Qr||t===Jr}const Kw=Math.sqrt(3),jw=2/Kw,Qw={draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*jw,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}},Sh=new Map([["asterisk",P0],["circle",Qf],["cross",q0],["diamond",H0],["diamond2",z0],["hexagon",Qw],["plus",B0],["square",W0],["square2",Y0],["star",G0],["times",j0],["triangle",X0],["triangle2",Z0],["wye",K0]]);function Th(t){return t&&typeof t.draw=="function"}function Jw(t){return Th(t)?!0:typeof t!="string"?!1:Sh.has(t.toLowerCase())}function uc(t){if(t==null||Th(t))return t;const n=Sh.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function Ah({filter:t,sort:n,reverse:e,transform:r,initializer:i,...o}={},a){if(r===void 0&&(t!=null&&(r=Ch(t)),n!=null&&!Ar(n)&&(r=la(r,Nh(n))),e&&(r=la(r,Eh))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(n===null||Ar(n))&&{sort:n},transform:la(r,a)}}function co({filter:t,sort:n,reverse:e,initializer:r,...i}={},o){return r===void 0&&(t!=null&&(r=Ch(t)),n!=null&&!Ar(n)&&(r=da(r,Nh(n))),e&&(r=da(r,Eh))),{...i,...(n===null||Ar(n))&&{sort:n},initializer:da(r,o)}}function la(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i){return{data:e,facets:r}=t.call(this,e,r,i),n.call(this,Pe(e),r,i)}}function da(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i,...o){let a,f,c,s,u,d;return{data:f=e,facets:c=r,channels:a}=t.call(this,e,r,i,...o),{data:u=f,facets:d=c,channels:s}=n.call(this,f,c,{...i,...a},...o),{data:u,facets:d,channels:{...a,...s}}}}function Ch(t){return(n,e)=>{const r=zt(n,t);return{data:n,facets:e.map(i=>i.filter(o=>r[o]))}}}function Eh(t,n){return{data:t,facets:n.map(e=>e.slice().reverse())}}function Nh(t){return(typeof t=="function"&&t.length!==1?t8:n8)(t)}function t8(t){return(n,e)=>{const r=de(n)?(i,o)=>t(n[i],n[o]):(i,o)=>t(n.get(i),n.get(o));return{data:n,facets:e.map(i=>i.slice().sort(r))}}}function n8(t){let n,e;({channel:n,value:t,order:e}={...Io(t)});const r=n?.startsWith("-");if(r&&(n=n.slice(1)),e===void 0&&(e=r?fo:sn),typeof e!="function")switch(`${e}`.toLowerCase()){case"ascending":e=sn;break;case"descending":e=fo;break;default:throw new Error(`invalid order: ${e}`)}return(i,o,a)=>{let f;if(n===void 0)f=zt(i,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(f=a[n],!f)return{};f=f.value}const c=(s,u)=>e(f[s],f[u]);return{data:i,facets:o.map(s=>s.slice().sort(c))}}}function e8(t,n,e=r8){if(t==null)return e(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&pe(t))return i8(t);if(typeof t=="function")return o8(t);if(/^p\d{2}$/i.test(t))return wn(Sw(t));switch(`${t}`.toLowerCase()){case"first":return f8;case"last":return c8;case"identity":return a8;case"count":return Uu;case"distinct":return u8;case"sum":return n==null?Uu:s8;case"proportion":return Hu(n,"data");case"proportion-facet":return Hu(n,"facet");case"deviation":return wn(y1);case"min":return wn(Tn);case"min-index":return wn(S1);case"max":return wn(Kt);case"max-index":return wn(_1);case"mean":return qu(A1);case"median":return qu(La);case"variance":return wn(Ns);case"mode":return wn(E1)}return e(t)}function r8(t){throw new Error(`invalid reduce: ${t}`)}function i8(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function o8(t){return{reduceIndex(n,e,r){return t(ac(e,n),r)}}}function wn(t){return{reduceIndex(n,e){return t(n,r=>e[r])}}}function qu(t){return{reduceIndex(n,e){const r=t(n,i=>e[i]);return Wt(e)?new Date(r):r}}}const a8={reduceIndex(t,n){return ac(n,t)}},f8={reduceIndex(t,n){return n[t[0]]}},c8={reduceIndex(t,n){return n[t[t.length-1]]}},Uu={label:"Frequency",reduceIndex(t){return t.length}},u8={label:"Distinct",reduceIndex(t,n){const e=new ho;for(const r of t)e.add(n[r]);return e.size}},s8=wn(Qn);function Hu(t,n){return t==null?{scope:n,label:"Frequency",reduceIndex:(e,r,i=1)=>e.length/i}:{scope:n,reduceIndex:(e,r,i=1)=>Qn(e,o=>r[o])/i}}function Nr(t,{scale:n,type:e,value:r,filter:i,hint:o,label:a=Zr(r)},f){return o===void 0&&typeof r?.transform=="function"&&(o=r.hint),kh(f,{scale:n,type:e,value:zt(t,r),label:a,filter:i,hint:o})}function l8(t,n){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,Nr(n,r,e)]))}function d8(t,n){const e=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:o}])=>{const a=i==null?null:n[i];return[r,a==null?o:dt(o,a)]}));return e.channels=t,e}function kh(t,n){const{scale:e,value:r}=n;if(e===!0||e==="auto")switch(t){case"fill":case"stroke":case"color":n.scale=e!==!0&&sa(r,Do)?null:"color",n.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=e!==!0&&sa(r,Bw)?null:"opacity",n.defaultScale="opacity";break;case"symbol":e!==!0&&sa(r,Jw)?(n.scale=null,n.value=dt(r,uc)):n.scale="symbol",n.defaultScale="symbol";break;default:n.scale=st.has(t)?t:null;break}else if(e===!1)n.scale=null;else if(e!=null&&!st.has(e))throw new Error(`unknown scale: ${e}`);return n}function h8(t,n,e,r,i){const{order:o,reverse:a,reduce:f=!0,limit:c}=i;for(const s in i){if(!st.has(s))continue;let{value:u,order:d=o,reverse:l=a,reduce:h=f,limit:p=c}=Io(i[s]);const g=u?.startsWith("-");if(g&&(u=u.slice(1)),d=d===void 0?g!==(u==="width"||u==="height")?Ih:Lh:m8(d),h==null||h===!1)continue;const m=s==="fx"||s==="fy"?g8(n,r[s]):p8(e,s);if(!m)throw new Error(`missing channel for scale: ${s}`);const w=m.value,[y=0,v=1/0]=ge(p)?p:p<0?[p]:[0,p];if(u==null)m.domain=()=>{let b=Array.from(new ho(w));return l&&(b=b.reverse()),(y!==0||v!==1/0)&&(b=b.slice(y,v)),b};else{const b=u==="data"?t:u==="height"?zu(e,"y1","y2"):u==="width"?zu(e,"x1","x2"):yf(e,u,u==="y"?"y2":u==="x"?"x2":void 0),$=e8(h===!0?"max":h,b);m.domain=()=>{let x=w1(qn(w),M=>$.reduceIndex(M,b),M=>w[M]);return d&&x.sort(d),l&&x.reverse(),(y!==0||v!==1/0)&&(x=x.slice(y,v)),x.map(dh)}}}}function p8(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function g8(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let o=0;o<e.length;++o){const a=r[e[o][0]];for(const f of t[o])i[f]=a}return n}function zu(t,n,e){const r=yf(t,n),i=yf(t,e);return dt(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function yf(t,n,e){let r=t[n];if(!r&&e!==void 0&&(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function m8(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return Lh;case"descending":return Ih}throw new Error(`invalid order: ${t}`)}function Lh([t,n],[e,r]){return sn(n,r)||sn(t,e)}function Ih([t,n],[e,r]){return fo(n,r)||sn(t,e)}function Bu(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return e.source===null?null:e}}const Dh=new Map([["accent",W6],["category10",B6],["dark2",Y6],["observable10",V6],["paired",G6],["pastel1",X6],["pastel2",Z6],["set1",K6],["set2",j6],["set3",Q6],["tableau10",J6]]);function b8(t){return t!=null&&Dh.has(`${t}`.toLowerCase())}const Wu=new Map([...Dh,["brbg",mn(Nd,kd)],["prgn",mn(Ld,Id)],["piyg",mn(Dd,Rd)],["puor",mn(Fd,Od)],["rdbu",mn(lf,ro)],["rdgy",mn(Pd,qd)],["rdylbu",mn(df,io)],["rdylgn",mn(Ud,Hd)],["spectral",mn(zd,Bd)],["burd",Yu(lf,ro)],["buylrd",Yu(df,io)],["blues",gt(p0,g0)],["greens",gt(m0,b0)],["greys",gt(y0,w0)],["oranges",gt(_0,S0)],["purples",gt(v0,x0)],["reds",gt(M0,$0)],["turbo",bn(L0)],["viridis",bn(I0)],["magma",bn(D0)],["inferno",bn(R0)],["plasma",bn(F0)],["cividis",bn(T0)],["cubehelix",bn(A0)],["warm",bn(C0)],["cool",bn(E0)],["bugn",gt(Wd,Yd)],["bupu",gt(Vd,Gd)],["gnbu",gt(Xd,Zd)],["orrd",gt(Kd,jd)],["pubu",gt(t0,n0)],["pubugn",gt(Qd,Jd)],["purd",gt(e0,r0)],["rdpu",gt(i0,o0)],["ylgn",gt(c0,u0)],["ylgnbu",gt(a0,f0)],["ylorbr",gt(s0,l0)],["ylorrd",gt(d0,h0)],["rainbow",Vu(N0)],["sinebow",Vu(k0)]]);function gt(t,n){return({length:e})=>e===1?[t[3][1]]:e===2?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>9?jt(n,e):t[e])}function mn(t,n){return({length:e})=>e===2?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>11?jt(n,e):t[e])}function Yu(t,n){return({length:e})=>e===2?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)),e>11?jt(r=>n(1-r),e):t[e].slice().reverse())}function bn(t){return({length:n})=>jt(t,Math.max(2,Math.floor(n)))}function Vu(t){return({length:n})=>jt(t,Math.floor(n)+1).slice(0,-1)}function Rh(t){const n=`${t}`.toLowerCase();if(!Wu.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return Wu.get(n)}function Fo(t,n){const e=Rh(t),r=typeof e=="function"?e({length:n}):e;return r.length!==n?r.slice(0,n):r}function y8(t,n="greys"){const e=new Set,[r,i]=Fo(n,2);for(const o of t)if(o!=null)if(o===!0)e.add(i);else if(o===!1)e.add(r);else return;return[...e]}const Gu=new Map([["brbg",kd],["prgn",Id],["piyg",Rd],["puor",Od],["rdbu",ro],["rdgy",qd],["rdylbu",io],["rdylgn",Hd],["spectral",Bd],["burd",t=>ro(1-t)],["buylrd",t=>io(1-t)],["blues",g0],["greens",b0],["greys",w0],["purples",x0],["reds",$0],["oranges",S0],["turbo",L0],["viridis",I0],["magma",D0],["inferno",R0],["plasma",F0],["cividis",T0],["cubehelix",A0],["warm",C0],["cool",E0],["bugn",Yd],["bupu",Gd],["gnbu",Zd],["orrd",jd],["pubugn",Jd],["pubu",n0],["purd",r0],["rdpu",o0],["ylgnbu",f0],["ylgn",u0],["ylorbr",l0],["ylorrd",h0],["rainbow",N0],["sinebow",k0]]);function sc(t){const n=`${t}`.toLowerCase();if(!Gu.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return Gu.get(n)}const w8=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function v8(t){return t!=null&&w8.has(`${t}`.toLowerCase())}const Fh=t=>n=>t(1-n),ha=[0,1],Xu=new Map([["number",wt],["rgb",ne],["hsl",tb],["hcl",rb],["lab",nb]]);function Oh(t){const n=`${t}`.toLowerCase();if(!Xu.has(n))throw new Error(`unknown interpolator: ${n}`);return Xu.get(n)}function ti(t,n,e,{type:r,nice:i,clamp:o,zero:a,domain:f=qh(t,e),unknown:c,round:s,scheme:u,interval:d,range:l=st.get(t)===jr?k8(e,f):st.get(t)===Qr?L8(e,f):st.get(t)===Jr?ha:void 0,interpolate:h=st.get(t)===Nn?u==null&&l!==void 0?ne:sc(u!==void 0?u:r==="cyclical"?"rainbow":"turbo"):s?Rf:wt,reverse:p}){if(f=Zu(f),d=Kr(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof h!="function"&&(h=Oh(h)),p=!!p,l!==void 0){const g=f.length,m=(l=Zu(l)).length;if(g!==m){if(h.length===1)throw new Error("invalid piecewise interpolator");h=yo(h,l),l=void 0}}if(h.length===1?(p&&(h=Fh(h),p=!1),l===void 0&&(l=Float64Array.from(f,(g,m)=>m/(f.length-1)),l.length===2&&(l=ha)),n.interpolate((l===ha?Sn:dc)(h))):n.interpolate(h),a){const[g,m]=Dn(f);(g>0||m<0)&&(f=Tr(f),(Oe(f)||1)===Math.sign(g)?f[0]=0:f[f.length-1]=0)}return p&&(f=Di(f)),n.domain(f).unknown(c),i&&(n.nice(x8(i,r)),f=n.domain()),l!==void 0&&n.range(l),o&&n.clamp(o),{type:r,domain:f,range:l,scale:n,interpolate:h,interval:d}}function Zu(t){return t=he(t),t.length>=2?t:[t[0],t[0]]}function x8(t,n){return t===!0?void 0:typeof t=="number"?t:Fw(t,n)}function M8(t,n,e){return ti(t,Gf(),n,e)}function $8(t,n,e){return Ph(t,n,{...e,exponent:.5})}function Ph(t,n,{exponent:e=1,...r}){return ti(t,sd().exponent(e),n,{...r,type:"pow"})}function _8(t,n,{base:e=10,domain:r=I8(n),...i}){return ti(t,ad().base(e),n,{...i,domain:r})}function S8(t,n,{constant:e=1,...r}){return ti(t,cd().constant(e),n,r)}function T8(t,n,{range:e,quantiles:r=e===void 0?5:(e=[...e]).length,n:i=r,scheme:o="rdylbu",domain:a=D8(n),unknown:f,interpolate:c,reverse:s}){return e===void 0&&(e=c!==void 0?jt(c,i):st.get(t)===Nn?Fo(o,i):void 0),a.length>0&&(a=ld(a,e===void 0?{length:i}:e).quantiles()),lc(t,n,{domain:a,range:e,reverse:s,unknown:f})}function A8(t,n,{range:e,n:r=e===void 0?5:(e=[...e]).length,scheme:i="rdylbu",domain:o=qh(t,n),unknown:a,interpolate:f,reverse:c}){const[s,u]=Dn(o);let d;return e===void 0?(d=Li(s,u,r),d[0]<=s&&d.splice(0,1),d[d.length-1]>=u&&d.pop(),r=d.length+1,e=f!==void 0?jt(f,r):st.get(t)===Nn?Fo(i,r):void 0):(d=jt(wt(s,u),r+1).slice(1,-1),s instanceof Date&&(d=d.map(l=>new Date(l)))),Oe(he(o))<0&&d.reverse(),lc(t,n,{domain:d,range:e,reverse:c,unknown:a})}function lc(t,n,{domain:e=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?jt(o,e.length+1):st.get(t)===Nn?Fo(i,e.length+1):void 0,reverse:f}){e=he(e);const c=Oe(e);if(!isNaN(c)&&!C8(e,c))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(a=Di(a)),{type:"threshold",scale:dd(c<0?Di(e):e,a===void 0?[]:a).unknown(r),domain:e,range:a}}function C8(t,n){for(let e=1,r=t.length,i=t[0];e<r;++e){const o=Dr(i,i=t[e]);if(o!==0&&o!==n)return!1}return!0}function E8(t){return{type:"identity",scale:Zw(st.get(t))?rd():n=>n}}function kr(t,n=J0){return t.length?[Tn(t,({value:e})=>e===void 0?e:Tn(e,n)),Kt(t,({value:e})=>e===void 0?e:Kt(e,n))]:[0,1]}function qh(t,n){const e=st.get(t);return(e===jr||e===Jr||e===Qr?N8:kr)(n)}function N8(t){return[0,t.length?Kt(t,({value:n})=>n===void 0?n:Kt(n,J0)):1]}function k8(t,n){const e=t.find(({radius:a})=>a!==void 0);if(e!==void 0)return[0,e.radius];const r=Ii(t,.5,({value:a})=>a===void 0?NaN:Ii(a,.25,Jf)),i=n.map(a=>3*Math.sqrt(a/r)),o=30/Kt(i);return o<1?i.map(a=>a*o):i}function L8(t,n){const e=La(t,({value:o})=>o===void 0?NaN:La(o,Math.abs)),r=n.map(o=>12*o/e),i=60/Kt(r);return i<1?r.map(o=>o*i):r}function I8(t){for(const{value:n}of t)if(n!==void 0)for(let e of n){if(e>0)return kr(t,Jf);if(e<0)return kr(t,th)}return[1,10]}function D8(t){const n=[];for(const{value:e}of t)if(e!==void 0)for(const r of e)n.push(r);return n}function dc(t){return(n,e)=>r=>t(n+r*(e-n))}let wf=0,vf;function R8(){const t=wf;return wf=0,vf=void 0,t}function Zn(t){t!==vf&&(vf=t,console.warn(t),++wf)}function Oo(t,n,e,r,{type:i,nice:o,clamp:a,domain:f=kr(r),unknown:c,pivot:s=0,scheme:u,range:d,symmetric:l=!0,interpolate:h=st.get(t)===Nn?u==null&&d!==void 0?ne:sc(u!==void 0?u:"rdbu"):wt,reverse:p}){s=+s,f=he(f);let[g,m]=f;if(f.length>2&&Zn(`Warning: the diverging ${t} scale domain contains extra elements.`),Dr(g,m)<0&&([g,m]=[m,g],p=!p),g=Math.min(g,s),m=Math.max(m,s),typeof h!="function"&&(h=Oh(h)),d!==void 0&&(h=h.length===1?dc(h)(...d):yo(h,d)),p&&(h=Fh(h)),l){const w=e.apply(s),y=w-e.apply(g),v=e.apply(m)-w;y<v?g=e.invert(w-v):y>v&&(m=e.invert(w+y))}return n.domain([g,s,m]).unknown(c).interpolator(h),a&&n.clamp(a),o&&n.nice(o),{type:i,domain:[g,m],pivot:s,interpolate:h,scale:n}}function F8(t,n,e){return Oo(t,Td(),U8,n,e)}function O8(t,n,e){return Uh(t,n,{...e,exponent:.5})}function Uh(t,n,{exponent:e=1,...r}){return Oo(t,Ed().exponent(e=+e),B8(e),n,{...r,type:"diverging-pow"})}function P8(t,n,{base:e=10,pivot:r=1,domain:i=kr(n,r<0?th:Jf),...o}){return Oo(t,Ad().base(e=+e),H8,n,{domain:i,pivot:r,...o})}function q8(t,n,{constant:e=1,...r}){return Oo(t,Cd().constant(e=+e),W8(e),n,r)}const U8={apply(t){return t},invert(t){return t}},H8={apply:Math.log,invert:Math.exp},z8={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function B8(t){return t===.5?z8:{apply(n){return Math.sign(n)*Math.pow(Math.abs(n),t)},invert(n){return Math.sign(n)*Math.pow(Math.abs(n),1/t)}}}function W8(t){return{apply(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))},invert(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}}function Hh(t,n,e,r){return ti(t,n,e,r)}function Y8(t,n,e){return Hh(t,H6(),n,e)}function V8(t,n,e){return Hh(t,z6(),n,e)}const ni=Symbol("ordinal");function zh(t,n,e,{type:r,interval:i,domain:o,range:a,reverse:f,hint:c}){return i=Kr(i,r),o===void 0&&(o=Wh(e,i,t)),(r==="categorical"||r===ni)&&(r="ordinal"),f&&(o=Di(o)),o=n.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),n.range(a)),{type:r,domain:o,range:a,scale:n,hint:c,interval:i}}function G8(t,n,{type:e,interval:r,domain:i,range:o,scheme:a,unknown:f,...c}){r=Kr(r,e),i===void 0&&(i=Wh(n,r,t));let s;if(st.get(t)===Ro)s=K8(n),o=o===void 0?j8(s):dt(o,uc);else if(st.get(t)===Nn&&(o===void 0&&(e==="ordinal"||e===ni)&&(o=y8(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=e==="ordinal"?"turbo":"observable10"),a!==void 0))if(o!==void 0){const u=sc(a),d=o[0],l=o[1]-o[0];o=({length:h})=>jt(p=>u(d+l*p),h)}else o=Rh(a);if(f===cf)throw new Error(`implicit unknown on ${t} scale is not supported`);return zh(t,Vf().unknown(f),n,{...c,type:e,domain:i,range:o,hint:s})}function X8(t,n,{align:e=.5,padding:r=.5,...i}){return Bh(x2().align(e).padding(r),n,i,t)}function Z8(t,n,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=t==="fx"||t==="fy"?0:r,...a}){return Bh(_o().align(e).paddingInner(i).paddingOuter(o),n,a,t)}function Bh(t,n,e,r){let{round:i}=e;return i!==void 0&&t.round(i=!!i),t=zh(r,t,n,e),t.round=i,t}function Wh(t,n,e){const r=new ho;for(const{value:i,domain:o}of t){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(n!==void 0){const[i,o]=Dn(r).map(n.floor,n);return n.range(i,n.offset(o))}if(r.size>1e4&&st.get(e)===an)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return Ea(r,sn)}function Ku(t,n){let e;for(const{hint:r}of t){const i=r?.[n];if(i!==void 0){if(e===void 0)e=i;else if(e!==i)return}}return e}function K8(t){return{fill:Ku(t,"fill"),stroke:Ku(t,"stroke")}}function j8(t){return At(t.fill)?sw:uw}function xf(t,{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:o=e,insetLeft:a=e,round:f,nice:c,clamp:s,zero:u,align:d,padding:l,projection:h,facet:{label:p=n}={},...g}={}){const m={};for(const[w,y]of t){const v=g[w],b=e5(w,y,{round:st.get(w)===an?f:void 0,nice:c,clamp:s,zero:u,align:d,padding:l,projection:h,...v});if(b){let{label:$=w==="fx"||w==="fy"?p:n,percent:x,transform:M,inset:S,insetTop:T=S!==void 0?S:w==="y"?r:0,insetRight:k=S!==void 0?S:w==="x"?i:0,insetBottom:A=S!==void 0?S:w==="y"?o:0,insetLeft:E=S!==void 0?S:w==="x"?a:0}=v||{};if(M==null)M=void 0;else if(typeof M!="function")throw new Error("invalid scale transform; not a function");b.percent=!!x,b.label=$===void 0?J8(y,b):$,b.transform=M,w==="x"||w==="fx"?(b.insetLeft=+E,b.insetRight=+k):(w==="y"||w==="fy")&&(b.insetTop=+T,b.insetBottom=+A),m[w]=b}}return m}function ju(t){const n={},e={scales:n};for(const[r,i]of Object.entries(t)){const{scale:o,type:a,interval:f,label:c}=i;n[r]=f5(i),e[r]=o,o.type=a,f!=null&&(o.interval=f),c!=null&&(o.label=c)}return e}function Q8(t,n){const{x:e,y:r,fx:i,fy:o}=t,a=i||o?hc(n):n;i&&Qu(i,a),o&&Ju(o,a);const f=i||o?Yh(t,n):n;e&&Qu(e,f),r&&Ju(r,f)}function J8(t=[],n){let e;for(const{label:r}of t)if(r!==void 0){if(e===void 0)e=r;else if(e!==r)return}if(e!==void 0)return!me(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function t5(t){return Math.sign(Oe(t.domain()))*Math.sign(Oe(t.range()))}function hc(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:f,marginRight:c,marginBottom:s,marginLeft:u}}=t;return{marginTop:Math.max(n,f),marginRight:Math.max(e,c),marginBottom:Math.max(r,s),marginLeft:Math.max(i,u),width:o,height:a}}function Yh({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:c}=hc(e);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:t?t.scale.bandwidth()+a+i:f,height:n?n.scale.bandwidth()+r+o:c,facet:{width:f,height:c}}}function Qu(t,n){if(t.range===void 0){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:a=0}=n,f=o+e,c=i-a-r;t.range=[f,Math.max(f,c)],me(t)||(t.range=Gh(t)),t.scale.range(t.range)}Vh(t)}function Ju(t,n){if(t.range===void 0){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:a=0}=n,f=o+e,c=i-a-r;t.range=[Math.max(f,c),f],me(t)?t.range.reverse():t.range=Gh(t),t.scale.range(t.range)}Vh(t)}function Vh(t){t.round===void 0&&i5(t)&&n5(t)<=30&&t.scale.round(!0)}function n5({scale:t}){const n=t.domain().length,[e,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),a=n-i,f=Math.abs(r-e)/Math.max(1,a+o*2);return(f-Math.floor(f))*a}function Gh(t){const n=t.scale.domain().length+Xh(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},(i,o)=>e+o/(n-1)*(r-e))}function e5(t,n=[],e={}){const r=r5(t,n,e);if(e.type===void 0&&e.domain===void 0&&e.range===void 0&&e.interval==null&&t!=="fx"&&t!=="fy"&&me({type:r})){const i=n.map(({value:o})=>o).filter(o=>o!==void 0);i.some(Wt)?Zn(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Me(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${Me(r)}".`):i.some(qw)?Zn(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Me(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${Me(r)}".`):i.some(Uw)&&Zn(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Me(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${Me(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=mi(n,e,Ou);break;case"identity":switch(st.get(t)){case an:e=mi(n,e,Ou);break;case Ro:e=mi(n,e,o5);break}break;case"utc":case"time":e=mi(n,e,hh);break}switch(r){case"diverging":return F8(t,n,e);case"diverging-sqrt":return O8(t,n,e);case"diverging-pow":return Uh(t,n,e);case"diverging-log":return P8(t,n,e);case"diverging-symlog":return q8(t,n,e);case"categorical":case"ordinal":case ni:return G8(t,n,e);case"cyclical":case"sequential":case"linear":return M8(t,n,e);case"sqrt":return $8(t,n,e);case"threshold":return lc(t,n,e);case"quantile":return T8(t,n,e);case"quantize":return A8(t,n,e);case"pow":return Ph(t,n,e);case"log":return _8(t,n,e);case"symlog":return S8(t,n,e);case"utc":return V8(t,n,e);case"time":return Y8(t,n,e);case"point":return X8(t,n,e);case"band":return Z8(t,n,e);case"identity":return E8(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Me(t){return typeof t=="symbol"?t.description:t}function ts(t){return typeof t=="string"?`${t}`.toLowerCase():t}const ns={toString:()=>"projection"};function r5(t,n,{type:e,domain:r,range:i,scheme:o,pivot:a,projection:f}){if(e=ts(e),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(e=ns);for(const u of n){const d=ts(u.type);if(d!==void 0){if(e===void 0)e=d;else if(e!==d)throw new Error(`scale incompatible with channel: ${e} !== ${d}`)}}if(e===ns)return;if(e!==void 0)return e;if(r===void 0&&!n.some(({value:u})=>u!==void 0))return;const c=st.get(t);if(c===jr)return"sqrt";if(c===Jr||c===Qr)return"linear";if(c===Ro)return"ordinal";const s=(r??i)?.length;if(s<2||s>2)return pa(c);if(r!==void 0){if(Pu(r))return pa(c);if(Wt(r))return"utc"}else{const u=n.map(({value:d})=>d).filter(d=>d!==void 0);if(u.some(Pu))return pa(c);if(u.some(Wt))return"utc"}if(c===Nn){if(a!=null||v8(o))return"diverging";if(b8(o))return"categorical"}return"linear"}function pa(t){switch(t){case an:return"point";case Nn:return ni;default:return"ordinal"}}function me({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===ni}function Xh({type:t}){return t==="threshold"}function i5({type:t}){return t==="point"||t==="band"}function qe(t){if(t===void 0)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function mi(t,{domain:n,...e},r){for(const i of t)i.value!==void 0&&(n===void 0&&(n=i.value?.domain),i.value=r(i.value));return{domain:n===void 0?n:r(n),...e}}function o5(t){return dt(t,uc)}function a5(t){return n=>{if(!st.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}function f5({scale:t,type:n,domain:e,range:r,interpolate:i,interval:o,transform:a,percent:f,pivot:c}){if(n==="identity")return{type:"identity",apply:u=>u,invert:u=>u};const s=t.unknown?t.unknown():void 0;return{type:n,domain:Tr(e),...r!==void 0&&{range:Tr(r)},...a!==void 0&&{transform:a},...f&&{percent:f},...s!==void 0&&{unknown:s},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:u=>t(u),...t.invert&&{invert:u=>t.invert(u)}}}function c5(t,n){const{fx:e,fy:r}=xf(t,n),i=e?.scale.domain(),o=r?.scale.domain();return i&&o?m1(i,o).map(([a,f],c)=>({x:a,y:f,i:c})):i?i.map((a,f)=>({x:a,i:f})):o?o.map((a,f)=>({y:a,i:f})):void 0}function u5(t,{x:n,y:e}){return n&&=Mf(n),e&&=Mf(e),t.filter(n&&e?r=>n.has(r.x)&&e.has(r.y):n?r=>n.has(r.x):r=>e.has(r.y)).sort(n&&e?(r,i)=>n.get(r.x)-n.get(i.x)||e.get(r.y)-e.get(i.y):n?(r,i)=>n.get(r.x)-n.get(i.x):(r,i)=>e.get(r.y)-e.get(i.y))}function pc(t,{fx:n,fy:e}){const r=qn(t),i=n?.value,o=e?.value;return n&&e?lr(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):n?lr(r,a=>(a.fx=i[a[0]],a),a=>i[a]):lr(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function s5(t,n,{marginTop:e,marginLeft:r}){const i=t?({x:a})=>t(a)-r:()=>0,o=n?({y:a})=>n(a)-e:()=>0;return function(a){this.tagName==="svg"?(this.setAttribute("x",i(a)),this.setAttribute("y",o(a))):this.setAttribute("transform",`translate(${i(a)},${o(a)})`)}}function l5(t){const n=[],e=new Uint32Array(Qn(t,r=>r.length));for(const r of t){let i=0;for(const o of t)r!==o&&(e.set(o,i),i+=o.length);n.push(e.slice(0,i))}return n}const d5=new Map([["top",ga],["right",ya],["bottom",ma],["left",ba],["top-left",bi(ga,ba)],["top-right",bi(ga,ya)],["bottom-left",bi(ma,ba)],["bottom-right",bi(ma,ya)],["top-empty",g5],["right-empty",y5],["bottom-empty",m5],["left-empty",b5],["empty",w5]]);function h5(t){if(t==null)return null;const n=d5.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}const es=new WeakMap;function Mf(t){let n=es.get(t);return n||es.set(t,n=new jn(dt(t,(e,r)=>[e,r]))),n}function Un(t,n){return Mf(t).get(n)}function p5(t,n,e){return n=gi(n),e=gi(e),t.find(r=>Object.is(gi(r.x),n)&&Object.is(gi(r.y),e))}function Po(t,n,e){return p5(t,n,e)?.empty}function ga(t,{y:n},{y:e}){return n?Un(n,e)===0:!0}function ma(t,{y:n},{y:e}){return n?Un(n,e)===n.length-1:!0}function ba(t,{x:n},{x:e}){return n?Un(n,e)===0:!0}function ya(t,{x:n},{x:e}){return n?Un(n,e)===n.length-1:!0}function g5(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Un(n,r);if(o>0)return Po(t,e,n[o-1])}function m5(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Un(n,r);if(o<n.length-1)return Po(t,e,n[o+1])}function b5(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Un(n,e);if(o>0)return Po(t,n[o-1],r)}function y5(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Un(n,e);if(o<n.length-1)return Po(t,n[o+1],r)}function w5(t,n,{empty:e}){return e}function bi(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function wa(t,{channels:{fx:n,fy:e},groups:r}){return n&&e?t.map(({x:i,y:o})=>r.get(i)?.get(o)??[]):n?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}const Zh=Math.PI,yn=2*Zh,va=.618;function v5({projection:t,inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let f,c,s="frame";if(pe(t)){let $;if({type:t,domain:c,inset:$,insetTop:e=$!==void 0?$:e,insetRight:r=$!==void 0?$:r,insetBottom:i=$!==void 0?$:i,insetLeft:o=$!==void 0?$:o,clip:s=s,...f}=t,t==null)return}typeof t!="function"&&({type:t}=$f(t));const{width:u,height:d,marginLeft:l,marginRight:h,marginTop:p,marginBottom:g}=a,m=u-l-h-o-r,w=d-p-g-e-i;if(t=t?.({width:m,height:w,clip:s,...f}),t==null)return;s=x5(s,l,p,u-h,d-g);let y=l+o,v=p+e,b;if(c!=null){const[[$,x],[M,S]]=zf(t).bounds(c),T=Math.min(m/(M-$),w/(S-x));T>0?(y-=(T*($+M)-m)/2,v-=(T*(x+S)-w)/2,b=Qi({point(k,A){this.stream.point(k*T+y,A*T+v)}})):Zn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return b??=y===0&&v===0?Kh():Qi({point($,x){this.stream.point($+y,x+v)}}),{stream:$=>t.stream(b.stream(s($)))}}function $f(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Vt(a2,.7463,.4673);case"albers":return yi(Yl,.7463,.4673);case"azimuthal-equal-area":return Vt(f2,4,4);case"azimuthal-equidistant":return Vt(c2,yn,yn);case"conic-conformal":return yi(l2,yn,yn);case"conic-equal-area":return yi(Ji,6.1702,2.9781);case"conic-equidistant":return yi(p2,7.312,3.6282);case"equal-earth":return Vt(m2,5.4133,2.6347);case"equirectangular":return Vt(d2,yn,Zh);case"gnomonic":return Vt(b2,3.4641,3.4641);case"identity":return{type:Kh};case"reflect-y":return{type:M5};case"mercator":return Vt(u2,yn,yn);case"orthographic":return Vt(y2,2,2);case"stereographic":return Vt(w2,2,2);case"transverse-mercator":return Vt(v2,yn,yn);default:throw new Error(`unknown projection type: ${t}`)}}function x5(t,n,e,r,i){if(t===!1||t==null||typeof t=="number")return o=>o;if(t===!0&&(t="frame"),`${t}`.toLowerCase()==="frame")return El(n,e,r,i);throw new Error(`unknown projection clip type: ${t}`)}function Vt(t,n,e){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:f})=>{const c=t();return a!=null&&c.precision?.(a),o!=null&&c.rotate?.(o),typeof f=="number"&&c.clipAngle?.(f),r!=null&&(c.scale(Math.min(r/n,i/e)),c.translate([r/2,i/2])),c},aspectRatio:e/n}}function yi(t,n,e){const{type:r,aspectRatio:i}=Vt(t,n,e);return{type:o=>{const{parallels:a,domain:f,width:c,height:s}=o,u=r(o);return a!=null&&(u.parallels(a),f===void 0&&c!=null&&u.fitSize([c,s],{type:"Sphere"})),u},aspectRatio:i}}const Kh=Sn({stream:t=>t}),M5=Sn(Qi({point(t,n){this.stream.point(t,-n)}}));function $5(t,n,e,r){const i=e[t],o=e[n],a=i.length,f=e[t]=new Float64Array(a).fill(NaN),c=e[n]=new Float64Array(a).fill(NaN);let s;const u=r.stream({point(d,l){f[s]=d,c[s]=l}});for(s=0;s<a;++s)u.point(i[s],o[s])}function _5({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(pe(t)&&(t=t.type),t!=null)}function S5(t){if(typeof t?.stream=="function")return va;if(pe(t)){let n,e;if({domain:n,type:t,...e}=t,n!=null&&t!=null){const r=typeof t=="string"?$f(t).type:t,[[i,o],[a,f]]=zf(r({...e,width:100,height:100})).bounds(n),c=(f-o)/(a-i);return c&&isFinite(c)?c<.2?.2:c>5?5:c:va}}if(t!=null){if(typeof t!="function"){const{aspectRatio:n}=$f(t);if(n)return n}return va}}function T5(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},o={point(a,f){n.push(a),e.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)Bn(a,o);return[r,i]}function A5({x:t,y:n}){if(t||n)return t??=e=>e,n??=e=>e,Qi({point(e,r){this.stream.point(t(e),n(r))}})}function gc(t={}){const{document:n=typeof window<"u"?window.document:void 0,clip:e}=t;return{document:n,clip:xh(e)}}function St(t,{document:n}){return Yn(go(t).call(n.documentElement))}const C5=Symbol("unset");function mc(t){return(t.length===1?E5:N5)(t)}function E5(t){let n,e=C5;return r=>(Object.is(e,r)||(e=r,n=t(r)),n)}function N5(t){let n,e;return(...r)=>((e?.length!==r.length||e.some((i,o)=>!Object.is(i,r[o])))&&(e=r,n=t(...r)),n)}const k5=mc(t=>new Intl.NumberFormat(t));mc((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{month:n}}));mc((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{weekday:n}}));function L5(t="en-US"){const n=k5(t);return e=>e!=null&&!isNaN(e)?n.format(e):void 0}function I5(t){return lw(t,"Invalid Date")}function D5(t="en-US"){const n=L5(t);return e=>(e instanceof Date?I5:typeof e=="number"?n:vt)(e)}const Lr=D5(),Lt=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let R5=0;function jh(){return`plot-clip-${++R5}`}function F5(t,{title:n,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:f,fillOpacity:c,stroke:s,strokeWidth:u,strokeOpacity:d,strokeLinejoin:l,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:m,opacity:w,mixBlendMode:y,imageFilter:v,paintOrder:b,pointerEvents:$,shapeRendering:x,channels:M},{ariaLabel:S,fill:T="currentColor",fillOpacity:k,stroke:A="none",strokeOpacity:E,strokeWidth:O,strokeLinecap:I,strokeLinejoin:_,strokeMiterlimit:D,paintOrder:W}){T===null&&(f=null,c=null),A===null&&(s=null,d=null),At(T)?!At(A)&&(!At(f)||M?.fill)&&(A="none"):At(A)&&(!At(s)||M?.stroke)&&(T="none");const[B,L]=fe(f,T),[R,U]=kt(c,k),[H,q]=fe(s,A),[j,J]=kt(d,E),[tt,P]=kt(w);Er(q)||(u===void 0&&(u=O),h===void 0&&(h=I),l===void 0&&(l=_),p===void 0&&!Ww(l)&&(p=D),!Er(L)&&b===void 0&&(b=W));const[et,N]=kt(u);return T!==null&&(t.fill=yt(L,"currentColor"),t.fillOpacity=tr(U,1)),A!==null&&(t.stroke=yt(q,"none"),t.strokeWidth=tr(N,1),t.strokeOpacity=tr(J,1),t.strokeLinejoin=yt(l,"miter"),t.strokeLinecap=yt(h,"butt"),t.strokeMiterlimit=tr(p,4),t.strokeDasharray=yt(g,"none"),t.strokeDashoffset=yt(m,"0")),t.target=vt(a),t.ariaLabel=vt(S),t.ariaDescription=vt(i),t.ariaHidden=vt(o),t.opacity=tr(P,1),t.mixBlendMode=yt(y,"normal"),t.imageFilter=yt(v,"none"),t.paintOrder=yt(b,"normal"),t.pointerEvents=yt($,"auto"),t.shapeRendering=yt(x,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:B,scale:"auto",optional:!0},fillOpacity:{value:R,scale:"auto",optional:!0},stroke:{value:H,scale:"auto",optional:!0},strokeOpacity:{value:j,scale:"auto",optional:!0},strokeWidth:{value:et,optional:!0},opacity:{value:tt,scale:"auto",optional:!0}}}function O5(t,n){n&&t.filter(e=>Q0(n[e])).append("title").call(P5,n)}function P5(t,n){n&&t.text(e=>Lr(n[e]))}function ce(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:c,strokeWidth:s,opacity:u,href:d}){r&&Q(t,"aria-label",l=>r[l]),o&&Q(t,"fill",l=>o[l]),a&&Q(t,"fill-opacity",l=>a[l]),f&&Q(t,"stroke",l=>f[l]),c&&Q(t,"stroke-opacity",l=>c[l]),s&&Q(t,"stroke-width",l=>s[l]),u&&Q(t,"opacity",l=>u[l]),d&&W5(t,l=>d[l],n),e||O5(t,i)}function q5(t,n,e,r){let i;const{clip:o=r.clip}=n;o==="frame"?(t=St("svg:g",r).each(function(){this.appendChild(t.node()),t.node=()=>this}),i=H5(r,e)):o&&(i=B5(o,r)),Q(t,"aria-label",n.ariaLabel),Q(t,"aria-description",n.ariaDescription),Q(t,"aria-hidden",n.ariaHidden),Q(t,"clip-path",i)}function U5(t){const n=new WeakMap;return(e,r)=>{let i=n.get(e);if(!i){const o=jh();Yn(e.ownerSVGElement).append("clipPath").attr("id",o).call(t,e,r),n.set(e,i=`url(#${o})`)}return i}}const H5=U5((t,n,e)=>{const{width:r,height:i,marginLeft:o,marginRight:a,marginTop:f,marginBottom:c}=e;t.append("rect").attr("x",o).attr("y",f).attr("width",r-a-o).attr("height",i-f-c)}),rs=new WeakMap,z5={type:"Sphere"};function B5(t,n){let e,r;if((e=rs.get(n))||rs.set(n,e=new WeakMap),t.type==="Sphere"&&(t=z5),!(r=e.get(t))){const i=jh();Yn(n.ownerSVGElement).append("clipPath").attr("id",i).append("path").attr("d",n.path()(t)),e.set(t,r=`url(#${i})`)}return r}function be(t,n,e,r){q5(t,n,e,r),Q(t,"class",n.className),Q(t,"fill",n.fill),Q(t,"fill-opacity",n.fillOpacity),Q(t,"stroke",n.stroke),Q(t,"stroke-width",n.strokeWidth),Q(t,"stroke-opacity",n.strokeOpacity),Q(t,"stroke-linejoin",n.strokeLinejoin),Q(t,"stroke-linecap",n.strokeLinecap),Q(t,"stroke-miterlimit",n.strokeMiterlimit),Q(t,"stroke-dasharray",n.strokeDasharray),Q(t,"stroke-dashoffset",n.strokeDashoffset),Q(t,"shape-rendering",n.shapeRendering),Q(t,"filter",n.imageFilter),Q(t,"paint-order",n.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=n;Q(t,"pointer-events",i)}function Fn(t,n){Y5(t,"mix-blend-mode",n.mixBlendMode),Q(t,"opacity",n.opacity)}function W5(t,n,e){t.each(function(r){const i=n(r);if(i!=null){const o=this.ownerDocument.createElementNS(Ce.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(Ce.xlink,"href",i),e!=null&&o.setAttribute("target",e),this.parentNode.insertBefore(o,this).appendChild(this)}})}function Q(t,n,e){e!=null&&t.attr(n,e)}function Y5(t,n,e){e!=null&&t.style(n,e)}function ye(t,n,{x:e,y:r},i=Lt,o=Lt){i+=n.dx,o+=n.dy,e?.bandwidth&&(i+=e.bandwidth()/2),r?.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function yt(t,n){if((t=vt(t))!==n)return t}function tr(t,n){if((t=Mt(t))!==n)return t}const V5=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function bc(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!V5.test(t))throw new Error(`invalid class name: ${t}`);return t}function yc(t,n){if(typeof n=="string")t.property("style",n);else if(n!=null)for(const e of t)Object.assign(e.style,n)}function qo({frameAnchor:t},{width:n,height:e,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?n-i:(a+n-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?e-o:(r+e-o)/2]}class pn{constructor(n,e={},r={},i){const{facet:o="auto",facetAnchor:a,fx:f,fy:c,sort:s,dx:u=0,dy:d=0,margin:l=0,marginTop:h=l,marginRight:p=l,marginBottom:g=l,marginLeft:m=l,className:w,clip:y=i?.clip,channels:v,tip:b,render:$}=r;if(this.data=n,this.sort=Ar(s)?s:null,this.initializer=co(r).initializer,this.transform=this.initializer?r.transform:Ah(r).transform,o===null||o===!1?this.facet=null:(this.facet=nn(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=n===Ei&&typeof f=="string"?[f]:f,this.fy=n===Ei&&typeof c=="string"?[c]:c),this.facetAnchor=h5(a),e=vh(e),v!==void 0&&(e={...G5(v),...e}),i!==void 0&&(e={...F5(this,r,i),...e}),this.channels=Object.fromEntries(Object.entries(e).map(([x,M])=>{if(oc(M.value)){const{value:S,label:T=M.label,scale:k=M.scale}=M.value;M={...M,label:T,scale:k,value:S}}if(n===Ei&&typeof M.value=="string"){const{value:S}=M;M={...M,value:[S]}}return[x,M]}).filter(([x,{value:M,optional:S}])=>{if(M!=null)return!0;if(S)return!1;throw new Error(`missing channel value: ${x}`)})),this.dx=+u,this.dy=+d,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+g,this.marginLeft=+m,this.clip=xh(y),this.tip=X5(b),this.className=vt(w),this.facet==="super"){if(f||c)throw new Error("super-faceting cannot use fx or fy");for(const x in this.channels){const{scale:M}=e[x];if(!(M!=="x"&&M!=="y"))throw new Error("super-faceting cannot use x or y")}}$!=null&&(this.render=Jh($,this.render))}initialize(n,e,r){let i=Pe(this.data);n===void 0&&i!=null&&(n=[qn(i)]);const o=n;this.transform!=null&&({facets:n,data:i}=this.transform(i,n,r),i=Pe(i)),n!==void 0&&(n.original=o);const a=l8(this.channels,i);return this.sort!=null&&h8(i,n,a,e,this.sort),{data:i,facets:n,channels:a}}filter(n,e,r){for(const i in e){const{filter:o=ae}=e[i];if(o!==null){const a=r[i];n=n.filter(f=>o(a[f]))}}return n}project(n,e,r){for(const i in n)if(n[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in n&&n[o].scale==="y"&&$5(i,o,e,r.projection)}}scale(n,e,r){const i=d8(n,e);return r.projection&&this.project(n,i,r),i}}function Qh(...t){return t.plot=pn.prototype.plot,t}function Jh(t,n){if(t==null)return n===null?void 0:n;if(n==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof n!="function")throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,o,a,f){return t.call(this,e,r,i,o,a,(c,s,u,d,l)=>n.call(this,c,s,u,d,l,f))}}function G5(t){return Object.fromEntries(Object.entries(vh(t)).map(([n,e])=>(e=typeof e=="string"?{value:e,label:n}:Io(e),e.filter===void 0&&e.scale==null&&(e={...e,filter:null}),[n,e])))}function X5(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?nn(t,"tip",["x","y","xy"]):t}function wc(t,n){return t?.tip===!0?{...t,tip:n}:pe(t?.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:n}}:t}function Z5(t,n,e={}){let r=.5-Lt,i=.5+Lt,o=.5+Lt,a=.5-Lt;for(const{marginTop:g,marginRight:m,marginBottom:w,marginLeft:y}of n)g>r&&(r=g),m>i&&(i=m),w>o&&(o=w),y>a&&(a=y);let{margin:f,marginTop:c=f!==void 0?f:r,marginRight:s=f!==void 0?f:i,marginBottom:u=f!==void 0?f:o,marginLeft:d=f!==void 0?f:a}=e;c=+c,s=+s,u=+u,d=+d;let{width:l=640,height:h=K5(t,e,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,c-r+u-o)}=e;l=+l,h=+h;const p={width:l,height:h,marginTop:c,marginRight:s,marginBottom:u,marginLeft:d};if(t.fx||t.fy){let{margin:g,marginTop:m=g!==void 0?g:c,marginRight:w=g!==void 0?g:s,marginBottom:y=g!==void 0?g:u,marginLeft:v=g!==void 0?g:d}=e.facet??{};m=+m,w=+w,y=+y,v=+v,p.facet={marginTop:m,marginRight:w,marginBottom:y,marginLeft:v}}return p}function K5({x:t,y:n,fy:e,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:f,marginRightDefault:c,marginBottomDefault:s,marginLeftDefault:u}){const d=e&&e.scale.domain().length||1,l=S5(i);if(l){const p=r?r.scale.domain().length:1,g=(1.1*d-.1)/(1.1*p-.1)*l,m=Math.max(.1,Math.min(10,g));return Math.round((a-u-c)*m+f+s)}const h=n?me(n)?n.scale.domain().length||1:Math.max(7,17/d):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const p=is("y",n)/(is("x",t)*o),g=r?r.scale.bandwidth():1,m=e?e.scale.bandwidth():1,w=g*(a-u-c)-t.insetLeft-t.insetRight;return(p*w+n.insetTop+n.insetBottom)/m+f+s}return!!(n||e)*Math.max(1,Math.min(60,h*d))*20+!!r*30+60}function is(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=n.scale.exponent();i=c=>Math.pow(c,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[o,a]=Dn(r);return Math.abs(i(a)-i(o))}const os=new WeakMap;function vc(t,n,{x:e,y:r,px:i,py:o,maxRadius:a=40,channels:f,render:c,...s}={}){return a=+a,i!=null&&(e??=null,f={...f,px:{value:i,scale:"x"}}),o!=null&&(r??=null,f={...f,py:{value:o,scale:"y"}}),{x:e,y:r,channels:f,...s,render:Jh(function(u,d,l,h,p,g){p={...p,pointerSticky:!1};const m=p.ownerSVGElement,{data:w}=p.getMarkState(this);let y=os.get(m);y||os.set(m,y={sticky:!1,roots:[],renders:[]});let v=y.renders.push(q)-1;const{x:b,y:$,fx:x,fy:M}=d;let S=x?x(u.fx)-h.marginLeft:0,T=M?M(u.fy)-h.marginTop:0;b?.bandwidth&&(S+=b.bandwidth()/2),$?.bandwidth&&(T+=$.bandwidth()/2);const k=u.fi!=null;let A;if(k){let P=y.facetStates;P||(y.facetStates=P=new Map),A=P.get(this),A||P.set(this,A=new Map)}const[E,O]=qo(this,h),{px:I,py:_}=l,D=I?P=>I[P]:tp(l,E),W=_?P=>_[P]:np(l,O);let B,L,R,U;function H(P,et){if(k)if(U&&(U=cancelAnimationFrame(U)),P==null)A.delete(u.fi);else{A.set(u.fi,et),U=requestAnimationFrame(()=>{U=null;for(const[N,F]of A)if(F<et||F===et&&N<u.fi){P=null;break}q(P)});return}q(P)}function q(P){if(B===P&&R===y.sticky)return;B=P,R=p.pointerSticky=y.sticky;const et=B==null?[]:[B];k&&(et.fx=u.fx,et.fy=u.fy,et.fi=u.fi);const N=g(et,d,l,h,p);if(L){if(k){const F=L.parentNode,z=L.getAttribute("transform"),C=N.getAttribute("transform");z?N.setAttribute("transform",z):N.removeAttribute("transform"),C?F.setAttribute("transform",C):F.removeAttribute("transform"),N.removeAttribute("aria-label"),N.removeAttribute("aria-description"),N.removeAttribute("aria-hidden")}L.replaceWith(N)}if(y.roots[v]=L=N,!(B==null&&A?.size>1)){const F=B==null?null:de(w)?w[B]:w.get(B);p.dispatchValue(F)}return N}function j(P){if(y.sticky||P.pointerType==="mouse"&&P.buttons===1)return;let[et,N]=Mm(P);et-=S,N-=T;const F=et<h.marginLeft||et>h.width-h.marginRight?1:t,z=N<h.marginTop||N>h.height-h.marginBottom?1:n;let C=null,ot=a*a;for(const Y of u){const ft=F*(D(Y)-et),lt=z*(W(Y)-N),Nt=ft*ft+lt*lt;Nt<=ot&&(C=Y,ot=Nt)}if(C!=null&&(t!==1||n!==1)){const Y=D(C)-et,ft=W(C)-N;ot=Y*Y+ft*ft}H(C,ot)}function J(P){P.pointerType==="mouse"&&B!=null&&(y.sticky&&y.roots.some(et=>et?.contains(P.target))||(y.sticky?(y.sticky=!1,y.renders.forEach(et=>et(null))):(y.sticky=!0,q(B)),P.stopImmediatePropagation()))}function tt(P){P.pointerType==="mouse"&&(y.sticky||H(null))}return m.addEventListener("pointerenter",j),m.addEventListener("pointermove",j),m.addEventListener("pointerdown",J),m.addEventListener("pointerleave",tt),q(null)},c)}}function j5(t){return vc(1,1,t)}function Q5(t){return vc(1,.01,t)}function as(t){return vc(.01,1,t)}function tp({x1:t,x2:n,x:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function np({y1:t,y2:n,y:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function ep(t){return me(t)&&t.interval===void 0?void 0:"tabular-nums"}function J5(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:f=0,marginBottom:c=16+r,marginLeft:s=0,style:u,ticks:d=(i-s-f)/64,tickFormat:l,fontVariant:h=ep(t),round:p=!0,opacity:g,className:m}=n;const w=gc(n);m=bc(m),g=kt(g)[1],l===null&&(l=()=>null);const y=St("svg",w).attr("class",`${m}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(E=>E.append("style").text(`:where(.${m}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${m}-ramp text) {
  white-space: pre;
}`)).call(yc,u);let v=E=>E.selectAll(".tick line").attr("y1",a+c-o),b;const $=p?(E,O)=>E.rangeRound(O):(E,O)=>E.range(O),{type:x,domain:M,range:S,interpolate:T,scale:k,pivot:A}=t;if(T){const E=S===void 0?T:yo(T.length===1?dc(T):T,S);b=$(k.copy(),jt(wt(s,i-f),Math.min(M.length+(A!==void 0),S===void 0?1/0:S.length)));const O=256,I=w.document.createElement("canvas");I.width=O,I.height=1;const _=I.getContext("2d");for(let D=0,W=O-1;D<O;++D)_.fillStyle=E(D/W),_.fillRect(D,0,1,1);y.append("image").attr("opacity",g).attr("x",s).attr("y",a).attr("width",i-s-f).attr("height",o-a-c).attr("preserveAspectRatio","none").attr("xlink:href",I.toDataURL())}else if(x==="threshold"){const E=M,O=l===void 0?I=>I:typeof l=="string"?Be(l):l;b=$(Gf().domain([-1,S.length-1]),[s,i-f]),y.append("g").attr("fill-opacity",g).selectAll().data(S).enter().append("rect").attr("x",(I,_)=>b(_-1)).attr("y",a).attr("width",(I,_)=>b(_)-b(_-1)).attr("height",o-a-c).attr("fill",I=>I),d=dt(E,(I,_)=>_),l=I=>O(E[I],I)}else b=$(_o().domain(M),[s,i-f]),y.append("g").attr("fill-opacity",g).selectAll().data(M).enter().append("rect").attr("x",b).attr("y",a).attr("width",Math.max(0,b.bandwidth()-1)).attr("height",o-a-c).attr("fill",k),v=()=>{};return y.append("g").attr("transform",`translate(0,${o-c})`).call(q1(b).ticks(Array.isArray(d)?null:d,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",yt(h,"normal")).call(v).call(E=>E.select(".domain").remove()),e!==void 0&&y.append("text").attr("x",s).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(e),y.node()}const rp=Math.PI/180;function ip(t,{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}={}){t.markerStart=xa(e),t.markerMid=xa(r),t.markerEnd=xa(i)}function xa(t){if(t==null||t===!1)return null;if(t===!0)return cs;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return fs("auto");case"arrow-reverse":return fs("auto-start-reverse");case"dot":return t3;case"circle":case"circle-fill":return cs;case"circle-stroke":return n3;case"tick":return Ma("auto");case"tick-x":return Ma(90);case"tick-y":return Ma(0)}throw new Error(`invalid marker: ${t}`)}function fs(t){return(n,e)=>St("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function t3(t,n){return St("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(e=>e.append("circle").attr("r",2.5)).node()}function cs(t,n){return St("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function n3(t,n){return St("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function Ma(t){return(n,e)=>St("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",n).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let e3=0;function op(t,n,{stroke:e},r){return r3(t,n,e&&(i=>e[i]),null,r)}function r3(t,{markerStart:n,markerMid:e,markerEnd:r,stroke:i},o=()=>i,a,f){if(!n&&!e&&!r)return;const c=new Map,s=a;function u(d,l,h){return function(p){if(h&&!h(p))return;const g=o(p);let m=c.get(l);m||c.set(l,m=new Map);let w=m.get(g);if(!w){const y=this.parentNode.insertBefore(l(g,f),this),v=`plot-marker-${++e3}`;y.setAttribute("id",v),m.set(g,w=`url(#${v})`)}this.setAttribute(d,w)}}n&&t.each(u("marker-start",n,s)),e&&t.each(u("marker-mid",e)),r&&t.each(u("marker-end",r,s))}function ap({inset:t,insetLeft:n,insetRight:e,...r}={}){return[n,e]=cp(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function fp({inset:t,insetTop:n,insetBottom:e,...r}={}){return[n,e]=cp(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function cp(t,n,e){return t===void 0&&n===void 0&&e===void 0?Lt?[1,0]:[.5,.5]:[n,e]}function up(t,{interval:n}){return t={...Io(t)},t.interval=fc(t.interval===void 0?n:t.interval),t}function sp(t,n,e,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:a}=e,{value:f,interval:c}=up(i,e);if(f==null||c==null)return e;const s=Zr(i);if(c==null){let h;const p={transform:g=>h||(h=zt(g,f)),label:s};return{...e,[t]:void 0,[`${t}1`]:o===void 0?p:o,[`${t}2`]:a===void 0?p:a}}let u,d;function l(h){return d!==void 0&&h===u?d:d=dt(zt(u=h,f),p=>c.floor(p))}return n({...e,[t]:void 0,[`${t}1`]:o===void 0?{transform:l,label:s}:o,[`${t}2`]:a===void 0?{transform:h=>l(h).map(p=>c.offset(p)),label:s}:a})}function lp(t,n,e){const{[t]:r}=e,{value:i,interval:o}=up(r,e);return i==null||o==null?e:n({...e,[t]:{label:Zr(r),transform:a=>{const f=dt(zt(a,i),s=>o.floor(s)),c=f.map(s=>o.offset(s));return f.map(Wt(f)?(s,u)=>s==null||isNaN(s=+s)||(u=c[u],u==null)||isNaN(u=+u)?void 0:new Date((s+u)/2):(s,u)=>s==null||(u=c[u],u==null)?NaN:(+s+ +u)/2)}}})}function dp(t={}){return sp("x",ap,t)}function i3(t={}){return sp("y",fp,t)}function o3(t={}){return lp("x",ap,t)}function a3(t={}){return lp("y",fp,t)}const hp={ariaLabel:"rule",fill:null,stroke:"currentColor"};class f3 extends pn{constructor(n,e={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:f=a,insetBottom:c=a}=e;super(n,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},wc(e,"x"),hp),this.insetTop=Mt(f),this.insetBottom=Mt(c),ip(this,e)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y1:s,y2:u}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:g,marginBottom:m}=i,{insetTop:w,insetBottom:y}=this;return St("svg:g",o).call(be,this,i,o).call(ye,this,{x:c&&a},Lt,0).call(v=>v.selectAll().data(n).enter().append("line").call(Fn,this).attr("x1",c?b=>c[b]:(g+d-p)/2).attr("x2",c?b=>c[b]:(g+d-p)/2).attr("y1",s&&!qe(f)?b=>s[b]+w:h+w).attr("y2",u&&!qe(f)?f.bandwidth?b=>u[b]+f.bandwidth()-y:b=>u[b]-y:l-m-y).call(ce,this,r).call(op,this,r,o)).node()}}class c3 extends pn{constructor(n,e={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:f=a,insetLeft:c=a}=e;super(n,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},wc(e,"y"),hp),this.insetRight=Mt(f),this.insetLeft=Mt(c),ip(this,e)}render(n,e,r,i,o){const{x:a,y:f}=e,{y:c,x1:s,x2:u}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:g,marginBottom:m}=i,{insetLeft:w,insetRight:y}=this;return St("svg:g",o).call(be,this,i,o).call(ye,this,{y:c&&f},0,Lt).call(v=>v.selectAll().data(n).enter().append("line").call(Fn,this).attr("x1",s&&!qe(a)?b=>s[b]+w:g+w).attr("x2",u&&!qe(a)?a.bandwidth?b=>u[b]+a.bandwidth()-y:b=>u[b]-y:d-p-y).attr("y1",c?b=>c[b]:(h+l-m)/2).attr("y2",c?b=>c[b]:(h+l-m)/2).call(ce,this,r).call(op,this,r,o)).node()}}function ei(t,n){let{x:e=Yt,y:r,y1:i,y2:o,...a}=i3(n);return[i,o]=pp(r,i,o),new f3(t,{...a,x:e,y1:i,y2:o})}function u3(t,n){let{y:e=Yt,x:r,x1:i,x2:o,...a}=dp(n);return[i,o]=pp(r,i,o),new c3(t,{...a,y:e,x1:i,x2:o})}function pp(t,n,e){if(t==null){if(n===void 0){if(e!==void 0)return[0,e]}else if(e===void 0)return[0,n]}else{if(n===void 0)return e===void 0?[0,t]:[t,e];if(e===void 0)return[t,n]}return[n,e]}function gp(t,...n){let e=n.length;for(let r=0,i=!0;r<e;++r)typeof n[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+n[r]+t[r+1]),n.splice(r,1),--r,--e);return r=>{let i=t[0];for(let o=0;o<e;++o)i+=n[o](r)+t[o+1];return i}}const s3={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},mp="";class xc extends pn{constructor(n,e={}){const{x:r,y:i,text:o=ge(n)&&wh(n)?Yt:lh,frameAnchor:a,textAnchor:f=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:c=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:s=1,lineWidth:u=1/0,textOverflow:d,monospace:l,fontFamily:h=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:g,fontVariant:m,fontWeight:w,rotate:y}=e,[v,b]=kt(y,0),[$,x]=m3(p);if(super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:$,optional:!0},rotate:{value:Pw(v),optional:!0},text:{value:o,filter:Q0,optional:!0}},e,s3),this.rotate=b,this.textAnchor=yt(f,"middle"),this.lineAnchor=nn(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+s,this.lineWidth=+u,this.textOverflow=bp(d),this.monospace=!!l,this.fontFamily=vt(h),this.fontSize=x,this.fontStyle=vt(g),this.fontVariant=vt(m),this.fontWeight=vt(w),this.frameAnchor=cc(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${u}`);this.splitLines=wp(this),this.clipLine=vp(this)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y:s,rotate:u,text:d,title:l,fontSize:h}=r,{rotate:p}=this,[g,m]=qo(this,i);return St("svg:g",o).call(be,this,i,o).call(yp,this,d,i).call(ye,this,{x:c&&a,y:s&&f}).call(w=>w.selectAll().data(n).enter().append("text").call(Fn,this).call(l3,this,d,l).attr("transform",gp`translate(${c?y=>c[y]:g},${s?y=>s[y]:m})${u?y=>` rotate(${u[y]})`:p?` rotate(${p})`:""}`).call(Q,"font-size",h&&(y=>h[y])).call(ce,this,r)).node()}}function bp(t){return t==null?null:nn(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function l3(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:f,clipLine:c}=n;t.each(function(s){const u=f(Lr(e[s])??"").map(c),d=u.length,l=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let h=0;for(let p=0;p<d;++p){if(++h,!u[p])continue;const g=this.ownerDocument.createElementNS(Ce.svg,"tspan");g.setAttribute("x",0),p===h-1?g.setAttribute("y",`${(l+p)*o}em`):g.setAttribute("dy",`${h*o}em`),g.textContent=u[p],this.appendChild(g),h=0}}else l&&this.setAttribute("y",`${l*o}em`),this.textContent=u[0];if(a&&!r&&u[0]!==e[s]){const h=this.ownerDocument.createElementNS(Ce.svg,"title");h.textContent=e[s],this.appendChild(h)}})}function Uo(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=bh(n,e)),new xc(t,{...r,x:n,y:e})}function d3(t,{x:n=Yt,...e}={}){return new xc(t,a3({...e,x:n}))}function h3(t,{y:n=Yt,...e}={}){return new xc(t,o3({...e,y:n}))}function yp(t,n,e){Q(t,"text-anchor",n.textAnchor),Q(t,"font-family",n.fontFamily),Q(t,"font-size",n.fontSize),Q(t,"font-style",n.fontStyle),Q(t,"font-variant",n.fontVariant===void 0?p3(e):n.fontVariant),Q(t,"font-weight",n.fontWeight)}function p3(t){return t&&(Hw(t)||Wt(t))?"tabular-nums":void 0}const g3=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function m3(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),g3.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function b3(t,n,e){const r=[];let i,o=0;for(const[a,f,c]of y3(t)){if(i===void 0&&(i=a),o>i&&e(t,i,f)>n&&(r.push(t.slice(i,o)+(t[o-1]===mp?"-":"")),i=a),c){r.push(t.slice(i,f)),i=void 0;continue}o=f}return r}function*y3(t){let n=0,e=0;const r=t.length;for(;e<r;){let i=1;switch(t[e]){case mp:case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];t[++e]===" ";);n=e;break;case"\r":t[e+1]===`
`&&++i;case`
`:yield[n,e,!0],e+=i,n=e;break;default:++e;break}}yield[n,e,!0]}const us={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function Mc(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Ye(t,i))r+=us[t[i]]??(Mp(t,i)?120:us.e);return r}function $c(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Ye(t,i))r+=Mp(t,i)?126:63;return r}function wp({monospace:t,lineWidth:n,textOverflow:e}){if(e!=null||n==1/0)return o=>o.split(/\r\n?|\n/g);const r=t?$c:Mc,i=n*100;return o=>b3(o,i,r)}function vp({monospace:t,lineWidth:n,textOverflow:e}){if(e==null||n==1/0)return o=>o;const r=t?$c:Mc,i=n*100;switch(e){case"clip-start":return o=>ls(o,i,r,"");case"clip-end":return o=>ss(o,i,r,"");case"ellipsis-start":return o=>ls(o,i,r,Ae);case"ellipsis-middle":return o=>w3(o,i,r,Ae);case"ellipsis-end":return o=>ss(o,i,r,Ae)}}const Ae="";function Ue(t,n,e,r){const i=[];let o=0;for(let a=0,f=0,c=t.length;a<c;a=f){f=Ye(t,a);const s=e(t,a,f);if(o+s>n){for(o+=r;o>n&&a>0;)f=a,a=i.pop(),o-=e(t,a,f);return[a,n-o]}o+=s,i.push(a)}return[-1,0]}function ss(t,n,e,r){t=t.trim();const i=e(r),[o]=Ue(t,n,e,i);return o<0?t:t.slice(0,o).trimEnd()+r}function w3(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r)/2,[a,f]=Ue(t,n/2,e,o),[c]=Ue(t,i-n/2-f+o,e,-o);return c<0?r:t.slice(0,a).trimEnd()+r+t.slice(Ye(t,c)).trimStart()}function ls(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r),[a]=Ue(t,i-n+o,e,-o);return a<0?r:r+t.slice(Ye(t,a)).trimStart()}const _f=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,ds=new RegExp("\\p{Extended_Pictographic}","uy");function Ye(t,n){return n+=v3(t,n)?2:1,M3(t,n)&&(n=_f.lastIndex),x3(t,n)?Ye(t,n+1):n}function xp(t,n){return t.charCodeAt(n)<128}function v3(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const r=t.charCodeAt(n+1);return r>=56320&&r<57344}return!1}function x3(t,n){return t.charCodeAt(n)===8205}function M3(t,n){return xp(t,n)?!1:(_f.lastIndex=n,_f.test(t))}function Mp(t,n){return xp(t,n)?!1:(ds.lastIndex=n,ds.test(t))}const $3={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},$p=3.5,_3=$p*5,_p={draw(t,n,e){const r=n*e/_3;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},S3={draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}},T3=new Map([["arrow",_p],["spike",S3]]);function A3(t){return t&&typeof t.draw=="function"}function C3(t){if(A3(t))return t;const n=T3.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}class Sp extends pn{constructor(n,e={}){const{x:r,y:i,r:o=$p,length:a,rotate:f,shape:c=_p,anchor:s="middle",frameAnchor:u}=e,[d,l]=kt(a,12),[h,p]=kt(f,0);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:h,optional:!0}},e,$3),this.r=+o,this.length=l,this.rotate=p,this.shape=C3(c),this.anchor=nn(s,"anchor",["start","middle","end"]),this.frameAnchor=cc(u)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y:s,length:u,rotate:d}=r,{length:l,rotate:h,anchor:p,shape:g,r:m}=this,[w,y]=qo(this,i);return St("svg:g",o).call(be,this,i,o).call(ye,this,{x:c&&a,y:s&&f}).call(v=>v.selectAll().data(n).enter().append("path").call(Fn,this).attr("transform",gp`translate(${c?b=>c[b]:w},${s?b=>s[b]:y})${d?b=>` rotate(${d[b]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?u?b=>` translate(0,${u[b]})`:` translate(0,${l})`:u?b=>` translate(0,${u[b]/2})`:` translate(0,${l/2})`}`).attr("d",u?b=>{const $=Ya();return g.draw($,u[b],m),$}:(()=>{const b=Ya();return g.draw(b,l,m),b})()).call(ce,this,r)).node()}}function E3(t,n={}){const{x:e=Yt,...r}=n;return new Sp(t,{...r,x:e})}function N3(t,n={}){const{y:e=Yt,...r}=n;return new Sp(t,{...r,y:e})}function Hn(t,n){return arguments.length<2&&!ge(t)&&(n=t,t=null),n===void 0&&(n={}),[t,n]}function Ho({anchor:t}={},n){return t===void 0?n[0]:nn(t,"anchor",n)}function Tp(t){return Ho(t,["left","right"])}function Ap(t){return Ho(t,["right","left"])}function Cp(t){return Ho(t,["bottom","top"])}function Ep(t){return Ho(t,["top","bottom"])}function Np(){const[t,n]=Hn(...arguments);return Lp("y",Tp(n),t,n)}function k3(){const[t,n]=Hn(...arguments);return Lp("fy",Ap(n),t,n)}function kp(){const[t,n]=Hn(...arguments);return Ip("x",Cp(n),t,n)}function L3(){const[t,n]=Hn(...arguments);return Ip("fx",Ep(n),t,n)}function Lp(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:c=r,fillOpacity:s=i,textAnchor:u,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="y"?6:0,tickPadding:g,tickRotate:m,x:w,margin:y,marginTop:v=y===void 0?20:y,marginRight:b=y===void 0?n==="right"?40:0:y,marginBottom:$=y===void 0?20:y,marginLeft:x=y===void 0?n==="left"?40:0:y,label:M,labelAnchor:S,labelArrow:T,labelOffset:k,ariaLabel:A=`${t}-axis`,...E}){return p=Mt(p),g=Mt(g),m=Mt(m),S!==void 0&&(S=nn(S,"labelAnchor",["center","top","bottom"])),T=Hp(T),Qh(p&&!At(o)?I3(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:g,tickRotate:m,x:w,ariaLabel:A,...E}):null,At(c)?null:R3(t,n,e,{fill:c,fillOpacity:s,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:u,tickSize:p,tickPadding:g,tickRotate:m,x:w,marginTop:v,marginRight:b,marginBottom:$,marginLeft:x,ariaLabel:A,...E}),!At(c)&&M!==null?Uo([],Op({fill:c,fillOpacity:s,...E},function(O,I,_,D,W){const B=D[t],{marginTop:L,marginRight:R,marginBottom:U,marginLeft:H}=t==="y"&&W.inset||W,q=S??(B.bandwidth?"center":"top"),j=k??(n==="right"?R:H)-3;return q==="center"?(this.textAnchor=void 0,this.lineAnchor=n==="right"?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor=n==="right"?"end":"start",this.lineAnchor=q,this.frameAnchor=`${q}-${n}`,this.rotate=0),this.dy=q==="top"?3-L:q==="bottom"?U-3:0,this.dx=n==="right"?j:-j,this.ariaLabel=`${A} label`,{facets:[[0]],channels:{text:{value:[Up(t,B,{anchor:n,label:M,labelAnchor:q,labelArrow:T})]}}}})):null)}function Ip(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:c=r,fillOpacity:s=i,textAnchor:u,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="x"?6:0,tickPadding:g,tickRotate:m,y:w,margin:y,marginTop:v=y===void 0?n==="top"?30:0:y,marginRight:b=y===void 0?20:y,marginBottom:$=y===void 0?n==="bottom"?30:0:y,marginLeft:x=y===void 0?20:y,label:M,labelAnchor:S,labelArrow:T,labelOffset:k,ariaLabel:A=`${t}-axis`,...E}){return p=Mt(p),g=Mt(g),m=Mt(m),S!==void 0&&(S=nn(S,"labelAnchor",["center","left","right"])),T=Hp(T),Qh(p&&!At(o)?D3(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:g,tickRotate:m,y:w,ariaLabel:A,...E}):null,At(c)?null:F3(t,n,e,{fill:c,fillOpacity:s,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:u,tickSize:p,tickPadding:g,tickRotate:m,y:w,marginTop:v,marginRight:b,marginBottom:$,marginLeft:x,ariaLabel:A,...E}),!At(c)&&M!==null?Uo([],Op({fill:c,fillOpacity:s,...E},function(O,I,_,D,W){const B=D[t],{marginTop:L,marginRight:R,marginBottom:U,marginLeft:H}=t==="x"&&W.inset||W,q=S??(B.bandwidth?"center":"right"),j=k??(n==="top"?L:U)-3;return q==="center"?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${q}`,this.textAnchor=q==="right"?"end":"start"),this.lineAnchor=n,this.dy=n==="top"?-j:j,this.dx=q==="right"?R-3:q==="left"?3-H:0,this.ariaLabel=`${A} label`,{facets:[[0]],channels:{text:{value:[Up(t,B,{anchor:n,label:M,labelAnchor:q,labelArrow:T})]}}}})):null)}function I3(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+(t==="y"?"-empty":""),frameAnchor:f=n,tickSize:c,inset:s=0,insetLeft:u=s,insetRight:d=s,dx:l=0,y:h=t==="y"?void 0:null,ariaLabel:p,...g}){return Ve(N3,t,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:f,y:h,...g,dx:n==="left"?+l-Lt+ +u:+l+Lt-d,anchor:"start",length:c,shape:n==="left"?W3:Y3})}function D3(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+(t==="x"?"-empty":""),frameAnchor:f=n,tickSize:c,inset:s=0,insetTop:u=s,insetBottom:d=s,dy:l=0,x:h=t==="x"?void 0:null,ariaLabel:p,...g}){return Ve(E3,t,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:f,x:h,...g,dy:n==="bottom"?+l-Lt-d:+l+Lt+ +u,anchor:"start",length:c,shape:n==="bottom"?z3:B3})}function R3(t,n,e,{facetAnchor:r=n+(t==="y"?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*rp):0),text:c,textAnchor:s=Math.abs(a)>60?"middle":n==="left"?"end":"start",lineAnchor:u=a>60?"top":a<-60?"bottom":"middle",fontVariant:d,inset:l=0,insetLeft:h=l,insetRight:p=l,dx:g=0,ariaLabel:m,y:w=t==="y"?void 0:null,...y}){return Ve(h3,t,e,{ariaLabel:`${m} tick label`},{facetAnchor:r,frameAnchor:i,text:c,textAnchor:s,lineAnchor:u,fontVariant:d,rotate:a,y:w,...y,dx:n==="left"?+g-o-f+ +h:+g+ +o+ +f-p},function(v,b,$,x,M){d===void 0&&(this.fontVariant=qp(v)),c===void 0&&(M.text=Pp(v,b,$,x,n))})}function F3(t,n,e,{facetAnchor:r=n+(t==="x"?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*rp):0),text:c,textAnchor:s=Math.abs(a)>=10?a<0^n==="bottom"?"start":"end":"middle",lineAnchor:u=Math.abs(a)>=10?"middle":n==="bottom"?"top":"bottom",fontVariant:d,inset:l=0,insetTop:h=l,insetBottom:p=l,dy:g=0,x:m=t==="x"?void 0:null,ariaLabel:w,...y}){return Ve(d3,t,e,{ariaLabel:`${w} tick label`},{facetAnchor:r,frameAnchor:i,text:c===void 0?null:c,textAnchor:s,lineAnchor:u,fontVariant:d,rotate:a,x:m,...y,dy:n==="bottom"?+g+ +o+ +f-p:+g-o-f+ +h},function(v,b,$,x,M){d===void 0&&(this.fontVariant=qp(v)),c===void 0&&(M.text=Pp(v,b,$,x,n))})}function O3(){const[t,n]=Hn(...arguments);return Dp("y",Tp(n),t,n)}function P3(){const[t,n]=Hn(...arguments);return Dp("fy",Ap(n),t,n)}function q3(){const[t,n]=Hn(...arguments);return Rp("x",Cp(n),t,n)}function U3(){const[t,n]=Hn(...arguments);return Rp("fx",Ep(n),t,n)}function Dp(t,n,e,{y:r=t==="y"?void 0:null,x:i=null,x1:o=n==="left"?i:null,x2:a=n==="right"?i:null,ariaLabel:f=`${t}-grid`,ariaHidden:c=!0,...s}){return Ve(u3,t,e,{ariaLabel:f,ariaHidden:c},{y:r,x1:o,x2:a,...Fp(s)})}function Rp(t,n,e,{x:r=t==="x"?void 0:null,y:i=null,y1:o=n==="top"?i:null,y2:a=n==="bottom"?i:null,ariaLabel:f=`${t}-grid`,ariaHidden:c=!0,...s}){return Ve(ei,t,e,{ariaLabel:f,ariaHidden:c},{x:r,y1:o,y2:a,...Fp(s)})}function Fp({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:r=n,strokeWidth:i=1,...o}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...o}}function Op({fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:c,shapeRendering:s,clip:u=!1},d){return[,t]=fe(t),[,n]=kt(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:c,shapeRendering:s,clip:u,initializer:d}}function Ve(t,n,e,r,i,o){let a;function f(u,d,l,h,p,g){const m=u==null&&(n==="fx"||n==="fy"),{[n]:w}=h;if(!w)throw new Error(`missing scale: ${n}`);const y=w.domain();let{interval:v,ticks:b,tickFormat:$,tickSpacing:x=n==="x"?80:35}=i;if(typeof b=="string"&&zp(w)&&(v=b,b=void 0),b===void 0&&(b=Kr(v,w.type)??H3(w,x)),u==null){if(ge(b))u=he(b);else if(Ow(b))u=$a(b,...Dn(y));else if(w.interval){let S=w.interval;if(w.ticks){const[T,k]=Dn(y),A=(k-T)/S[Xr];S=Iu(S,A/b)??S,u=$a(S,T,k)}else{u=y;const T=u.length;S=Iu(S,T/b)??S,S!==w.interval&&(u=$a(S,...Dn(u)))}if(S===w.interval){const T=Math.round(u.length/b);T>1&&(u=u.filter((k,A)=>A%T===0))}}else w.ticks?u=w.ticks(b):u=y;if(!w.ticks&&u.length&&u!==y){const S=new ho(y);u=u.filter(T=>S.has(T)),u.length||Zn(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}n==="y"||n==="x"?d=[qn(u)]:a[n]={scale:n,value:Yt}}o?.call(this,w,u,b,$,a);const M=Object.fromEntries(Object.entries(a).map(([S,T])=>[S,{...T,value:zt(u,T.value)}]));return m&&(d=g.filterFacets(u,M)),{data:u,facets:d,channels:M}}const c=co(i).initializer,s=t(e,co({...i,initializer:f},c));return e==null?(a=s.channels,s.channels={}):a={},r!==void 0&&Object.assign(s,r),s.clip===void 0&&(s.clip=!1),s}function H3(t,n){const[e,r]=Dn(t.range());return(r-e)/n}function Pp(t,n,e,r,i){return{value:_c(t,n,e,r,i)}}function _c(t,n,e,r,i){return typeof r=="function"&&!(t.type==="log"&&t.tickFormat)?r:r===void 0&&n&&Wt(n)?bw(t.type,n,i)??Lr:t.tickFormat?t.tickFormat(typeof e=="number"?e:null,r):typeof r=="string"&&t.domain().length>0?(Wt(t.domain())?Gr:Be)(r):r===void 0?Lr:Sn(r)}function $a(t,n,e){return t.range(n,t.offset(t.floor(e)))}const z3={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},B3={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},W3={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},Y3={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function qp(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function Up(t,n,{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&zp(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!n.bandwidth||n.interval)&&!/[]/.test(r)),!o)return r;if(o===!0){const a=t5(n);a&&(o=/x$/.test(t)||i==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return` ${r}`;case"right":return`${r} `;case"up":return e==="right"?`${r} `:` ${r}`;case"down":return e==="right"?`${r} `:` ${r}`}return r}}function Hp(t="auto"){return At(t)?!1:typeof t=="boolean"?t:nn(t,"labelArrow",["auto","up","right","down","left"])}function zp(t){return Wt(t.domain())}function hs(t,n){if(n==null)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function V3(t,{opacity:n,...e}={}){if(!me(t)&&!Xh(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return Bp(t,e,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",kt(n)[1]).append("rect").attr("width","100%").attr("height","100%"))}function G3(t,{fill:n=t.hint?.fill!==void 0?t.hint.fill:"none",fillOpacity:e=1,stroke:r=t.hint?.stroke!==void 0?t.hint.stroke:At(n)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...f}={},c){const[s,u]=fe(n),[d,l]=fe(r),h=hs(c,s),p=hs(c,d),g=a*a*Math.PI;return e=kt(e)[1],i=kt(i)[1],o=kt(o)[1],Bp(t,f,(m,w,y,v)=>m.append("svg").attr("viewBox","-8 -8 16 16").attr("width",y).attr("height",v).attr("fill",s==="color"?b=>h.scale(b):u).attr("fill-opacity",e).attr("stroke",d==="color"?b=>p.scale(b):l).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",b=>{const $=Ya();return t.scale(b).draw($,g),$}))}function Bp(t,n={},e){let{columns:r,tickFormat:i,fontVariant:o=ep(t),swatchSize:a=15,swatchWidth:f=a,swatchHeight:c=a,marginLeft:s=0,className:u,style:d,width:l}=n;const h=gc(n);u=bc(u),i=_c(t.scale,t.domain,void 0,i);const p=St("div",h).attr("class",`${u}-swatches ${u}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`:where(.${u}-swatches-columns .${u}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${u}-swatches-columns .${u}-swatch::before) {
  flex-shrink: 0;
}
:where(.${u}-swatches-columns .${u}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${u}-swatch`).call(e,t,f,c).call(m=>m.append("div").attr("class",`${u}-swatch-label`).attr("title",i).text(i))):(g=`:where(.${u}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${u}-swatches-wrap .${u}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${u}-swatch`).call(e,t,f,c).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(m=>m.insert("style","*").text(`:where(.${u}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${u}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",s?`${+s}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",yt(o,"normal")).call(yc,d).node()}const Sf=new Map([["symbol",G3],["color",Yp],["opacity",Z3]]);function X3(t,n,e={}){return(r,i)=>{if(!Sf.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return Sf.get(r)(t[r],Wp(n,e[r],i),o=>t[o])}}function Wp({className:t,...n},{label:e,ticks:r,tickFormat:i}={},o){return Yw(o,{className:t,...n},{label:e,ticks:r,tickFormat:i})}function Yp(t,{legend:n=!0,...e}){if(n===!0&&(n=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${n}`.toLowerCase()){case"swatches":return V3(t,e);case"ramp":return J5(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function Z3({type:t,interpolate:n,...e},{legend:r=!0,color:i=Rn(0,0,0),...o}){if(!n)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return Yp({type:t,...e,interpolate:K3(i)},{legend:r,...o})}function K3(t){const{r:n,g:e,b:r}=Rn(t)||Rn(0,0,0);return i=>`rgba(${n},${e},${r},${i})`}function j3(t,n,e){const r=[];for(const[i,o]of Sf){const a=e[i];if(a?.legend&&i in t){const f=o(t[i],Wp(n,t[i],a),c=>t[c]);f!=null&&r.push(f)}}return r}function Q3(t={},n="x"){return mh(t)?t:{...t,[n]:Yt}}function J3(t,n){if(n.length===1)return{data:t,facets:n};const e=Cr(t),r=new Uint8Array(e);let i=0;for(const f of n)for(const c of f)r[c]&&++i,r[c]=1;if(i===0)return{data:t,facets:n};t=Tr(t);const o=t[uh]=new Uint32Array(e+i);n=n.map(f=>Tr(f,Uint32Array));let a=e;r.fill(0);for(const f of n)for(let c=0,s=f.length;c<s;++c){const u=f[c];r[u]?(f[c]=a,t[a]=t[u],o[a]=u,++a):o[u]=u,r[u]=1}return{data:t,facets:n}}function t7(t={},n={}){arguments.length===1&&([t,n]=e7(t));const{y1:e,y:r=e,x:i,...o}=n,[a,f,c,s]=i7(r,i,"y","x",t,o);return{...a,y1:e,y:f,x1:c,x2:s,x:Iw(c,s)}}function n7({x:t,x1:n,x2:e,...r}={}){return r=wc(r,"y"),n===void 0&&e===void 0?t7({x:t,...r}):([n,e]=Ew(t,n,e),{...r,x1:n,x2:e})}function e7(t){const{offset:n,order:e,reverse:r,...i}=t;return[{offset:n,order:e,reverse:r},i]}const r7={length:!0};function i7(t,n=Mw,e,r,{offset:i,order:o,reverse:a},f){if(n===null)throw new Error(`stack requires ${r}`);const c=Nw(f),[s,u]=Lw(t),[d,l]=mf(n),[h,p]=mf(n);return d.hint=h.hint=r7,i=o7(i),o=c7(o,i,r),[Ah(f,(g,m,w)=>{({data:g,facets:m}=J3(g,m));const y=t==null?void 0:u(Dw(zt(g,t),w?.[e])),v=zt(g,n,Float64Array),b=zt(g,c),$=o&&o(g,y,v,b),x=Cr(g),M=l(new Float64Array(x)),S=p(new Float64Array(x)),T=[];for(const k of m){const A=y?Array.from(Ds(k,E=>y[E]).values()):[k];if($)for(const E of A)E.sort($);for(const E of A){let O=0,I=0;a&&E.reverse();for(const _ of E){const D=v[_];D<0?O=S[_]=(M[_]=O)+D:D>0?I=S[_]=(M[_]=I)+D:S[_]=M[_]=I}}T.push(A)}return i&&i(T,M,S,b),{data:g,facets:m}}),s,d,h]}function o7(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return a7;case"center":case"silhouette":return f7;case"wiggle":return Gp}throw new Error(`unknown offset: ${t}`)}}function Vp(t,n){let e=0,r=0;for(const i of t){const o=n[i];o<e&&(e=o),o>r&&(r=o)}return[e,r]}function a7(t,n,e){for(const r of t)for(const i of r){const[o,a]=Vp(i,e);for(const f of i){const c=1/(a-o||1);n[f]=c*(n[f]-o),e[f]=c*(e[f]-o)}}}function f7(t,n,e){for(const r of t){for(const i of r){const[o,a]=Vp(i,e);for(const f of i){const c=(a+o)/2;n[f]-=c,e[f]-=c}}Xp(r,n,e)}Zp(t,n,e)}function Gp(t,n,e,r){for(const i of t){const o=new jn;let a=0;for(const f of i){let c=-1;const s=f.map(h=>Math.abs(e[h]-n[h])),u=f.map(h=>{c=r?r[h]:++c;const p=e[h]-n[h],g=o.has(c)?p-o.get(c):0;return o.set(c,p),g}),d=[0,...b1(u)];for(const h of f)n[h]+=a,e[h]+=a;const l=Qn(s);l&&(a-=Qn(s,(h,p)=>(u[p]/2+d[p])*h)/l)}Xp(i,n,e)}Zp(t,n,e)}function Xp(t,n,e){const r=Tn(t,i=>Tn(i,o=>n[o]));for(const i of t)for(const o of i)n[o]-=r,e[o]-=r}function Zp(t,n,e){const r=t.length;if(r===1)return;const i=t.map(f=>f.flat()),o=i.map(f=>(Tn(f,c=>n[c])+Kt(f,c=>e[c]))/2),a=Tn(o);for(let f=0;f<r;f++){const c=a-o[f];for(const s of i[f])n[s]+=c,e[s]+=c}}function c7(t,n,e){if(t===void 0&&n===Gp)return ps(sn);if(t!=null){if(typeof t=="string"){const r=t.startsWith("-"),i=r?fo:sn;switch((r?t.slice(1):t).toLowerCase()){case"value":case e:return u7(i);case"z":return s7(i);case"sum":return l7(i);case"appearance":return d7(i);case"inside-out":return ps(i)}return gs(sh(t))}if(typeof t=="function")return(t.length===1?gs:h7)(t);if(de(t))return p7(t);throw new Error(`invalid order: ${t}`)}}function u7(t){return(n,e,r)=>(i,o)=>t(r[i],r[o])}function s7(t){return(n,e,r,i)=>(o,a)=>t(i[o],i[a])}function l7(t){return zo(t,(n,e,r,i)=>Cf(qn(n),o=>Qn(o,a=>r[a]),o=>i[o]))}function d7(t){return zo(t,(n,e,r,i)=>Cf(qn(n),o=>e[Os(o,a=>r[a])],o=>i[o]))}function ps(t){return zo(t,(n,e,r,i)=>{const o=qn(n),a=Cf(o,d=>e[Os(d,l=>r[l])],d=>i[d]),f=lr(o,d=>Qn(d,l=>r[l]),d=>i[d]),c=[],s=[];let u=0;for(const d of a)u<0?(u+=f.get(d),c.push(d)):(u-=f.get(d),s.push(d));return s.reverse().concat(c)})}function gs(t){return n=>{const e=zt(n,t);return(r,i)=>sn(e[r],e[i])}}function h7(t){return n=>de(n)?(e,r)=>t(n[e],n[r]):(e,r)=>t(n.get(e),n.get(r))}function p7(t){return zo(sn,()=>t)}function zo(t,n){return(e,r,i,o)=>{if(!o)throw new Error("missing channel: z");const a=new jn(n(e,r,i,o).map((f,c)=>[f,c]));return(f,c)=>t(a.get(o[f]),a.get(o[c]))}}function Kp(t,{inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={}){t.insetTop=Mt(e),t.insetRight=Mt(r),t.insetBottom=Mt(i),t.insetLeft=Mt(o)}function jp(t,{r:n,rx:e,ry:r,rx1:i=n,ry1:o=n,rx2:a=n,ry2:f=n,rx1y1:c=i!==void 0?+i:o!==void 0?+o:0,rx1y2:s=i!==void 0?+i:f!==void 0?+f:0,rx2y1:u=a!==void 0?+a:o!==void 0?+o:0,rx2y2:d=a!==void 0?+a:f!==void 0?+f:0}={}){c||s||u||d?(t.rx1y1=c,t.rx1y2=s,t.rx2y1=u,t.rx2y2=d):(t.rx=yt(e,"auto"),t.ry=yt(r,"auto"))}function Qp(t,n,e,r,i,o){const{rx1y1:a,rx1y2:f,rx2y1:c,rx2y2:s}=o;typeof n!="function"&&(n=Sn(n)),typeof e!="function"&&(e=Sn(e)),typeof r!="function"&&(r=Sn(r)),typeof i!="function"&&(i=Sn(i));const u=Math.max(Math.abs(a+c),Math.abs(f+s)),d=Math.max(Math.abs(a+f),Math.abs(c+s));t.attr("d",l=>{const h=n(l),p=e(l),g=r(l),m=i(l),w=h>g,y=p>m,v=w?g:h,b=w?h:g,$=y?m:p,x=y?p:m,M=Math.min(1,(b-v)/u,(x-$)/d),S=M*(w?y?s:c:y?f:a),T=M*(w?y?f:a:y?s:c),k=M*(w?y?a:f:y?c:s),A=M*(w?y?c:s:y?a:f);return`M${v},${$+vi(S,A)}A${S},${S} 0 0 ${S<0?0:1} ${v+wi(S,A)},${$}H${b-wi(T,k)}A${T},${T} 0 0 ${T<0?0:1} ${b},${$+vi(T,k)}V${x-vi(k,T)}A${k},${k} 0 0 ${k<0?0:1} ${b-wi(k,T)},${x}H${v+wi(A,S)}A${A},${A} 0 0 ${A<0?0:1} ${v},${x-vi(A,S)}Z`})}function wi(t,n){return n<0?t:Math.abs(t)}function vi(t,n){return n<0?Math.abs(t):t}const g7={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},m7={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class b7 extends pn{constructor(n={}){const{anchor:e=null}=n;super(Ei,void 0,n,e==null?g7:m7),this.anchor=ph(e,"anchor",["top","right","bottom","left"]),Kp(this,n),e||jp(this,n)}render(n,e,r,i,o){const{marginTop:a,marginRight:f,marginBottom:c,marginLeft:s,width:u,height:d}=i,{anchor:l,insetTop:h,insetRight:p,insetBottom:g,insetLeft:m}=this,{rx:w,ry:y,rx1y1:v,rx1y2:b,rx2y1:$,rx2y2:x}=this,M=s+m,S=u-f-p,T=a+h,k=d-c-g;return St(l?"svg:line":v||b||$||x?"svg:path":"svg:rect",o).datum(0).call(be,this,i,o).call(Fn,this).call(ce,this,r).call(ye,this,{}).call(l==="left"?A=>A.attr("x1",M).attr("x2",M).attr("y1",T).attr("y2",k):l==="right"?A=>A.attr("x1",S).attr("x2",S).attr("y1",T).attr("y2",k):l==="top"?A=>A.attr("x1",M).attr("x2",S).attr("y1",T).attr("y2",T):l==="bottom"?A=>A.attr("x1",M).attr("x2",S).attr("y1",k).attr("y2",k):v||b||$||x?A=>A.call(Qp,M,T,S,k,this):A=>A.attr("x",M).attr("y",T).attr("width",S-M).attr("height",k-T).attr("rx",w).attr("ry",y)).node()}}function y7(t){return new b7(t)}const _a={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},w7=new Set(["geometry","href","src","ariaLabel","scales"]);class v7 extends pn{constructor(n,e={}){e.tip&&(e={...e,tip:!1}),e.title===void 0&&ge(n)&&wh(n)&&(e={...e,title:Yt});const{x:r,y:i,x1:o,x2:a,y1:f,y2:c,anchor:s,preferredAnchor:u="bottom",monospace:d,fontFamily:l=d?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:p,fontVariant:g,fontWeight:m,lineHeight:w=1,lineWidth:y=20,frameAnchor:v,format:b,textAnchor:$="start",textOverflow:x,textPadding:M=8,title:S,pointerSize:T=12,pathFilter:k="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(n,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&c!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:f,scale:"y",optional:c==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:c,scale:"y",optional:f==null},title:{value:S,optional:!0}},e,_a),this.anchor=bf(s,"anchor"),this.preferredAnchor=bf(u,"preferredAnchor"),this.frameAnchor=cc(v),this.textAnchor=yt($,"middle"),this.textPadding=+M,this.pointerSize=+T,this.pathFilter=vt(k),this.lineHeight=+w,this.lineWidth=+y,this.textOverflow=bp(x),this.monospace=!!d,this.fontFamily=vt(l),this.fontSize=Mt(h),this.fontStyle=vt(p),this.fontVariant=vt(g),this.fontWeight=vt(m);for(const A in _a)A in this.channels&&(this[A]=_a[A]);this.splitLines=wp(this),this.clipLine=vp(this),this.format=typeof b=="string"||typeof b=="function"?{title:b}:{...b}}render(n,e,r,i,o){const a=this,{x:f,y:c,fx:s,fy:u}=e,{ownerSVGElement:d,document:l}=o,{anchor:h,monospace:p,lineHeight:g,lineWidth:m}=this,{textPadding:w,pointerSize:y,pathFilter:v}=this,{marginTop:b,marginLeft:$}=i,{x1:x,y1:M,x2:S,y2:T,x:k=x??S,y:A=M??T}=r,E=s?s(n.fx)-$:0,O=u?u(n.fy)-b:0,[I,_]=qo(this,i),D=tp(r,I),W=np(r,_),B=p?$c:Mc,L=B(Ae);let R,U;"title"in r?(R=ms.call(this,{title:r.channels.title},e),U=S7):(R=ms.call(this,r.channels,e),U=T7);const H=St("svg:g",o).call(be,this,i,o).call(yp,this).call(ye,this,{x:k&&f,y:A&&c}).call(J=>J.selectAll().data(n).enter().append("g").attr("transform",tt=>`translate(${Math.round(D(tt))},${Math.round(W(tt))})`).call(Fn,this).call(tt=>tt.append("path").attr("filter",v)).call(tt=>tt.append("text").each(function(P){const et=Yn(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const N=U.call(a,P,n,R,e,r);if(typeof N=="string")for(const F of a.splitLines(N))q(et,{value:a.clipLine(F)});else{const F=new Set;for(const z of N){const{label:C=""}=z;C&&F.has(C)||(F.add(C),q(et,z))}}})));function q(J,{label:tt,value:P,color:et,opacity:N}){tt??="",P??="";const F=et!=null||N!=null;let z,C=m*100;const[ot]=Ue(tt,C,B,L);if(ot>=0)tt=tt.slice(0,ot).trimEnd()+Ae,z=P.trim(),P="";else{(tt||!P&&!F)&&(P=" "+P);const[ft]=Ue(P,C-B(tt),B,L);ft>=0&&(z=P.trim(),P=P.slice(0,ft).trimEnd()+Ae)}const Y=J.append("tspan").attr("x",0).attr("dy",`${g}em`).text("");tt&&Y.append("tspan").attr("font-weight","bold").text(tt),P&&Y.append(()=>l.createTextNode(P)),F&&Y.append("tspan").text(" ").attr("fill",et).attr("fill-opacity",N).style("user-select","none"),z&&Y.append("title").text(z)}function j(){const{width:J,height:tt}=i.facet??i;H.selectChildren().each(function(P){let{x:et,width:N,height:F}=this.getBBox();N=Math.round(N),F=Math.round(F);let z=h;if(z===void 0){const Y=D(P)+E,ft=W(P)+O,lt=Y+N+y+w*2<J,Nt=Y-N-y-w*2>0,we=ft+F+y+w*2<tt,Xe=ft-F-y-w*2>0;z=lt&&Nt?we&&Xe?a.preferredAnchor:Xe?"bottom":"top":we&&Xe?lt?"left":"right":(lt||Nt)&&(we||Xe)?`${Xe?"bottom":"top"}-${lt?"left":"right"}`:a.preferredAnchor}const C=this.firstChild,ot=this.lastChild;if(C.setAttribute("d",_7(z,y,w,N,F)),et)for(const Y of ot.childNodes)Y.setAttribute("x",-et);ot.setAttribute("y",`${+M7(z,ot.childNodes.length,g).toFixed(6)}em`),ot.setAttribute("transform",`translate(${$7(z,y,w,N,F)})`)}),H.attr("visibility",null)}return n.length&&(H.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(j):typeof requestAnimationFrame<"u"&&requestAnimationFrame(j)),H.node()}}function x7(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=bh(n,e)),new v7(t,{...r,x:n,y:e})}function M7(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}function $7(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}function _7(t,n,e,r,i){const o=r+e*2,a=i+e*2;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${n},${n}h${o-n}v${a}h${-o}z`;case"top":return`M0,0l${n/2},${n/2}h${(o-n)/2}v${a}h${-o}v${-a}h${(o-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-o}v${a}h${o}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-a/2}h${-o}v${a}h${o}v${n/2-a/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${o-n}v${-a}h${-o}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(o-n)/2}v${-a}h${-o}v${a}h${(o-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-o}v${-a}h${o}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-a/2}h${o}v${a}h${-o}v${n/2-a/2}z`}}function ms(t,n){const e={};let r=this.format;r=bs(r,t,"x"),r=bs(r,t,"y"),this.format=r;for(const i in r){const o=r[i];if(!(o===null||o===!1))if(i==="fx"||i==="fy")e[i]=!0;else{const a=Bu(t,i);a&&(e[i]=a)}}for(const i in t){if(i in e||i in r||w7.has(i)||(i==="x"||i==="y")&&t.geometry)continue;const o=Bu(t,i);if(o){if(o.scale==null&&o.defaultScale==="color")continue;e[i]=o}}this.facet&&(n.fx&&!("fx"in r)&&(e.fx=!0),n.fy&&!("fy"in r)&&(e.fy=!0));for(const i in e){const o=this.format[i];if(typeof o=="string"){const a=e[i]?.value??n[i]?.domain()??[];this.format[i]=(Wt(a)?Gr:Be)(o)}else if(o===void 0||o===!0){const a=n[i];this.format[i]=a?.bandwidth?_c(a,a.domain()):Lr}}return e}function bs(t,n,e){if(!(e in t))return t;const r=`${e}1`,i=`${e}2`;if((r in t||!(r in n))&&(i in t||!(i in n)))return t;const o=Object.entries(t),a=t[e];return o.splice(o.findIndex(([f])=>f===e)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function S7(t,n,{title:e}){return this.format.title(e.value[t],t)}function*T7(t,n,e,r,i){for(const o in e){if(o==="fx"||o==="fy"){yield{label:uo(r,e,o),value:this.format[o](n[o],t)};continue}if(o==="x1"&&"x2"in e||o==="y1"&&"y2"in e)continue;const a=e[o];if(o==="x2"&&"x1"in e)yield{label:ws(r,e,"x"),value:ys(this.format.x2,e.x1,a,t)};else if(o==="y2"&&"y1"in e)yield{label:ws(r,e,"y"),value:ys(this.format.y2,e.y1,a,t)};else{const f=a.value[t],c=a.scale;if(!ae(f)&&c==null)continue;yield{label:uo(r,e,o),value:this.format[o](f,t),color:c==="color"?i[o][t]:null,opacity:c==="opacity"?i[o][t]:null}}}}function ys(t,n,e,r){return e.hint?.length?`${t(e.value[r]-n.value[r],r)}`:`${t(n.value[r],r)}${t(e.value[r],r)}`}function ws(t,n,e){const r=uo(t,n,`${e}1`,e),i=uo(t,n,`${e}2`,e);return r===i?r:`${r}${i}`}function uo(t,n,e,r=e){const i=n[e],o=t[i?.scale??e];return String(o?.label??i?.label??r)}function ri(t={}){const{facet:n,style:e,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:f}=t,c=bc(t.className),s=t.marks===void 0?[]:xs(t.marks);s.push(...I7(s));const u=k7(n,t),d=new Map;for(const L of s){const R=Ms(L,u,t);R&&d.set(L,R)}const l=new Map;u&&nr(l,[u],t),nr(l,d,t);const h=xs(D7(s,l,t));for(const L of h){const R=Ms(L,u,t);R&&d.set(L,R)}s.unshift(...h);let p=c5(l,t);if(p!==void 0){const L=u?wa(p,u):void 0;for(const U of s){if(U.facet===null||U.facet==="super")continue;const H=d.get(U);H!==void 0&&(H.facetsIndex=U.fx!=null||U.fy!=null?wa(p,H):L)}const R=new Set;for(const{facetsIndex:U}of d.values())U?.forEach((H,q)=>{H?.length>0&&R.add(q)});p.forEach(0<R.size&&R.size<p.length?(U,H)=>U.empty=!R.has(H):U=>U.empty=!1);for(const U of s)if(U.facet==="exclude"){const H=d.get(U);H!==void 0&&(H.facetsIndex=l5(H.facetsIndex))}}for(const L of st.keys())gf(t[L])&&L!=="fx"&&L!=="fy"&&l.set(L,[]);const g=new Map;for(const L of s){if(g.has(L))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:R,channels:U}=d.get(L)??{},{data:H,facets:q,channels:j}=L.initialize(R,U,t);Sc(j,t),g.set(L,{data:H,facets:q,channels:j})}const m=xf(nr(l,g,t),t),w=Z5(m,s,t);Q8(m,w);const y=ju(m),{fx:v,fy:b}=y,$=v||b?Yh(m,w):w,x=v||b?H7(y,w):w,M=gc(t),S=M.document,T=go("svg").call(S.documentElement);let k=T;M.ownerSVGElement=T,M.className=c,M.projection=v5(t,$),M.path=function(){return zf(this.projection??A5(y))},M.filterFacets=(L,R)=>wa(p,{channels:R,groups:pc(L,R)}),M.getMarkState=L=>{const R=g.get(L),U=d.get(L);return{...R,channels:{...R.channels,...U?.channels}}},M.dispatchValue=L=>{k.value!==L&&(k.value=L,k.dispatchEvent(new M.document.defaultView.Event("input",{bubbles:!0})))};const A=new Set;for(const[L,R]of g)if(L.initializer!=null){const U=L.facet==="super"?x:$,H=L.initializer(R.data,R.facets,R.channels,y,U,M);if(H.data!==void 0&&(R.data=H.data),H.facets!==void 0&&(R.facets=H.facets),H.channels!==void 0){const{fx:q,fy:j,...J}=H.channels;N7(J),Object.assign(R.channels,J);for(const tt of Object.values(J)){const{scale:P}=tt;P!=null&&!Xw(st.get(P))&&(Jp(tt,t),A.add(P))}(q!=null||j!=null)&&d.set(L,!0)}}if(A.size){const L=new Map;nr(L,g,t,q=>A.has(q)),nr(l,g,t,q=>A.has(q));const R=U7(xf(L,t),m),{scales:U,...H}=ju(R);Object.assign(m,R),Object.assign(y,H),Object.assign(y.scales,U)}let E,O;p!==void 0&&(E={x:v?.domain(),y:b?.domain()},p=u5(p,E),O=s5(v,b,w));for(const[L,R]of g)R.values=L.scale(R.channels,y,M);const{width:I,height:_}=w;Yn(T).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",I).attr("height",_).attr("viewBox",`0 0 ${I} ${_}`).attr("aria-label",a).attr("aria-description",f).call(L=>L.append("style").text(`:where(.${c}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${c} text),
:where(.${c} tspan) {
  white-space: pre;
}`)).call(yc,e);for(const L of s){const{channels:R,values:U,facets:H}=g.get(L);if(p===void 0||L.facet==="super"){let q=null;if(H&&(q=H[0],q=L.filter(q,R,U),q.length===0))continue;const j=L.render(q,y,U,x,M);if(j==null)continue;T.appendChild(j)}else{let q;for(const j of p){if(!(L.facetAnchor?.(p,E,j)??!j.empty))continue;let J=null;if(H){const P=d.has(L);if(J=H[P?j.i:0],J=L.filter(J,R,U),J.length===0)continue;!P&&J===H[0]&&(J=kw(J)),J.fx=j.x,J.fy=j.y,J.fi=j.i}const tt=L.render(J,y,U,$,M);if(tt!=null){(q??=Yn(T).append("g")).append(()=>tt).datum(j);for(const P of["aria-label","aria-description","aria-hidden","transform"])tt.hasAttribute(P)&&(q.attr(P,tt.getAttribute(P)),tt.removeAttribute(P))}}q?.selectChildren().each(O)}}const D=j3(m,M,t),{figure:W=r!=null||i!=null||o!=null||D.length>0}=t;W&&(k=S.createElement("figure"),k.className=`${c}-figure`,k.style.maxWidth="initial",r!=null&&k.append(vs(S,r,"h2")),i!=null&&k.append(vs(S,i,"h3")),k.append(...D,T),o!=null&&k.append(A7(S,o)),"value"in T&&(k.value=T.value,delete T.value)),k.scale=a5(y.scales),k.legend=X3(m,M,t);const B=R8();return B>0&&Yn(T).append("text").attr("x",I).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${B.toLocaleString("en-US")} warning${B===1?"":"s"}. Please check the console.`),k}function vs(t,n,e){if(n.ownerDocument)return n;const r=t.createElement(e);return r.append(n),r}function A7(t,n){const e=t.createElement("figcaption");return e.append(n),e}function xs(t){return t.flat(1/0).filter(n=>n!=null).map(C7)}function C7(t){return typeof t.render=="function"?t:new E7(t)}class E7 extends pn{constructor(n){if(typeof n!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=n}render(){}}function Sc(t,n){for(const e in t)Jp(t[e],n);return t}function Jp(t,n){const{scale:e,transform:r=!0}=t;if(e==null||!r)return;const{type:i,percent:o,interval:a,transform:f=o?c=>c==null?NaN:c*100:yh(a,i)}=n[e]??{};f!=null&&(t.value=dt(t.value,f),t.transform=!1)}function N7(t){for(const n in t)kh(n,t[n])}function nr(t,n,e,r=$w){for(const{channels:i}of n.values())for(const o in i){const a=i[o],{scale:f}=a;if(f!=null&&r(f))if(f==="projection"){if(!_5(e)){const c=e.x?.domain===void 0,s=e.y?.domain===void 0;if(c||s){const[u,d]=T5(a);c&&Sa(t,"x",u),s&&Sa(t,"y",d)}}}else Sa(t,f,a)}return t}function Sa(t,n,e){const r=t.get(n);r!==void 0?r.push(e):t.set(n,[e])}function k7(t,n){if(t==null)return;const{x:e,y:r}=t;if(e==null&&r==null)return;const i=Pe(t.data);if(i==null)throw new Error("missing facet data");const o={};e!=null&&(o.fx=Nr(i,{value:e,scale:"fx"})),r!=null&&(o.fy=Nr(i,{value:r,scale:"fy"})),Sc(o,n);const a=pc(i,o);return{channels:o,groups:a,data:t.data}}function Ms(t,n,e){if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const c=Pe(t.data??r??i);if(c===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(c===null)return;const s={};return r!=null&&(s.fx=Nr(c,{value:r,scale:"fx"})),i!=null&&(s.fy=Nr(c,{value:i,scale:"fy"})),Sc(s,e),{channels:s,groups:pc(c,s)}}if(n===void 0)return;const{channels:o,groups:a,data:f}=n;if(t.facet!=="auto"||t.data===f)return{channels:o,groups:a};f.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&Cr(Pe(t.data))===Cr(f)&&Zn(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function L7(t,n={}){return co({...n,x:null,y:null},(e,r,i,o,a,f)=>f.getMarkState(t))}function I7(t){const n=[];for(const e of t){let r=e.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:o}=r;i=/^x$/i.test(i)?Q5:/^y$/i.test(i)?as:j5,r=i(L7(e,r)),r.title=null,o===void 0&&(r.preferredAnchor=i===as?"left":"bottom");const a=x7(e.data,r);a.facet=e.facet,a.facetAnchor=e.facetAnchor,n.push(a)}}return n}function D7(t,n,e){let{projection:r,x:i={},y:o={},fx:a={},fy:f={},axis:c,grid:s,facet:u={},facet:{axis:d=c,grid:l}=u,x:{axis:h=c,grid:p=h===null?null:s}=i,y:{axis:g=c,grid:m=g===null?null:s}=o,fx:{axis:w=d,grid:y=w===null?null:l}=a,fy:{axis:v=d,grid:b=v===null?null:l}=f}=e;(r||!gf(i)&&!$s("x",t))&&(h=p=null),(r||!gf(o)&&!$s("y",t))&&(g=m=null),n.has("fx")||(w=y=null),n.has("fy")||(v=b=null),h===void 0&&(h=!$i(t,"x")),g===void 0&&(g=!$i(t,"y")),w===void 0&&(w=!$i(t,"fx")),v===void 0&&(v=!$i(t,"fy")),h===!0&&(h="bottom"),g===!0&&(g="left"),w===!0&&(w=h==="top"||h===null?"bottom":"top"),v===!0&&(v=g==="right"||g===null?"left":"right");const $=[];return Mi($,b,P3,f),xi($,v,k3,"right","left",u,f),Mi($,y,U3,a),xi($,w,L3,"top","bottom",u,a),Mi($,m,O3,o),xi($,g,Np,"left","right",e,o),Mi($,p,q3,i),xi($,h,kp,"bottom","top",e,i),$}function xi(t,n,e,r,i,o,a){if(!n)return;const f=R7(n);a=F7(f?r:n,o,a);const{line:c}=a;(e===Np||e===kp)&&c&&!Er(c)&&t.push(y7(O7(a))),t.push(e(a)),f&&t.push(e({...a,anchor:i,label:null}))}function Mi(t,n,e,r){!n||Er(n)||t.push(e(P7(n,r)))}function R7(t){return/^\s*both\s*$/i.test(t)}function F7(t,n,{line:e=n.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:c,fontVariant:s,ariaLabel:u,ariaDescription:d,label:l=n.label,labelAnchor:h,labelArrow:p=n.labelArrow,labelOffset:g}){return{anchor:t,line:e,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:c,fontVariant:s,ariaLabel:u,ariaDescription:d,label:l,labelAnchor:h,labelArrow:p,labelOffset:g}}function O7(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:e===!0?void 0:e}}function P7(t,{stroke:n=Do(t)?t:void 0,ticks:e=q7(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:n,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function q7(t){switch(typeof t){case"number":return!0;case"string":return!Do(t)}return ge(t)||typeof t?.range=="function"}function $i(t,n){const e=`${n}-axis `;return t.some(r=>r.ariaLabel?.startsWith(e))}function $s(t,n){for(const e of n)for(const r in e.channels){const{scale:i}=e.channels[r];if(i===t||i==="projection")return!0}return!1}function U7(t,n){for(const e in t){const r=t[e],i=n[e];r.label===void 0&&i&&(r.label=i.label)}return t}function H7({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:c}=hc(e),s=t&&_s(t),u=n&&_s(n);return{marginTop:n?u[0]:r,marginRight:t?f-s[1]:i,marginBottom:n?c-u[1]:o,marginLeft:t?s[0]:a,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:f,height:c}}function _s(t){const n=t.domain();if(n.length===0)return[0,t.bandwidth()];let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}const z7={ariaLabel:"bar"};class B7 extends pn{constructor(n,e,r={},i=z7){super(n,e,r,i),Kp(this,r),jp(this,r)}render(n,e,r,i,o){const{rx:a,ry:f,rx1y1:c,rx1y2:s,rx2y1:u,rx2y2:d}=this,l=this._x(e,r,i),h=this._y(e,r,i),p=this._width(e,r,i),g=this._height(e,r,i);return St("svg:g",o).call(be,this,i,o).call(this._transform,this,e).call(m=>m.selectAll().data(n).enter().call(c||s||u||d?w=>w.append("path").call(Fn,this).call(Qp,l,h,Ss(l,p),Ss(h,g),this).call(ce,this,r):w=>w.append("rect").call(Fn,this).attr("x",l).attr("width",p).attr("y",h).attr("height",g).call(Q,"rx",a).call(Q,"ry",f).call(ce,this,r))).node()}_x(n,{x:e},{marginLeft:r}){const{insetLeft:i}=this;return e?o=>e[o]+i:r+i}_y(n,{y:e},{marginTop:r}){const{insetTop:i}=this;return e?o=>e[o]+i:r+i}_width({x:n},{x:e},{marginRight:r,marginLeft:i,width:o}){const{insetLeft:a,insetRight:f}=this,c=e&&n?n.bandwidth():o-r-i;return Math.max(0,c-a-f)}_height({y:n},{y:e},{marginTop:r,marginBottom:i,height:o}){const{insetTop:a,insetBottom:f}=this,c=e&&n?n.bandwidth():o-r-i;return Math.max(0,c-a-f)}}function Ss(t,n){return typeof t=="function"&&typeof n=="function"?e=>t(e)+n(e):typeof t=="function"?e=>t(e)+n:typeof n=="function"?e=>t+n(e):t+n}class W7 extends B7{constructor(n,e={},r){const{x1:i,x2:o,y:a}=e;super(n,{x1:{value:i,scale:"x"},x2:{value:o,scale:"x"},y:{value:a,scale:"y",type:"band",optional:!0}},e,r)}_transform(n,e,{x:r}){n.call(ye,e,{x:r},0,0)}_x({x:n},{x1:e,x2:r},{marginLeft:i}){const{insetLeft:o}=this;return qe(n)?i+o:a=>Math.min(e[a],r[a])+o}_width({x:n},{x1:e,x2:r},{marginRight:i,marginLeft:o,width:a}){const{insetLeft:f,insetRight:c}=this;return qe(n)?a-i-o-f-c:s=>Math.max(0,Math.abs(r[s]-e[s])-f-c)}}function Bo(t,n={}){return Cw(n)||(n={...n,y:lh,x2:Yt}),new W7(t,n7(dp(Q3(n))))}pn.prototype.plot=function({marks:t=[],...n}={}){return ri({...n,marks:[...t,this]})};const He=["#4e79a7","#f28e2b","#e15759","#76b7b2","#59a14f","#edc948","#b07aa1","#ff9da7","#9c755f","#bab0ab"],Y7="#666",V7="#bbb",Ge=10,Ts=40;function t1(t){return t.n<Ge?V7:Y7}function G7(t){return t=String(t),t.length<=Ts?t:t.slice(0,Ts-1).trimEnd()+""}function Wo(t,n,e){const r={};for(const f of t)r[f]=G7(f);const i=t.map(f=>r[f]);for(const f of n){const c=f[e];c in r?(f.fullLabel=c,f[e]=r[c]):f.fullLabel=c}const o=Math.max(...i.map(f=>f.length)),a=Math.min(300,Math.max(100,o*6.5+12));return{shortLabels:i,marginLeft:a}}function n1(t){const n={};for(let e=0;e<t.length;e++)n[t[e]]=He[e%He.length];return n}function Yo(t){return t.style.maxWidth="none",t}function e1(t,n,e){if(t.length===0)return document.createElement("div");const{shortLabels:r,marginLeft:i}=Wo(n,t,"answer"),a=e.length===1?Math.max(500,i+250):Math.max(250,i+180),f=Math.max(120,r.length*28+50),c=document.createElement("div");c.className="chart-facets";const s=n1(e);for(const u of e){const d=t.filter(h=>h.group===u),l=document.createElement("div");l.className="chart-facet-panel",l.appendChild(Yo(ri({marginLeft:i,marginRight:30,width:a,height:f,x:{domain:[0,100],label:"%",tickFormat:h=>`${h}`},y:{domain:r,label:null},marks:[Bo(d,{y:"answer",x:"pct",fill:s[u],fillOpacity:h=>h.n<Ge?.35:1,tip:{format:{x:!1,y:!1,fill:!1,fillOpacity:!1},channels:{Group:"fullGroup",Value:"fullLabel","%":h=>`${h.pct}%`,Count:"count",n:"n"}}}),Uo(d,{y:"answer",x:"pct",text:h=>h.count>0?`${h.count}`:"",dx:4,textAnchor:"start",fontSize:10,fill:t1}),ei([0])]}))),c.appendChild(l)}return c}function X7(t,n,e){if(t.length===0)return document.createElement("div");const{shortLabels:r,marginLeft:i}=Wo(n,t,"option"),a=e.length===1?Math.max(500,i+250):Math.max(250,i+180),f=Math.max(120,r.length*28+50),c=document.createElement("div");c.className="chart-facets";const s=n1(e);for(const u of e){const d=t.filter(h=>h.group===u),l=document.createElement("div");l.className="chart-facet-panel",l.appendChild(Yo(ri({marginLeft:i,marginRight:30,width:a,height:f,x:{domain:[0,100],label:"%",tickFormat:h=>`${h}`},y:{domain:r,label:null},marks:[Bo(d,{y:"option",x:"pct",fill:s[u],fillOpacity:h=>h.n<Ge?.35:1,tip:{format:{x:!1,y:!1,fill:!1,fillOpacity:!1},channels:{Group:"fullGroup",Value:"fullLabel","%":h=>`${h.pct}%`,Count:"count",n:"n"}}}),Uo(d,{y:"option",x:"pct",text:h=>h.count>0?`${h.count}`:"",dx:4,textAnchor:"start",fontSize:10,fill:t1}),ei([0])]}))),c.appendChild(l)}return c}function Z7(t,n){const e=document.createElement("div");e.className="overlay-legend";for(let r=0;r<t.length;r++){const i=n[r],o=i<Ge,a=document.createElement("span");a.className="legend-item"+(o?" low-n":"");const f=document.createElement("span");f.className="legend-swatch",f.style.background=He[r%He.length],o&&(f.style.opacity="0.35"),a.appendChild(f),a.appendChild(document.createTextNode(`${t[r]}  n=${i}`)),e.appendChild(a)}return e}function r1(t,n,e){const r=new Map;for(const o of t){const a=o[e];r.has(a)||r.set(a,[]),r.get(a).push(o)}for(const o of t)for(const a of r.get(o[e]))o[`_g_${a.group}`]=`${a.count} (${a.pct}%)`;const i={};for(const o of n)i[o]=`_g_${o}`;return i}function i1(t,n,e){if(t.length===0)return document.createElement("div");const{shortLabels:r,marginLeft:i}=Wo(n,t,"answer"),o=Math.max(600,i+350),a=Math.max(150,r.length*e.length*18+60),f=r1(t,e,"answer"),c=document.createElement("div");return c.appendChild(Yo(ri({marginLeft:i,marginRight:30,width:o,height:a,x:{domain:[0,100],label:"%",tickFormat:s=>`${s}`},fy:{domain:r,label:null,padding:.12},y:{domain:e,axis:null,padding:.08},color:{domain:e,range:He.slice(0,e.length)},marks:[Bo(t,{fy:"answer",y:"group",x:"pct",fill:"group",fillOpacity:s=>s.n<Ge?.3:1,tip:{format:{fy:!1,y:!1,x:!1,fill:!1},channels:f}}),ei([0])]}))),c}function K7(t,n,e){if(t.length===0)return document.createElement("div");const{shortLabels:r,marginLeft:i}=Wo(n,t,"option"),o=Math.max(600,i+350),a=Math.max(150,r.length*e.length*18+60),f=r1(t,e,"option"),c=document.createElement("div");return c.appendChild(Yo(ri({marginLeft:i,marginRight:30,width:o,height:a,x:{domain:[0,100],label:"%",tickFormat:s=>`${s}`},fy:{domain:r,label:null,padding:.12},y:{domain:e,axis:null,padding:.08},color:{domain:e,range:He.slice(0,e.length)},marks:[Bo(t,{fy:"option",y:"group",x:"pct",fill:"group",fillOpacity:s=>s.n<Ge?.3:1,tip:{format:{fy:!1,y:!1,x:!1,fill:!1},channels:f}}),ei([0])]}))),c}let _t=null,Zt="_none",Tt="faceted",Ir=!1;const j7=10;async function Q7(){_t=await(await fetch("survey_data.json")).json();const n=new URLSearchParams(window.location.search),e=n.get("groupby");e&&_t.questions[e]&&(Zt=e),n.get("view")==="overlay"&&(Tt="overlay"),n.get("hidelow")==="1"&&(Ir=!0),t4(),so(),br(),o1()}function J7(t,n){return t.length>n?t.slice(0,n-1)+"":t}function t4(){const t=document.getElementById("groupby-select");t.innerHTML="";const n=document.createElement("option");n.value="_none",n.textContent="(No grouping  all respondents)",Zt==="_none"&&(n.selected=!0),t.appendChild(n);for(const e of _t.groupableQuestions){const r=_t.questions[e];if(!r)continue;const i=document.createElement("option");i.value=e;const o=r.type==="multiselect"?" (multiselect groups)":r.type==="matrix_item"?" (matrix)":"";i.textContent=`${e}: ${J7(r.label,70)}${o}`,e===Zt&&(i.selected=!0),t.appendChild(i)}t.addEventListener("change",e=>{Zt=e.target.value,Zt==="_none"&&(Tt="faceted"),mr(),As(),so(),br()}),As()}function As(){const t=document.getElementById("groupby-description");if(Zt==="_none"){t.textContent="Showing overall distributions (no grouping)";return}const n=_t.questions[Zt];if(!n){t.textContent="";return}n.matrixStem?t.textContent=`${n.matrixStem} [${n.shortLabel||n.label}]`:t.textContent=n.label}function so(){const t=document.getElementById("view-toggle");t.innerHTML="";const n=document.createElement("button");n.textContent="Side by side",n.className=Tt==="faceted"?"active":"",n.addEventListener("click",()=>{Tt!=="faceted"&&(Tt="faceted",so(),mr(),br())});const e=document.createElement("button");e.textContent="Overlay",e.className=Tt==="overlay"?"active":"",e.addEventListener("click",()=>{Tt!=="overlay"&&(Tt="overlay",so(),mr(),br())}),t.appendChild(n),t.appendChild(e);const r=document.createElement("label");r.className="hide-low-n";const i=document.createElement("input");i.type="checkbox",i.checked=Ir,i.addEventListener("change",()=>{Ir=i.checked,mr(),br()}),r.appendChild(i),r.appendChild(document.createTextNode(" Hide n < 10")),t.appendChild(r),t.style.display=Zt==="_none"?"none":"flex"}function mr(t){const n=new URL(window.location.href);n.searchParams.set("groupby",Zt),Tt!=="faceted"?n.searchParams.set("view",Tt):n.searchParams.delete("view"),Ir?n.searchParams.set("hidelow","1"):n.searchParams.delete("hidelow"),t!==void 0&&(n.hash=t),history.replaceState(null,"",n)}let Ta=null;function o1(){const t=new IntersectionObserver(n=>{for(const e of n)e.isIntersecting&&(Ta&&clearTimeout(Ta),Ta=setTimeout(()=>{mr(e.target.id)},150))},{rootMargin:"-20% 0px -70% 0px"});document.querySelectorAll(".chart-section").forEach(n=>{t.observe(n)})}function n4(t,n=35){return t.length>n?t.slice(0,n-1).trimEnd()+"":t}function br(){const t=document.getElementById("charts-container");t.innerHTML="";const n=a1(_t,Zt);if(n.groupLabels.length===0){t.innerHTML="<p>No groups found for this variable.</p>";return}const e=n.groupLabels.map(u=>n4(u)),r={};n.groupLabels.forEach((u,d)=>{r[u]=e[d]}),{...n};const i=c1(_t,n),o=[];for(let u=0;u<e.length;u++)(!Ir||i[u].n>=j7)&&o.push(u);const a=o.map(u=>e[u]),f=o.map(u=>i[u]),c=new Set(a);Tt==="overlay"&&a.length>1;const s=document.getElementById("overlay-legend");s.innerHTML="",a.length>1&&s.appendChild(Z7(a,f.map(u=>u.n)));for(const u of _t.displayItems){if(u.id===Zt)continue;const d=document.createElement("section");d.className="chart-section",d.id=u.id,u.type==="single"?e4(d,u,n,r,a,c):u.type==="multiselect"?r4(d,u,n,r,a,c):u.type==="matrix"&&i4(d,u,n,r,a,c),t.appendChild(d)}o1()}function Tc(t,n){for(const e of t)e.group in n?(e.fullGroup=e.group,e.group=n[e.group]):e.fullGroup=e.group;return t}function e4(t,n,e,r,i,o){const a=_t.questions[n.id];if(!a)return;const f=document.createElement("h2");f.textContent=`${n.id}. ${a.label}`,t.appendChild(f);const c=Tc(Cs(_t,n.id,e),r).filter(d=>o.has(d.group));if(c.length===0){t.innerHTML+="<p><em>No data</em></p>";return}const s=Tt==="overlay"&&i.length>1,u=document.createElement("figure");u.appendChild(s?i1(c,a.scaleOrder,i):e1(c,a.scaleOrder,i)),t.appendChild(u)}function r4(t,n,e,r,i,o){const a=_t.questions[n.id];if(!a)return;const f=document.createElement("h2");f.textContent=`${n.id}. ${a.label}`,t.appendChild(f);const c=n.items.map(l=>_t.questions[l].label),s=Tc(f1(_t,n.items,e),r).filter(l=>o.has(l.group));if(s.length===0){t.innerHTML+="<p><em>No data</em></p>";return}const u=Tt==="overlay"&&i.length>1,d=document.createElement("figure");d.appendChild(u?K7(s,c,i):X7(s,c,i)),t.appendChild(d)}function i4(t,n,e,r,i,o){const a=document.createElement("h2");a.textContent=`${n.id}. ${n.stem}`,t.appendChild(a);for(const f of n.items){const c=_t.questions[f];if(!c)continue;const s=document.createElement("h3");s.textContent=`${f}. ${c.shortLabel||c.label}`,t.appendChild(s);const u=Tc(Cs(_t,f,e),r).filter(h=>o.has(h.group));if(u.length===0){const h=document.createElement("p");h.innerHTML="<em>No data</em>",t.appendChild(h);continue}const d=Tt==="overlay"&&i.length>1,l=document.createElement("figure");l.appendChild(d?i1(u,n.scaleOrder,i):e1(u,n.scaleOrder,i)),t.appendChild(l)}}Q7();

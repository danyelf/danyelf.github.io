(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function n1(t,n){if(n==="_none")return{groupLabels:["All respondents"],groupIds:["_all"],getGroups:()=>["_all"]};const e=t.questions[n];if(!e)return{groupLabels:[],groupIds:[],getGroups:()=>[]};if(e.type==="multiselect"){const a=e.items;return{groupLabels:a.map(c=>t.questions[c].label),groupIds:a,getGroups(c){return a.filter(s=>c[s]===!0)}}}const r=e.scaleOrder;if(r&&r.length>0)return{groupLabels:r,groupIds:r,getGroups(a){const f=a[n];return f!=null?[f]:[]}};const i=new Set;for(const a of t.rows){const f=a[n];f!=null&&i.add(f)}const o=[...i];return{groupLabels:o,groupIds:o,getGroups(a){const f=a[n];return f!=null?[f]:[]}}}function ws(t,n,e){const r=t.questions[n];if(!r)return[];const i=r.scaleOrder||[];if(i.length===0)return[];const{groupLabels:o,groupIds:a}=e,f={},c={};for(const u of a){f[u]={},c[u]=0;for(const d of i)f[u][d]=0}for(const u of t.rows){const d=e.getGroups(u),l=u[n];if(l!=null)for(const h of d)h in f&&(c[h]++,l in f[h]&&f[h][l]++)}const s=[];for(let u=0;u<a.length;u++){const d=a[u],l=o[u],h=c[d];for(const p of i)s.push({group:l,answer:p,pct:h>0?Math.round(100*f[d][p]/h):0,count:f[d][p],n:h})}return s}function e1(t,n,e){const{groupLabels:r,groupIds:i}=e;let o={};for(const c of i){o[c]={};for(const s of n)o[c][s]=0}for(const c of t.rows){const s=e.getGroups(c);if(s.length!==0){for(const u of s)if(u in o)for(const d of n)c[d]===!0&&o[u][d]++}}const a={};for(const c of i)a[c]=new Set;for(let c=0;c<t.rows.length;c++){const s=t.rows[c],u=e.getGroups(s);for(const d of u)d in a&&a[d].add(c)}o={};for(const c of i){o[c]={};for(const s of n)o[c][s]=0}for(let c=0;c<t.rows.length;c++){const s=t.rows[c],u=e.getGroups(s);for(const d of u)if(d in o)for(const l of n)s[l]===!0&&o[d][l]++}const f=[];for(let c=0;c<i.length;c++){const s=i[c],u=r[c],d=a[s].size;for(const l of n)f.push({group:u,option:t.questions[l].label,pct:d>0?Math.round(100*o[s][l]/d):0,count:o[s][l],n:d})}return f}function r1(t,n){const{groupLabels:e,groupIds:r}=n,i={};for(const o of r)i[o]=new Set;for(let o=0;o<t.rows.length;o++){const a=n.getGroups(t.rows[o]);for(const f of a)f in i&&i[f].add(o)}return r.map((o,a)=>({label:e[a],n:i[o].size}))}function At(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Cr(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function eo(t){let n,e,r;t.length!==2?(n=At,e=(f,c)=>At(t(f),c),r=(f,c)=>t(f)-c):(n=t===At||t===Cr?t:i1,e=t,r=t);function i(f,c,s=0,u=f.length){if(s<u){if(n(c,c)!==0)return u;do{const d=s+u>>>1;e(f[d],c)<0?s=d+1:u=d}while(s<u)}return s}function o(f,c,s=0,u=f.length){if(s<u){if(n(c,c)!==0)return u;do{const d=s+u>>>1;e(f[d],c)<=0?s=d+1:u=d}while(s<u)}return s}function a(f,c,s=0,u=f.length){const d=i(f,c,s,u-1);return d>s&&r(f[d-1],c)>-r(f[d],c)?d-1:d}return{left:i,center:a,right:o}}function i1(){return 0}function vs(t){return t===null?NaN:+t}function*o1(t,n){if(n===void 0)for(let e of t)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)(r=n(r,++e,t))!=null&&(r=+r)>=r&&(yield r)}}const a1=eo(At),pf=a1.right;eo(vs).center;function f1(t){return t.length|0}function c1(t){return!(t>0)}function u1(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function s1(t){return n=>t(...n)}function l1(...t){const n=typeof t[t.length-1]=="function"&&s1(t.pop());t=t.map(u1);const e=t.map(f1),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||e.some(c1))return o;for(;;){o.push(i.map((f,c)=>t[c][f]));let a=r;for(;++i[a]===e[a];){if(a===0)return n?o.map(n):o;i[a--]=0}}}function d1(t,n){var e=0;return Float64Array.from(t,r=>e+=+r||0)}function xs(t,n){let e=0,r,i=0,o=0;if(n===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++e,o+=r*(a-i));else{let a=-1;for(let f of t)(f=n(f,++a,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++e,o+=r*(f-i))}if(e>1)return o/(e-1)}function h1(t,n){const e=xs(t,n);return e&&Math.sqrt(e)}function Dn(t,n){let e,r;for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));return[e,r]}class Zn{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=e[i],a=n+o,f=Math.abs(n)<Math.abs(o)?n-(a-o):o-(a-n);f&&(e[r++]=f),n=a}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,o,a=0;if(e>0){for(a=n[--e];e>0&&(r=a,i=n[--e],a=r+i,o=i-(a-r),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class jn extends Map{constructor(n,e=_s){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(ga(this,n))}has(n){return super.has(ga(this,n))}set(n,e){return super.set(Ms(this,n),e)}delete(n){return super.delete($s(this,n))}}class ro extends Set{constructor(n,e=_s){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const r of n)this.add(r)}has(n){return super.has(ga(this,n))}add(n){return super.add(Ms(this,n))}delete(n){return super.delete($s(this,n))}}function ga({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function Ms({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function $s({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function _s(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ma(t){return t}function Ss(t,...n){return gf(t,ma,ma,n)}function cr(t,n,...e){return gf(t,ma,n,e)}function p1(t,n,...e){return gf(t,Array.from,n,e)}function gf(t,n,e,r){return(function i(o,a){if(a>=r.length)return e(o);const f=new jn,c=r[a++];let s=-1;for(const u of o){const d=c(u,++s,o),l=f.get(d);l?l.push(u):f.set(d,[u])}for(const[u,d]of f)f.set(u,i(d,a));return n(f)})(t,0)}function g1(t,n){return Array.from(n,e=>t[e])}function ba(t,...n){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&e.length!==2||n.length>1){const r=Uint32Array.from(t,(i,o)=>o);return n.length>1?(n=n.map(i=>t.map(i)),r.sort((i,o)=>{for(const a of n){const f=Mi(a[i],a[o]);if(f)return f}})):(e=t.map(e),r.sort((i,o)=>Mi(e[i],e[o]))),g1(t,r)}return t.sort(Ts(e))}function Ts(t=At){if(t===At)return Mi;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function Mi(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}function mf(t,n,e){return(n.length!==2?ba(cr(t,n,e),(([r,i],[o,a])=>At(i,a)||At(r,o))):ba(Ss(t,e),(([r,i],[o,a])=>n(i,a)||At(r,o)))).map(([r])=>r)}const m1=Math.sqrt(50),b1=Math.sqrt(10),y1=Math.sqrt(2);function $i(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=m1?10:o>=b1?5:o>=y1?2:1;let f,c,s;return i<0?(s=Math.pow(10,-i)/a,f=Math.round(t*s),c=Math.round(n*s),f/s<t&&++f,c/s>n&&--c,s=-s):(s=Math.pow(10,i)*a,f=Math.round(t/s),c=Math.round(n/s),f*s<t&&++f,c*s>n&&--c),c<f&&.5<=e&&e<2?$i(t,n,e*2):[f,c,s]}function _i(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,o,a]=r?$i(n,t,e):$i(t,n,e);if(!(o>=i))return[];const f=o-i+1,c=new Array(f);if(r)if(a<0)for(let s=0;s<f;++s)c[s]=(o-s)/-a;else for(let s=0;s<f;++s)c[s]=(o-s)*a;else if(a<0)for(let s=0;s<f;++s)c[s]=(i+s)/-a;else for(let s=0;s<f;++s)c[s]=(i+s)*a;return c}function ya(t,n,e){return n=+n,t=+t,e=+e,$i(t,n,e)[2]}function wa(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?ya(n,t,e):ya(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function Xt(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function w1(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);return r}function Sn(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function v1(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);return r}function As(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=i===void 0?Mi:Ts(i);r>e;){if(r-e>600){const c=r-e+1,s=n-e+1,u=Math.log(c),d=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*d*(c-d)/c)*(s-c/2<0?-1:1),h=Math.max(e,Math.floor(n-s*d/c+l)),p=Math.min(r,Math.floor(n+(c-s)*d/c+l));As(t,n,h,p,i)}const o=t[n];let a=e,f=r;for(Ve(t,e,n),i(t[r],o)>0&&Ve(t,e,r);a<f;){for(Ve(t,a,f),++a,--f;i(t[a],o)<0;)++a;for(;i(t[f],o)>0;)--f}i(t[e],o)===0?Ve(t,e,f):(++f,Ve(t,f,r)),f<=n&&(e=f+1),n<=f&&(r=f-1)}return t}function Ve(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function Cs(t,n=At){let e,r=!1;if(n.length===1){let i;for(const o of t){const a=n(o);(r?At(a,i)>0:At(a,a)===0)&&(e=o,i=a,r=!0)}}else for(const i of t)(r?n(i,e)>0:n(i,i)===0)&&(e=i,r=!0);return e}function Si(t,n,e){if(t=Float64Array.from(o1(t,e)),!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return Sn(t);if(n>=1)return Xt(t);var r,i=(r-1)*n,o=Math.floor(i),a=Xt(As(t,o).subarray(0,o+1)),f=Sn(t.subarray(o+1));return a+(f-a)*(i-o)}}function x1(t,n,e=vs){if(!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t),f=+e(t[o+1],o+1,t);return a+(f-a)*(i-o)}}function M1(t,n){let e=0,r=0;if(n===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}function va(t,n){return Si(t,.5,n)}function*$1(t){for(const n of t)yield*n}function Es(t){return Array.from($1(t))}function _1(t,n){const e=new jn;if(n===void 0)for(let o of t)o!=null&&o>=o&&e.set(o,(e.get(o)||0)+1);else{let o=-1;for(let a of t)(a=n(a,++o,t))!=null&&a>=a&&e.set(a,(e.get(a)||0)+1)}let r,i=0;for(const[o,a]of e)a>i&&(i=a,r=o);return r}function S1(t,n=T1){const e=[];let r,i=!1;for(const o of t)i&&e.push(n(r,o)),r=o,i=!0;return e}function T1(t,n){return[t,n]}function xa(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(i);++r<i;)o[r]=t+r*e;return o}function Kn(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function Ti(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function A1(t){return t}var C1=3,bc=1e-6;function E1(t){return"translate("+t+",0)"}function N1(t){return n=>+t(n)}function L1(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function k1(){return!this.__axis}function D1(t,n){var e=[],r=null,i=null,o=6,a=6,f=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=1,u="y",d=E1;function l(h){var p=r??(n.ticks?n.ticks.apply(n,e):n.domain()),g=i??(n.tickFormat?n.tickFormat.apply(n,e):A1),m=Math.max(o,0)+f,w=n.range(),y=+w[0]+c,v=+w[w.length-1]+c,b=(n.bandwidth?L1:N1)(n.copy(),c),$=h.selection?h.selection():h,x=$.selectAll(".domain").data([null]),M=$.selectAll(".tick").data(p,n).order(),S=M.exit(),T=M.enter().append("g").attr("class","tick"),L=M.select("line"),A=M.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(T),L=L.merge(T.append("line").attr("stroke","currentColor").attr(u+"2",s*o)),A=A.merge(T.append("text").attr("fill","currentColor").attr(u,s*m).attr("dy","0.71em")),h!==$&&(x=x.transition(h),M=M.transition(h),L=L.transition(h),A=A.transition(h),S=S.transition(h).attr("opacity",bc).attr("transform",function(E){return isFinite(E=b(E))?d(E+c):this.getAttribute("transform")}),T.attr("opacity",bc).attr("transform",function(E){var O=this.parentNode.__axis;return d((O&&isFinite(O=O(E))?O:b(E))+c)})),S.remove(),x.attr("d",a?"M"+y+","+s*a+"V"+c+"H"+v+"V"+s*a:"M"+y+","+c+"H"+v),M.attr("opacity",1).attr("transform",function(E){return d(b(E)+c)}),L.attr(u+"2",s*o),A.attr(u,s*m).text(g),$.filter(k1).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),$.each(function(){this.__axis=b})}return l.scale=function(h){return arguments.length?(n=h,l):n},l.ticks=function(){return e=Array.from(arguments),l},l.tickArguments=function(h){return arguments.length?(e=h==null?[]:Array.from(h),l):e.slice()},l.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),l):r&&r.slice()},l.tickFormat=function(h){return arguments.length?(i=h,l):i},l.tickSize=function(h){return arguments.length?(o=a=+h,l):o},l.tickSizeInner=function(h){return arguments.length?(o=+h,l):o},l.tickSizeOuter=function(h){return arguments.length?(a=+h,l):a},l.tickPadding=function(h){return arguments.length?(f=+h,l):f},l.offset=function(h){return arguments.length?(c=+h,l):c},l}function I1(t){return D1(C1,t)}var R1={value:()=>{}};function Ns(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new mi(e)}function mi(t){this._=t}function F1(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}mi.prototype=Ns.prototype={constructor:mi,on:function(t,n){var e=this._,r=F1(t+"",e),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=O1(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<a;)if(i=(t=r[o]).type)e[i]=yc(e[i],t.name,n);else if(n==null)for(i in e)e[i]=yc(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new mi(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function O1(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function yc(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=R1,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Ma="http://www.w3.org/1999/xhtml";const Ae={svg:"http://www.w3.org/2000/svg",xhtml:Ma,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function io(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Ae.hasOwnProperty(n)?{space:Ae[n],local:t}:t}function P1(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Ma&&n.documentElement.namespaceURI===Ma?n.createElement(t):n.createElementNS(e,t)}}function q1(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function oo(t){var n=io(t);return(n.local?q1:P1)(n)}function U1(){}function bf(t){return t==null?U1:function(){return this.querySelector(t)}}function z1(t){typeof t!="function"&&(t=bf(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=new Array(a),c,s,u=0;u<a;++u)(c=o[u])&&(s=t.call(c,c.__data__,u,o))&&("__data__"in c&&(s.__data__=c.__data__),f[u]=s);return new kt(r,this._parents)}function H1(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function B1(){return[]}function Ls(t){return t==null?B1:function(){return this.querySelectorAll(t)}}function W1(t){return function(){return H1(t.apply(this,arguments))}}function Y1(t){typeof t=="function"?t=W1(t):t=Ls(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a=n[o],f=a.length,c,s=0;s<f;++s)(c=a[s])&&(r.push(t.call(c,c.__data__,s,a)),i.push(c));return new kt(r,i)}function ks(t){return function(){return this.matches(t)}}function Ds(t){return function(n){return n.matches(t)}}var V1=Array.prototype.find;function G1(t){return function(){return V1.call(this.children,t)}}function X1(){return this.firstElementChild}function Z1(t){return this.select(t==null?X1:G1(typeof t=="function"?t:Ds(t)))}var j1=Array.prototype.filter;function K1(){return Array.from(this.children)}function Q1(t){return function(){return j1.call(this.children,t)}}function J1(t){return this.selectAll(t==null?K1:Q1(typeof t=="function"?t:Ds(t)))}function tg(t){typeof t!="function"&&(t=ks(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=[],c,s=0;s<a;++s)(c=o[s])&&t.call(c,c.__data__,s,o)&&f.push(c);return new kt(r,this._parents)}function Is(t){return new Array(t.length)}function ng(){return new kt(this._enter||this._groups.map(Is),this._parents)}function Ai(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Ai.prototype={constructor:Ai,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function eg(t){return function(){return t}}function rg(t,n,e,r,i,o){for(var a=0,f,c=n.length,s=o.length;a<s;++a)(f=n[a])?(f.__data__=o[a],r[a]=f):e[a]=new Ai(t,o[a]);for(;a<c;++a)(f=n[a])&&(i[a]=f)}function ig(t,n,e,r,i,o,a){var f,c,s=new Map,u=n.length,d=o.length,l=new Array(u),h;for(f=0;f<u;++f)(c=n[f])&&(l[f]=h=a.call(c,c.__data__,f,n)+"",s.has(h)?i[f]=c:s.set(h,c));for(f=0;f<d;++f)h=a.call(t,o[f],f,o)+"",(c=s.get(h))?(r[f]=c,c.__data__=o[f],s.delete(h)):e[f]=new Ai(t,o[f]);for(f=0;f<u;++f)(c=n[f])&&s.get(l[f])===c&&(i[f]=c)}function og(t){return t.__data__}function ag(t,n){if(!arguments.length)return Array.from(this,og);var e=n?ig:rg,r=this._parents,i=this._groups;typeof t!="function"&&(t=eg(t));for(var o=i.length,a=new Array(o),f=new Array(o),c=new Array(o),s=0;s<o;++s){var u=r[s],d=i[s],l=d.length,h=fg(t.call(u,u&&u.__data__,s,r)),p=h.length,g=f[s]=new Array(p),m=a[s]=new Array(p),w=c[s]=new Array(l);e(u,d,g,m,w,h,n);for(var y=0,v=0,b,$;y<p;++y)if(b=g[y]){for(y>=v&&(v=y+1);!($=m[v])&&++v<p;);b._next=$||null}}return a=new kt(a,r),a._enter=f,a._exit=c,a}function fg(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function cg(){return new kt(this._exit||this._groups.map(Is),this._parents)}function ug(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function sg(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),f=new Array(i),c=0;c<a;++c)for(var s=e[c],u=r[c],d=s.length,l=f[c]=new Array(d),h,p=0;p<d;++p)(h=s[p]||u[p])&&(l[p]=h);for(;c<i;++c)f[c]=e[c];return new kt(f,this._parents)}function lg(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function dg(t){t||(t=hg);function n(d,l){return d&&l?t(d.__data__,l.__data__):!d-!l}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a=e[o],f=a.length,c=i[o]=new Array(f),s,u=0;u<f;++u)(s=a[u])&&(c[u]=s);c.sort(n)}return new kt(i,this._parents).order()}function hg(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function pg(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function gg(){return Array.from(this)}function mg(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function bg(){let t=0;for(const n of this)++t;return t}function yg(){return!this.node()}function wg(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,a=i.length,f;o<a;++o)(f=i[o])&&t.call(f,f.__data__,o,i);return this}function vg(t){return function(){this.removeAttribute(t)}}function xg(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Mg(t,n){return function(){this.setAttribute(t,n)}}function $g(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function _g(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Sg(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Tg(t,n){var e=io(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?xg:vg:typeof n=="function"?e.local?Sg:_g:e.local?$g:Mg)(e,n))}function Rs(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ag(t){return function(){this.style.removeProperty(t)}}function Cg(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Eg(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Ng(t,n,e){return arguments.length>1?this.each((n==null?Ag:typeof n=="function"?Eg:Cg)(t,n,e??"")):Ce(this.node(),t)}function Ce(t,n){return t.style.getPropertyValue(n)||Rs(t).getComputedStyle(t,null).getPropertyValue(n)}function Lg(t){return function(){delete this[t]}}function kg(t,n){return function(){this[t]=n}}function Dg(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Ig(t,n){return arguments.length>1?this.each((n==null?Lg:typeof n=="function"?Dg:kg)(t,n)):this.node()[t]}function Fs(t){return t.trim().split(/^|\s+/)}function yf(t){return t.classList||new Os(t)}function Os(t){this._node=t,this._names=Fs(t.getAttribute("class")||"")}Os.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ps(t,n){for(var e=yf(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function qs(t,n){for(var e=yf(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Rg(t){return function(){Ps(this,t)}}function Fg(t){return function(){qs(this,t)}}function Og(t,n){return function(){(n.apply(this,arguments)?Ps:qs)(this,t)}}function Pg(t,n){var e=Fs(t+"");if(arguments.length<2){for(var r=yf(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?Og:n?Rg:Fg)(e,n))}function qg(){this.textContent=""}function Ug(t){return function(){this.textContent=t}}function zg(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Hg(t){return arguments.length?this.each(t==null?qg:(typeof t=="function"?zg:Ug)(t)):this.node().textContent}function Bg(){this.innerHTML=""}function Wg(t){return function(){this.innerHTML=t}}function Yg(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function Vg(t){return arguments.length?this.each(t==null?Bg:(typeof t=="function"?Yg:Wg)(t)):this.node().innerHTML}function Gg(){this.nextSibling&&this.parentNode.appendChild(this)}function Xg(){return this.each(Gg)}function Zg(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function jg(){return this.each(Zg)}function Kg(t){var n=typeof t=="function"?t:oo(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Qg(){return null}function Jg(t,n){var e=typeof t=="function"?t:oo(t),r=n==null?Qg:typeof n=="function"?n:bf(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function tm(){var t=this.parentNode;t&&t.removeChild(this)}function nm(){return this.each(tm)}function em(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function rm(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function im(t){return this.select(t?rm:em)}function om(t){return arguments.length?this.property("__data__",t):this.node().__data__}function am(t){return function(n){t.call(this,n,this.__data__)}}function fm(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function cm(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function um(t,n,e){return function(){var r=this.__on,i,o=am(n);if(r){for(var a=0,f=r.length;a<f;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function sm(t,n,e){var r=fm(t+""),i,o=r.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var c=0,s=f.length,u;c<s;++c)for(i=0,u=f[c];i<o;++i)if((a=r[i]).type===u.type&&a.name===u.name)return u.value}return}for(f=n?um:cm,i=0;i<o;++i)this.each(f(r[i],n,e));return this}function Us(t,n,e){var r=Rs(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function lm(t,n){return function(){return Us(this,t,n)}}function dm(t,n){return function(){return Us(this,t,n.apply(this,arguments))}}function hm(t,n){return this.each((typeof n=="function"?dm:lm)(t,n))}function*pm(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var zs=[null];function kt(t,n){this._groups=t,this._parents=n}function Er(){return new kt([[document.documentElement]],zs)}function gm(){return this}kt.prototype=Er.prototype={constructor:kt,select:z1,selectAll:Y1,selectChild:Z1,selectChildren:J1,filter:tg,data:ag,enter:ng,exit:cg,join:ug,merge:sg,selection:gm,order:lg,sort:dg,call:pg,nodes:gg,node:mg,size:bg,empty:yg,each:wg,attr:Tg,style:Ng,property:Ig,classed:Pg,text:Hg,html:Vg,raise:Xg,lower:jg,append:Kg,insert:Jg,remove:nm,clone:im,datum:om,on:sm,dispatch:hm,[Symbol.iterator]:pm};function Wn(t){return typeof t=="string"?new kt([[document.querySelector(t)]],[document.documentElement]):new kt([[t]],zs)}function mm(t){let n;for(;n=t.sourceEvent;)t=n;return t}function bm(t,n){if(t=mm(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function Ue(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Nr(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Fn(){}var Qn=.7,Ee=1/Qn,_e="\\s*([+-]?\\d+)\\s*",hr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",on="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ym=/^#([0-9a-f]{3,8})$/,wm=new RegExp(`^rgb\\(${_e},${_e},${_e}\\)$`),vm=new RegExp(`^rgb\\(${on},${on},${on}\\)$`),xm=new RegExp(`^rgba\\(${_e},${_e},${_e},${hr}\\)$`),Mm=new RegExp(`^rgba\\(${on},${on},${on},${hr}\\)$`),$m=new RegExp(`^hsl\\(${hr},${on},${on}\\)$`),_m=new RegExp(`^hsla\\(${hr},${on},${on},${hr}\\)$`),wc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ue(Fn,Jn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vc,formatHex:vc,formatHex8:Sm,formatHsl:Tm,formatRgb:xc,toString:xc});function vc(){return this.rgb().formatHex()}function Sm(){return this.rgb().formatHex8()}function Tm(){return Hs(this).formatHsl()}function xc(){return this.rgb().formatRgb()}function Jn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=ym.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?Mc(n):e===3?new mt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?jr(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?jr(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=wm.exec(t))?new mt(n[1],n[2],n[3],1):(n=vm.exec(t))?new mt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=xm.exec(t))?jr(n[1],n[2],n[3],n[4]):(n=Mm.exec(t))?jr(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=$m.exec(t))?Sc(n[1],n[2]/100,n[3]/100,1):(n=_m.exec(t))?Sc(n[1],n[2]/100,n[3]/100,n[4]):wc.hasOwnProperty(t)?Mc(wc[t]):t==="transparent"?new mt(NaN,NaN,NaN,0):null}function Mc(t){return new mt(t>>16&255,t>>8&255,t&255,1)}function jr(t,n,e,r){return r<=0&&(t=n=e=NaN),new mt(t,n,e,r)}function wf(t){return t instanceof Fn||(t=Jn(t)),t?(t=t.rgb(),new mt(t.r,t.g,t.b,t.opacity)):new mt}function In(t,n,e,r){return arguments.length===1?wf(t):new mt(t,n,e,r??1)}function mt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}Ue(mt,In,Nr(Fn,{brighter(t){return t=t==null?Ee:Math.pow(Ee,t),new mt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qn:Math.pow(Qn,t),new mt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new mt(Yn(this.r),Yn(this.g),Yn(this.b),Ci(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$c,formatHex:$c,formatHex8:Am,formatRgb:_c,toString:_c}));function $c(){return`#${Bn(this.r)}${Bn(this.g)}${Bn(this.b)}`}function Am(){return`#${Bn(this.r)}${Bn(this.g)}${Bn(this.b)}${Bn((isNaN(this.opacity)?1:this.opacity)*255)}`}function _c(){const t=Ci(this.opacity);return`${t===1?"rgb(":"rgba("}${Yn(this.r)}, ${Yn(this.g)}, ${Yn(this.b)}${t===1?")":`, ${t})`}`}function Ci(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Yn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Bn(t){return t=Yn(t),(t<16?"0":"")+t.toString(16)}function Sc(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Vt(t,n,e,r)}function Hs(t){if(t instanceof Vt)return new Vt(t.h,t.s,t.l,t.opacity);if(t instanceof Fn||(t=Jn(t)),!t)return new Vt;if(t instanceof Vt)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,f=o-i,c=(o+i)/2;return f?(n===o?a=(e-r)/f+(e<r)*6:e===o?a=(r-n)/f+2:a=(n-e)/f+4,f/=c<.5?o+i:2-o-i,a*=60):f=c>0&&c<1?0:a,new Vt(a,f,c,t.opacity)}function $a(t,n,e,r){return arguments.length===1?Hs(t):new Vt(t,n,e,r??1)}function Vt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Ue(Vt,$a,Nr(Fn,{brighter(t){return t=t==null?Ee:Math.pow(Ee,t),new Vt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qn:Math.pow(Qn,t),new Vt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new mt(Io(t>=240?t-240:t+120,i,r),Io(t,i,r),Io(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Vt(Tc(this.h),Kr(this.s),Kr(this.l),Ci(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ci(this.opacity);return`${t===1?"hsl(":"hsla("}${Tc(this.h)}, ${Kr(this.s)*100}%, ${Kr(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Tc(t){return t=(t||0)%360,t<0?t+360:t}function Kr(t){return Math.max(0,Math.min(1,t||0))}function Io(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const Bs=Math.PI/180,Ws=180/Math.PI,Ei=18,Ys=.96422,Vs=1,Gs=.82521,Xs=4/29,Se=6/29,Zs=3*Se*Se,Cm=Se*Se*Se;function js(t){if(t instanceof an)return new an(t.l,t.a,t.b,t.opacity);if(t instanceof vn)return Ks(t);t instanceof mt||(t=wf(t));var n=Po(t.r),e=Po(t.g),r=Po(t.b),i=Ro((.2225045*n+.7168786*e+.0606169*r)/Vs),o,a;return n===e&&e===r?o=a=i:(o=Ro((.4360747*n+.3850649*e+.1430804*r)/Ys),a=Ro((.0139322*n+.0971045*e+.7141733*r)/Gs)),new an(116*i-16,500*(o-i),200*(i-a),t.opacity)}function _a(t,n,e,r){return arguments.length===1?js(t):new an(t,n,e,r??1)}function an(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}Ue(an,_a,Nr(Fn,{brighter(t){return new an(this.l+Ei*(t??1),this.a,this.b,this.opacity)},darker(t){return new an(this.l-Ei*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=Ys*Fo(n),t=Vs*Fo(t),e=Gs*Fo(e),new mt(Oo(3.1338561*n-1.6168667*t-.4906146*e),Oo(-.9787684*n+1.9161415*t+.033454*e),Oo(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function Ro(t){return t>Cm?Math.pow(t,1/3):t/Zs+Xs}function Fo(t){return t>Se?t*t*t:Zs*(t-Xs)}function Oo(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Po(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Em(t){if(t instanceof vn)return new vn(t.h,t.c,t.l,t.opacity);if(t instanceof an||(t=js(t)),t.a===0&&t.b===0)return new vn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Ws;return new vn(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Sa(t,n,e,r){return arguments.length===1?Em(t):new vn(t,n,e,r??1)}function vn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Ks(t){if(isNaN(t.h))return new an(t.l,0,0,t.opacity);var n=t.h*Bs;return new an(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}Ue(vn,Sa,Nr(Fn,{brighter(t){return new vn(this.h,this.c,this.l+Ei*(t??1),this.opacity)},darker(t){return new vn(this.h,this.c,this.l-Ei*(t??1),this.opacity)},rgb(){return Ks(this).rgb()}}));var Qs=-.14861,vf=1.78277,xf=-.29227,ao=-.90649,pr=1.97294,Ac=pr*ao,Cc=pr*vf,Ec=vf*xf-ao*Qs;function Nm(t){if(t instanceof Vn)return new Vn(t.h,t.s,t.l,t.opacity);t instanceof mt||(t=wf(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Ec*r+Ac*n-Cc*e)/(Ec+Ac-Cc),o=r-i,a=(pr*(e-i)-xf*o)/ao,f=Math.sqrt(a*a+o*o)/(pr*i*(1-i)),c=f?Math.atan2(a,o)*Ws-120:NaN;return new Vn(c<0?c+360:c,f,i,t.opacity)}function fn(t,n,e,r){return arguments.length===1?Nm(t):new Vn(t,n,e,r??1)}function Vn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Ue(Vn,fn,Nr(Fn,{brighter(t){return t=t==null?Ee:Math.pow(Ee,t),new Vn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qn:Math.pow(Qn,t),new Vn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Bs,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new mt(255*(n+e*(Qs*r+vf*i)),255*(n+e*(xf*r+ao*i)),255*(n+e*(pr*r)),this.opacity)}}));function Lm(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function km(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,f=r<n-1?t[r+2]:2*o-i;return Lm((e-r/n)*n,a,i,o,f)}}const fo=t=>()=>t;function Js(t,n){return function(e){return t+e*n}}function Dm(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Mf(t,n){var e=n-t;return e?Js(t,e>180||e<-180?e-360*Math.round(e/360):e):fo(isNaN(t)?n:t)}function Im(t){return(t=+t)==1?xt:function(n,e){return e-n?Dm(n,e,t):fo(isNaN(n)?e:n)}}function xt(t,n){var e=n-t;return e?Js(t,e):fo(isNaN(t)?n:t)}const te=(function t(n){var e=Im(n);function r(i,o){var a=e((i=In(i)).r,(o=In(o)).r),f=e(i.g,o.g),c=e(i.b,o.b),s=xt(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=f(u),i.b=c(u),i.opacity=s(u),i+""}}return r.gamma=t,r})(1);function Rm(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),o=new Array(e),a,f;for(a=0;a<e;++a)f=In(n[a]),r[a]=f.r||0,i[a]=f.g||0,o[a]=f.b||0;return r=t(r),i=t(i),o=t(o),f.opacity=1,function(c){return f.r=r(c),f.g=i(c),f.b=o(c),f+""}}}var Fm=Rm(km);function Om(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function Pm(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function qm(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=Lr(t[a],n[a]);for(;a<e;++a)o[a]=n[a];return function(f){for(a=0;a<r;++a)o[a]=i[a](f);return o}}function Um(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function wt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function zm(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=Lr(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var Ta=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qo=new RegExp(Ta.source,"g");function Hm(t){return function(){return t}}function Bm(t){return function(n){return t(n)+""}}function tl(t,n){var e=Ta.lastIndex=qo.lastIndex=0,r,i,o,a=-1,f=[],c=[];for(t=t+"",n=n+"";(r=Ta.exec(t))&&(i=qo.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),f[a]?f[a]+=o:f[++a]=o),(r=r[0])===(i=i[0])?f[a]?f[a]+=i:f[++a]=i:(f[++a]=null,c.push({i:a,x:wt(r,i)})),e=qo.lastIndex;return e<n.length&&(o=n.slice(e),f[a]?f[a]+=o:f[++a]=o),f.length<2?c[0]?Bm(c[0].x):Hm(n):(n=c.length,function(s){for(var u=0,d;u<n;++u)f[(d=c[u]).i]=d.x(s);return f.join("")})}function Lr(t,n){var e=typeof n,r;return n==null||e==="boolean"?fo(n):(e==="number"?wt:e==="string"?(r=Jn(n))?(n=r,te):tl:n instanceof Jn?te:n instanceof Date?Um:Pm(n)?Om:Array.isArray(n)?qm:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?zm:wt)(t,n)}function $f(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Nc=180/Math.PI,Aa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function nl(t,n,e,r,i,o){var a,f,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(f=Math.sqrt(e*e+r*r))&&(e/=f,r/=f,c/=f),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Nc,skewX:Math.atan(c)*Nc,scaleX:a,scaleY:f}}var Qr;function Wm(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Aa:nl(n.a,n.b,n.c,n.d,n.e,n.f)}function Ym(t){return t==null||(Qr||(Qr=document.createElementNS("http://www.w3.org/2000/svg","g")),Qr.setAttribute("transform",t),!(t=Qr.transform.baseVal.consolidate()))?Aa:(t=t.matrix,nl(t.a,t.b,t.c,t.d,t.e,t.f))}function el(t,n,e,r){function i(s){return s.length?s.pop()+" ":""}function o(s,u,d,l,h,p){if(s!==d||u!==l){var g=h.push("translate(",null,n,null,e);p.push({i:g-4,x:wt(s,d)},{i:g-2,x:wt(u,l)})}else(d||l)&&h.push("translate("+d+n+l+e)}function a(s,u,d,l){s!==u?(s-u>180?u+=360:u-s>180&&(s+=360),l.push({i:d.push(i(d)+"rotate(",null,r)-2,x:wt(s,u)})):u&&d.push(i(d)+"rotate("+u+r)}function f(s,u,d,l){s!==u?l.push({i:d.push(i(d)+"skewX(",null,r)-2,x:wt(s,u)}):u&&d.push(i(d)+"skewX("+u+r)}function c(s,u,d,l,h,p){if(s!==d||u!==l){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:wt(s,d)},{i:g-2,x:wt(u,l)})}else(d!==1||l!==1)&&h.push(i(h)+"scale("+d+","+l+")")}return function(s,u){var d=[],l=[];return s=t(s),u=t(u),o(s.translateX,s.translateY,u.translateX,u.translateY,d,l),a(s.rotate,u.rotate,d,l),f(s.skewX,u.skewX,d,l),c(s.scaleX,s.scaleY,u.scaleX,u.scaleY,d,l),s=u=null,function(h){for(var p=-1,g=l.length,m;++p<g;)d[(m=l[p]).i]=m.x(h);return d.join("")}}}var Vm=el(Wm,"px, ","px)","deg)"),Gm=el(Ym,", ",")",")");function Xm(t){return function(n,e){var r=t((n=$a(n)).h,(e=$a(e)).h),i=xt(n.s,e.s),o=xt(n.l,e.l),a=xt(n.opacity,e.opacity);return function(f){return n.h=r(f),n.s=i(f),n.l=o(f),n.opacity=a(f),n+""}}}const Zm=Xm(Mf);function jm(t,n){var e=xt((t=_a(t)).l,(n=_a(n)).l),r=xt(t.a,n.a),i=xt(t.b,n.b),o=xt(t.opacity,n.opacity);return function(a){return t.l=e(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function Km(t){return function(n,e){var r=t((n=Sa(n)).h,(e=Sa(e)).h),i=xt(n.c,e.c),o=xt(n.l,e.l),a=xt(n.opacity,e.opacity);return function(f){return n.h=r(f),n.c=i(f),n.l=o(f),n.opacity=a(f),n+""}}}const Qm=Km(Mf);function rl(t){return(function n(e){e=+e;function r(i,o){var a=t((i=fn(i)).h,(o=fn(o)).h),f=xt(i.s,o.s),c=xt(i.l,o.l),s=xt(i.opacity,o.opacity);return function(u){return i.h=a(u),i.s=f(u),i.l=c(Math.pow(u,e)),i.opacity=s(u),i+""}}return r.gamma=n,r})(1)}rl(Mf);var _f=rl(xt);function co(t,n){n===void 0&&(n=t,t=Lr);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(a){var f=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[f](a-f)}}function Zt(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}var Ne=0,Je=0,Ge=0,il=1e3,Ni,tr,Li=0,ne=0,uo=0,gr=typeof performance=="object"&&performance.now?performance:Date,ol=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Sf(){return ne||(ol(Jm),ne=gr.now()+uo)}function Jm(){ne=0}function ki(){this._call=this._time=this._next=null}ki.prototype=al.prototype={constructor:ki,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Sf():+e)+(n==null?0:+n),!this._next&&tr!==this&&(tr?tr._next=this:Ni=this,tr=this),this._call=t,this._time=e,Ca()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ca())}};function al(t,n,e){var r=new ki;return r.restart(t,n,e),r}function tb(){Sf(),++Ne;for(var t=Ni,n;t;)(n=ne-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Ne}function Lc(){ne=(Li=gr.now())+uo,Ne=Je=0;try{tb()}finally{Ne=0,eb(),ne=0}}function nb(){var t=gr.now(),n=t-Li;n>il&&(uo-=n,Li=t)}function eb(){for(var t,n=Ni,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ni=e);tr=t,Ca(r)}function Ca(t){if(!Ne){Je&&(Je=clearTimeout(Je));var n=t-ne;n>24?(t<1/0&&(Je=setTimeout(Lc,t-gr.now()-uo)),Ge&&(Ge=clearInterval(Ge))):(Ge||(Li=gr.now(),Ge=setInterval(nb,il)),Ne=1,ol(Lc))}}function kc(t,n,e){var r=new ki;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var rb=Ns("start","end","cancel","interrupt"),ib=[],fl=0,Dc=1,Ea=2,bi=3,Ic=4,Na=5,yi=6;function so(t,n,e,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(e in a)return;ob(t,e,{name:n,index:r,group:i,on:rb,tween:ib,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:fl})}function Tf(t,n){var e=Qt(t,n);if(e.state>fl)throw new Error("too late; already scheduled");return e}function sn(t,n){var e=Qt(t,n);if(e.state>bi)throw new Error("too late; already running");return e}function Qt(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function ob(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=al(o,0,e.time);function o(s){e.state=Dc,e.timer.restart(a,e.delay,e.time),e.delay<=s&&a(s-e.delay)}function a(s){var u,d,l,h;if(e.state!==Dc)return c();for(u in r)if(h=r[u],h.name===e.name){if(h.state===bi)return kc(a);h.state===Ic?(h.state=yi,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[u]):+u<n&&(h.state=yi,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[u])}if(kc(function(){e.state===bi&&(e.state=Ic,e.timer.restart(f,e.delay,e.time),f(s))}),e.state=Ea,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Ea){for(e.state=bi,i=new Array(l=e.tween.length),u=0,d=-1;u<l;++u)(h=e.tween[u].value.call(t,t.__data__,e.index,e.group))&&(i[++d]=h);i.length=d+1}}function f(s){for(var u=s<e.duration?e.ease.call(null,s/e.duration):(e.timer.restart(c),e.state=Na,1),d=-1,l=i.length;++d<l;)i[d].call(t,u);e.state===Na&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){e.state=yi,e.timer.stop(),delete r[n];for(var s in r)return;delete t.__transition}}function ab(t,n){var e=t.__transition,r,i,o=!0,a;if(e){n=n==null?null:n+"";for(a in e){if((r=e[a]).name!==n){o=!1;continue}i=r.state>Ea&&r.state<Na,r.state=yi,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[a]}o&&delete t.__transition}}function fb(t){return this.each(function(){ab(this,t)})}function cb(t,n){var e,r;return function(){var i=sn(this,t),o=i.tween;if(o!==e){r=e=o;for(var a=0,f=r.length;a<f;++a)if(r[a].name===n){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function ub(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=sn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var f={name:n,value:e},c=0,s=i.length;c<s;++c)if(i[c].name===n){i[c]=f;break}c===s&&i.push(f)}o.tween=i}}function sb(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=Qt(this.node(),e).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((n==null?cb:ub)(e,t,n))}function Af(t,n,e){var r=t._id;return t.each(function(){var i=sn(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return Qt(i,r).value[n]}}function cl(t,n){var e;return(typeof n=="number"?wt:n instanceof Jn?te:(e=Jn(n))?(n=e,te):tl)(t,n)}function lb(t){return function(){this.removeAttribute(t)}}function db(t){return function(){this.removeAttributeNS(t.space,t.local)}}function hb(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=n(r=a,e)}}function pb(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=n(r=a,e)}}function gb(t,n,e){var r,i,o;return function(){var a,f=e(this),c;return f==null?void this.removeAttribute(t):(a=this.getAttribute(t),c=f+"",a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,f)))}}function mb(t,n,e){var r,i,o;return function(){var a,f=e(this),c;return f==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),c=f+"",a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,f)))}}function bb(t,n){var e=io(t),r=e==="transform"?Gm:cl;return this.attrTween(t,typeof n=="function"?(e.local?mb:gb)(e,r,Af(this,"attr."+t,n)):n==null?(e.local?db:lb)(e):(e.local?pb:hb)(e,r,n))}function yb(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function wb(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function vb(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&wb(t,o)),e}return i._value=n,i}function xb(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&yb(t,o)),e}return i._value=n,i}function Mb(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=io(t);return this.tween(e,(r.local?vb:xb)(r,n))}function $b(t,n){return function(){Tf(this,t).delay=+n.apply(this,arguments)}}function _b(t,n){return n=+n,function(){Tf(this,t).delay=n}}function Sb(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?$b:_b)(n,t)):Qt(this.node(),n).delay}function Tb(t,n){return function(){sn(this,t).duration=+n.apply(this,arguments)}}function Ab(t,n){return n=+n,function(){sn(this,t).duration=n}}function Cb(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Tb:Ab)(n,t)):Qt(this.node(),n).duration}function Eb(t,n){if(typeof n!="function")throw new Error;return function(){sn(this,t).ease=n}}function Nb(t){var n=this._id;return arguments.length?this.each(Eb(n,t)):Qt(this.node(),n).ease}function Lb(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;sn(this,t).ease=e}}function kb(t){if(typeof t!="function")throw new Error;return this.each(Lb(this._id,t))}function Db(t){typeof t!="function"&&(t=ks(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=[],c,s=0;s<a;++s)(c=o[s])&&t.call(c,c.__data__,s,o)&&f.push(c);return new Tn(r,this._parents,this._name,this._id)}function Ib(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),f=0;f<o;++f)for(var c=n[f],s=e[f],u=c.length,d=a[f]=new Array(u),l,h=0;h<u;++h)(l=c[h]||s[h])&&(d[h]=l);for(;f<r;++f)a[f]=n[f];return new Tn(a,this._parents,this._name,this._id)}function Rb(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Fb(t,n,e){var r,i,o=Rb(n)?Tf:sn;return function(){var a=o(this,t),f=a.on;f!==r&&(i=(r=f).copy()).on(n,e),a.on=i}}function Ob(t,n){var e=this._id;return arguments.length<2?Qt(this.node(),e).on.on(t):this.each(Fb(e,t,n))}function Pb(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function qb(){return this.on("end.remove",Pb(this._id))}function Ub(t){var n=this._name,e=this._id;typeof t!="function"&&(t=bf(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var f=r[a],c=f.length,s=o[a]=new Array(c),u,d,l=0;l<c;++l)(u=f[l])&&(d=t.call(u,u.__data__,l,f))&&("__data__"in u&&(d.__data__=u.__data__),s[l]=d,so(s[l],n,e,l,s,Qt(u,e)));return new Tn(o,this._parents,n,e)}function zb(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Ls(t));for(var r=this._groups,i=r.length,o=[],a=[],f=0;f<i;++f)for(var c=r[f],s=c.length,u,d=0;d<s;++d)if(u=c[d]){for(var l=t.call(u,u.__data__,d,c),h,p=Qt(u,e),g=0,m=l.length;g<m;++g)(h=l[g])&&so(h,n,e,g,l,p);o.push(l),a.push(u)}return new Tn(o,a,n,e)}var Hb=Er.prototype.constructor;function Bb(){return new Hb(this._groups,this._parents)}function Wb(t,n){var e,r,i;return function(){var o=Ce(this,t),a=(this.style.removeProperty(t),Ce(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}function ul(t){return function(){this.style.removeProperty(t)}}function Yb(t,n,e){var r,i=e+"",o;return function(){var a=Ce(this,t);return a===i?null:a===r?o:o=n(r=a,e)}}function Vb(t,n,e){var r,i,o;return function(){var a=Ce(this,t),f=e(this),c=f+"";return f==null&&(c=f=(this.style.removeProperty(t),Ce(this,t))),a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,f))}}function Gb(t,n){var e,r,i,o="style."+n,a="end."+o,f;return function(){var c=sn(this,t),s=c.on,u=c.value[o]==null?f||(f=ul(n)):void 0;(s!==e||i!==u)&&(r=(e=s).copy()).on(a,i=u),c.on=r}}function Xb(t,n,e){var r=(t+="")=="transform"?Vm:cl;return n==null?this.styleTween(t,Wb(t,r)).on("end.style."+t,ul(t)):typeof n=="function"?this.styleTween(t,Vb(t,r,Af(this,"style."+t,n))).each(Gb(this._id,t)):this.styleTween(t,Yb(t,r,n),e).on("end.style."+t,null)}function Zb(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function jb(t,n,e){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&Zb(t,a,e)),r}return o._value=n,o}function Kb(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,jb(t,n,e??""))}function Qb(t){return function(){this.textContent=t}}function Jb(t){return function(){var n=t(this);this.textContent=n??""}}function ty(t){return this.tween("text",typeof t=="function"?Jb(Af(this,"text",t)):Qb(t==null?"":t+""))}function ny(t){return function(n){this.textContent=t.call(this,n)}}function ey(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&ny(i)),n}return r._value=t,r}function ry(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,ey(t))}function iy(){for(var t=this._name,n=this._id,e=sl(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,c,s=0;s<f;++s)if(c=a[s]){var u=Qt(c,n);so(c,t,e,s,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Tn(r,this._parents,t,e)}function oy(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var f={value:a},c={value:function(){--i===0&&o()}};e.each(function(){var s=sn(this,r),u=s.on;u!==t&&(n=(t=u).copy(),n._.cancel.push(f),n._.interrupt.push(f),n._.end.push(c)),s.on=n}),i===0&&o()})}var ay=0;function Tn(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function sl(){return++ay}var hn=Er.prototype;Tn.prototype={constructor:Tn,select:Ub,selectAll:zb,selectChild:hn.selectChild,selectChildren:hn.selectChildren,filter:Db,merge:Ib,selection:Bb,transition:iy,call:hn.call,nodes:hn.nodes,node:hn.node,size:hn.size,empty:hn.empty,each:hn.each,on:Ob,attr:bb,attrTween:Mb,style:Xb,styleTween:Kb,text:ty,textTween:ry,remove:qb,tween:sb,delay:Sb,duration:Cb,ease:Nb,easeVarying:kb,end:oy,[Symbol.iterator]:hn[Symbol.iterator]};function fy(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var cy={time:null,delay:0,duration:250,ease:fy};function uy(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function sy(t){var n,e;t instanceof Tn?(n=t._id,t=t._name):(n=sl(),(e=cy).time=Sf(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,c,s=0;s<f;++s)(c=a[s])&&so(c,t,n,s,a,e||uy(c,n));return new Tn(r,this._parents,t,n)}Er.prototype.interrupt=fb;Er.prototype.transition=sy;const La=Math.PI,ka=2*La,zn=1e-6,ly=ka-zn;function ll(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function dy(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return ll;const e=10**n;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class hy{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?ll:dy(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,o,a){this._append`C${+n},${+e},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(n,e,r,i,o){if(n=+n,e=+e,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,f=this._y1,c=r-n,s=i-e,u=a-n,d=f-e,l=u*u+d*d;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(l>zn)if(!(Math.abs(d*c-s*u)>zn)||!o)this._append`L${this._x1=n},${this._y1=e}`;else{let h=r-a,p=i-f,g=c*c+s*s,m=h*h+p*p,w=Math.sqrt(g),y=Math.sqrt(l),v=o*Math.tan((La-Math.acos((g+l-m)/(2*w*y)))/2),b=v/y,$=v/w;Math.abs(b-1)>zn&&this._append`L${n+b*u},${e+b*d}`,this._append`A${o},${o},0,0,${+(d*h>u*p)},${this._x1=n+$*c},${this._y1=e+$*s}`}}arc(n,e,r,i,o,a){if(n=+n,e=+e,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),c=r*Math.sin(i),s=n+f,u=e+c,d=1^a,l=a?i-o:o-i;this._x1===null?this._append`M${s},${u}`:(Math.abs(this._x1-s)>zn||Math.abs(this._y1-u)>zn)&&this._append`L${s},${u}`,r&&(l<0&&(l=l%ka+ka),l>ly?this._append`A${r},${r},0,1,${d},${n-f},${e-c}A${r},${r},0,1,${d},${this._x1=s},${this._y1=u}`:l>zn&&this._append`A${r},${r},0,${+(l>=La)},${d},${this._x1=n+r*Math.cos(o)},${this._y1=e+r*Math.sin(o)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Da(t=3){return new hy(+t)}function py(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Di(t,n){if(!isFinite(t)||t===0)return null;var e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"),r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Le(t){return t=Di(Math.abs(t)),t?t[1]:NaN}function gy(t,n){return function(e,r){for(var i=e.length,o=[],a=0,f=t[0],c=0;i>0&&f>0&&(c+f+1>r&&(f=Math.max(1,r-c)),o.push(e.substring(i-=f,i+f)),!((c+=f+1)>r));)f=t[a=(a+1)%t.length];return o.reverse().join(n)}}function my(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var by=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mr(t){if(!(n=by.exec(t)))throw new Error("invalid format: "+t);var n;return new Cf({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}mr.prototype=Cf.prototype;function Cf(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Cf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yy(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Ii;function wy(t,n){var e=Di(t,n);if(!e)return Ii=void 0,t.toPrecision(n);var r=e[0],i=e[1],o=i-(Ii=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Di(t,Math.max(0,n+o-1))[0]}function Rc(t,n){var e=Di(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Fc={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:py,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Rc(t*100,n),r:Rc,s:wy,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Oc(t){return t}var Pc=Array.prototype.map,qc=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function vy(t){var n=t.grouping===void 0||t.thousands===void 0?Oc:gy(Pc.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Oc:my(Pc.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function s(d,l){d=mr(d);var h=d.fill,p=d.align,g=d.sign,m=d.symbol,w=d.zero,y=d.width,v=d.comma,b=d.precision,$=d.trim,x=d.type;x==="n"?(v=!0,x="g"):Fc[x]||(b===void 0&&(b=12),$=!0,x="g"),(w||h==="0"&&p==="=")&&(w=!0,h="0",p="=");var M=(l&&l.prefix!==void 0?l.prefix:"")+(m==="$"?e:m==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():""),S=(m==="$"?r:/[%p]/.test(x)?a:"")+(l&&l.suffix!==void 0?l.suffix:""),T=Fc[x],L=/[defgprs%]/.test(x);b=b===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function A(E){var O=M,D=S,_,I,W;if(x==="c")D=T(E)+D,E="";else{E=+E;var B=E<0||1/E<0;if(E=isNaN(E)?c:T(Math.abs(E),b),$&&(E=yy(E)),B&&+E==0&&g!=="+"&&(B=!1),O=(B?g==="("?g:f:g==="-"||g==="("?"":g)+O,D=(x==="s"&&!isNaN(E)&&Ii!==void 0?qc[8+Ii/3]:"")+D+(B&&g==="("?")":""),L){for(_=-1,I=E.length;++_<I;)if(W=E.charCodeAt(_),48>W||W>57){D=(W===46?i+E.slice(_+1):E.slice(_))+D,E=E.slice(0,_);break}}}v&&!w&&(E=n(E,1/0));var k=O.length+E.length+D.length,R=k<y?new Array(y-k+1).join(h):"";switch(v&&w&&(E=n(R+E,R.length?y-D.length:1/0),R=""),p){case"<":E=O+E+D+R;break;case"=":E=O+R+E+D;break;case"^":E=R.slice(0,k=R.length>>1)+O+E+D+R.slice(k);break;default:E=R+O+E+D;break}return o(E)}return A.toString=function(){return d+""},A}function u(d,l){var h=Math.max(-8,Math.min(8,Math.floor(Le(l)/3)))*3,p=Math.pow(10,-h),g=s((d=mr(d),d.type="f",d),{suffix:qc[8+h/3]});return function(m){return g(p*m)}}return{format:s,formatPrefix:u}}var Jr,ze,dl;xy({thousands:",",grouping:[3],currency:["$",""]});function xy(t){return Jr=vy(t),ze=Jr.format,dl=Jr.formatPrefix,Jr}function My(t){return Math.max(0,-Le(Math.abs(t)))}function $y(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Le(n)/3)))*3-Le(Math.abs(t)))}function _y(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Le(n)-Le(t))+1}var X=1e-6,hl=1e-12,j=Math.PI,ut=j/2,Uc=j/4,Dt=j*2,$t=180/j,ct=j/180,rt=Math.abs,He=Math.atan,An=Math.atan2,Z=Math.cos,pl=Math.exp,Ri=Math.log,Uo=Math.pow,V=Math.sin,Ot=Math.sign||function(t){return t>0?1:t<0?-1:0},Ct=Math.sqrt,Ef=Math.tan;function gl(t){return t>1?0:t<-1?j:Math.acos(t)}function Ht(t){return t>1?ut:t<-1?-ut:Math.asin(t)}function Pt(){}function Fi(t,n){t&&Hc.hasOwnProperty(t.type)&&Hc[t.type](t,n)}var zc={Feature:function(t,n){Fi(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Fi(e[r].geometry,n)}},Hc={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Ia(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Ia(e[r],n,0)},Polygon:function(t,n){Bc(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Bc(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Fi(e[r],n)}};function Ia(t,n,e){var r=-1,i=t.length-e,o;for(n.lineStart();++r<i;)o=t[r],n.point(o[0],o[1],o[2]);n.lineEnd()}function Bc(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Ia(t[e],n,1);n.polygonEnd()}function Hn(t,n){t&&zc.hasOwnProperty(t.type)?zc[t.type](t,n):Fi(t,n)}function Ra(t){return[An(t[1],t[0]),Ht(t[2])]}function ke(t){var n=t[0],e=t[1],r=Z(e);return[r*Z(n),r*V(n),V(e)]}function ti(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Oi(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function zo(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function ni(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Fa(t){var n=Ct(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Oa(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function Pa(t,n){return rt(t)>j&&(t-=Math.round(t/Dt)*Dt),[t,n]}Pa.invert=Pa;function ml(t,n,e){return(t%=Dt)?n||e?Oa(Yc(t),Vc(n,e)):Yc(t):n||e?Vc(n,e):Pa}function Wc(t){return function(n,e){return n+=t,rt(n)>j&&(n-=Math.round(n/Dt)*Dt),[n,e]}}function Yc(t){var n=Wc(t);return n.invert=Wc(-t),n}function Vc(t,n){var e=Z(t),r=V(t),i=Z(n),o=V(n);function a(f,c){var s=Z(c),u=Z(f)*s,d=V(f)*s,l=V(c),h=l*e+u*r;return[An(d*i-h*o,u*e-l*r),Ht(h*i+d*o)]}return a.invert=function(f,c){var s=Z(c),u=Z(f)*s,d=V(f)*s,l=V(c),h=l*i-d*o;return[An(d*i+l*o,u*e+h*r),Ht(h*e-u*r)]},a}function Sy(t){t=ml(t[0]*ct,t[1]*ct,t.length>2?t[2]*ct:0);function n(e){return e=t(e[0]*ct,e[1]*ct),e[0]*=$t,e[1]*=$t,e}return n.invert=function(e){return e=t.invert(e[0]*ct,e[1]*ct),e[0]*=$t,e[1]*=$t,e},n}function Ty(t,n,e,r,i,o){if(e){var a=Z(n),f=V(n),c=r*e;i==null?(i=n+r*Dt,o=n-c/2):(i=Gc(a,i),o=Gc(a,o),(r>0?i<o:i>o)&&(i+=r*Dt));for(var s,u=i;r>0?u>o:u<o;u-=c)s=Ra([a,-f*Z(u),-f*V(u)]),t.point(s[0],s[1])}}function Gc(t,n){n=ke(n),n[0]-=t,Fa(n);var e=gl(-n[1]);return((-n[2]<0?-e:e)+Dt-X)%Dt}function bl(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:Pt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function wi(t,n){return rt(t[0]-n[0])<X&&rt(t[1]-n[1])<X}function ei(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function yl(t,n,e,r,i){var o=[],a=[],f,c;if(t.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],w=p[g],y;if(wi(m,w)){if(!m[2]&&!w[2]){for(i.lineStart(),f=0;f<g;++f)i.point((m=p[f])[0],m[1]);i.lineEnd();return}w[0]+=2*X}o.push(y=new ei(m,p,null,!0)),a.push(y.o=new ei(m,null,y,!1)),o.push(y=new ei(w,p,null,!1)),a.push(y.o=new ei(w,null,y,!0))}}),!!o.length){for(a.sort(n),Xc(o),Xc(a),f=0,c=a.length;f<c;++f)a[f].e=e=!e;for(var s=o[0],u,d;;){for(var l=s,h=!0;l.v;)if((l=l.n)===s)return;u=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(h)for(f=0,c=u.length;f<c;++f)i.point((d=u[f])[0],d[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(h)for(u=l.p.z,f=u.length-1;f>=0;--f)i.point((d=u[f])[0],d[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,u=l.z,h=!h}while(!l.v);i.lineEnd()}}}function Xc(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Ho(t){return rt(t[0])<=j?t[0]:Ot(t[0])*((rt(t[0])+j)%Dt-j)}function Ay(t,n){var e=Ho(n),r=n[1],i=V(r),o=[V(e),-Z(e),0],a=0,f=0,c=new Zn;i===1?r=ut+X:i===-1&&(r=-ut-X);for(var s=0,u=t.length;s<u;++s)if(l=(d=t[s]).length)for(var d,l,h=d[l-1],p=Ho(h),g=h[1]/2+Uc,m=V(g),w=Z(g),y=0;y<l;++y,p=b,m=x,w=M,h=v){var v=d[y],b=Ho(v),$=v[1]/2+Uc,x=V($),M=Z($),S=b-p,T=S>=0?1:-1,L=T*S,A=L>j,E=m*x;if(c.add(An(E*T*V(L),w*M+E*Z(L))),a+=A?S+T*Dt:S,A^p>=e^b>=e){var O=Oi(ke(h),ke(v));Fa(O);var D=Oi(o,O);Fa(D);var _=(A^S>=0?-1:1)*Ht(D[2]);(r>_||r===_&&(O[0]||O[1]))&&(f+=A^S>=0?1:-1)}}return(a<-X||a<X&&c<-hl)^f&1}function wl(t,n,e,r){return function(i){var o=n(i),a=bl(),f=n(a),c=!1,s,u,d,l={point:h,lineStart:g,lineEnd:m,polygonStart:function(){l.point=w,l.lineStart=y,l.lineEnd=v,u=[],s=[]},polygonEnd:function(){l.point=h,l.lineStart=g,l.lineEnd=m,u=Es(u);var b=Ay(s,r);u.length?(c||(i.polygonStart(),c=!0),yl(u,Ey,b,e,i)):b&&(c||(i.polygonStart(),c=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),u=s=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(b,$){t(b,$)&&i.point(b,$)}function p(b,$){o.point(b,$)}function g(){l.point=p,o.lineStart()}function m(){l.point=h,o.lineEnd()}function w(b,$){d.push([b,$]),f.point(b,$)}function y(){f.lineStart(),d=[]}function v(){w(d[0][0],d[0][1]),f.lineEnd();var b=f.clean(),$=a.result(),x,M=$.length,S,T,L;if(d.pop(),s.push(d),d=null,!!M){if(b&1){if(T=$[0],(S=T.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),x=0;x<S;++x)i.point((L=T[x])[0],L[1]);i.lineEnd()}return}M>1&&b&2&&$.push($.pop().concat($.shift())),u.push($.filter(Cy))}}return l}}function Cy(t){return t.length>1}function Ey(t,n){return((t=t.x)[0]<0?t[1]-ut-X:ut-t[1])-((n=n.x)[0]<0?n[1]-ut-X:ut-n[1])}const Zc=wl(function(){return!0},Ny,ky,[-j,-ut]);function Ny(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var f=o>0?j:-j,c=rt(o-n);rt(c-j)<X?(t.point(n,e=(e+a)/2>0?ut:-ut),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),t.point(o,e),i=0):r!==f&&c>=j&&(rt(n-r)<X&&(n-=r*X),rt(o-f)<X&&(o-=f*X),e=Ly(n,e,o,a),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),i=0),t.point(n=o,e=a),r=f},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function Ly(t,n,e,r){var i,o,a=V(t-e);return rt(a)>X?He((V(n)*(o=Z(r))*V(e)-V(r)*(i=Z(n))*V(t))/(i*o*a)):(n+r)/2}function ky(t,n,e,r){var i;if(t==null)i=e*ut,r.point(-j,i),r.point(0,i),r.point(j,i),r.point(j,0),r.point(j,-i),r.point(0,-i),r.point(-j,-i),r.point(-j,0),r.point(-j,i);else if(rt(t[0]-n[0])>X){var o=t[0]<n[0]?j:-j;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function Dy(t){var n=Z(t),e=2*ct,r=n>0,i=rt(n)>X;function o(u,d,l,h){Ty(h,t,e,l,u,d)}function a(u,d){return Z(u)*Z(d)>n}function f(u){var d,l,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(m,w){var y=[m,w],v,b=a(m,w),$=r?b?0:s(m,w):b?s(m+(m<0?j:-j),w):0;if(!d&&(p=h=b)&&u.lineStart(),b!==h&&(v=c(d,y),(!v||wi(d,v)||wi(y,v))&&(y[2]=1)),b!==h)g=0,b?(u.lineStart(),v=c(y,d),u.point(v[0],v[1])):(v=c(d,y),u.point(v[0],v[1],2),u.lineEnd()),d=v;else if(i&&d&&r^b){var x;!($&l)&&(x=c(y,d,!0))&&(g=0,r?(u.lineStart(),u.point(x[0][0],x[0][1]),u.point(x[1][0],x[1][1]),u.lineEnd()):(u.point(x[1][0],x[1][1]),u.lineEnd(),u.lineStart(),u.point(x[0][0],x[0][1],3)))}b&&(!d||!wi(d,y))&&u.point(y[0],y[1]),d=y,h=b,l=$},lineEnd:function(){h&&u.lineEnd(),d=null},clean:function(){return g|(p&&h)<<1}}}function c(u,d,l){var h=ke(u),p=ke(d),g=[1,0,0],m=Oi(h,p),w=ti(m,m),y=m[0],v=w-y*y;if(!v)return!l&&u;var b=n*w/v,$=-n*y/v,x=Oi(g,m),M=ni(g,b),S=ni(m,$);zo(M,S);var T=x,L=ti(M,T),A=ti(T,T),E=L*L-A*(ti(M,M)-1);if(!(E<0)){var O=Ct(E),D=ni(T,(-L-O)/A);if(zo(D,M),D=Ra(D),!l)return D;var _=u[0],I=d[0],W=u[1],B=d[1],k;I<_&&(k=_,_=I,I=k);var R=I-_,U=rt(R-j)<X,z=U||R<X;if(!U&&B<W&&(k=W,W=B,B=k),z?U?W+B>0^D[1]<(rt(D[0]-_)<X?W:B):W<=D[1]&&D[1]<=B:R>j^(_<=D[0]&&D[0]<=I)){var q=ni(T,(-L+O)/A);return zo(q,M),[D,Ra(q)]}}}function s(u,d){var l=r?t:j-t,h=0;return u<-l?h|=1:u>l&&(h|=2),d<-l?h|=4:d>l&&(h|=8),h}return wl(a,f,o,r?[0,-t]:[-j,t-j])}function Iy(t,n,e,r,i,o){var a=t[0],f=t[1],c=n[0],s=n[1],u=0,d=1,l=c-a,h=s-f,p;if(p=e-a,!(!l&&p>0)){if(p/=l,l<0){if(p<u)return;p<d&&(d=p)}else if(l>0){if(p>d)return;p>u&&(u=p)}if(p=i-a,!(!l&&p<0)){if(p/=l,l<0){if(p>d)return;p>u&&(u=p)}else if(l>0){if(p<u)return;p<d&&(d=p)}if(p=r-f,!(!h&&p>0)){if(p/=h,h<0){if(p<u)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>u&&(u=p)}if(p=o-f,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>u&&(u=p)}else if(h>0){if(p<u)return;p<d&&(d=p)}return u>0&&(t[0]=a+u*l,t[1]=f+u*h),d<1&&(n[0]=a+d*l,n[1]=f+d*h),!0}}}}}var nr=1e9,ri=-nr;function vl(t,n,e,r){function i(s,u){return t<=s&&s<=e&&n<=u&&u<=r}function o(s,u,d,l){var h=0,p=0;if(s==null||(h=a(s,d))!==(p=a(u,d))||c(s,u)<0^d>0)do l.point(h===0||h===3?t:e,h>1?r:n);while((h=(h+d+4)%4)!==p);else l.point(u[0],u[1])}function a(s,u){return rt(s[0]-t)<X?u>0?0:3:rt(s[0]-e)<X?u>0?2:1:rt(s[1]-n)<X?u>0?1:0:u>0?3:2}function f(s,u){return c(s.x,u.x)}function c(s,u){var d=a(s,1),l=a(u,1);return d!==l?d-l:d===0?u[1]-s[1]:d===1?s[0]-u[0]:d===2?s[1]-u[1]:u[0]-s[0]}return function(s){var u=s,d=bl(),l,h,p,g,m,w,y,v,b,$,x,M={point:S,lineStart:E,lineEnd:O,polygonStart:L,polygonEnd:A};function S(_,I){i(_,I)&&u.point(_,I)}function T(){for(var _=0,I=0,W=h.length;I<W;++I)for(var B=h[I],k=1,R=B.length,U=B[0],z,q,K=U[0],J=U[1];k<R;++k)z=K,q=J,U=B[k],K=U[0],J=U[1],q<=r?J>r&&(K-z)*(r-q)>(J-q)*(t-z)&&++_:J<=r&&(K-z)*(r-q)<(J-q)*(t-z)&&--_;return _}function L(){u=d,l=[],h=[],x=!0}function A(){var _=T(),I=x&&_,W=(l=Es(l)).length;(I||W)&&(s.polygonStart(),I&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),W&&yl(l,f,_,o,s),s.polygonEnd()),u=s,l=h=p=null}function E(){M.point=D,h&&h.push(p=[]),$=!0,b=!1,y=v=NaN}function O(){l&&(D(g,m),w&&b&&d.rejoin(),l.push(d.result())),M.point=S,b&&u.lineEnd()}function D(_,I){var W=i(_,I);if(h&&p.push([_,I]),$)g=_,m=I,w=W,$=!1,W&&(u.lineStart(),u.point(_,I));else if(W&&b)u.point(_,I);else{var B=[y=Math.max(ri,Math.min(nr,y)),v=Math.max(ri,Math.min(nr,v))],k=[_=Math.max(ri,Math.min(nr,_)),I=Math.max(ri,Math.min(nr,I))];Iy(B,k,t,n,e,r)?(b||(u.lineStart(),u.point(B[0],B[1])),u.point(k[0],k[1]),W||u.lineEnd(),x=!1):W&&(u.lineStart(),u.point(_,I),x=!1)}y=_,v=I,b=W}return M}}const qa=t=>t;var Bo=new Zn,Ua=new Zn,xl,Ml,za,Ha,wn={point:Pt,lineStart:Pt,lineEnd:Pt,polygonStart:function(){wn.lineStart=Ry,wn.lineEnd=Oy},polygonEnd:function(){wn.lineStart=wn.lineEnd=wn.point=Pt,Bo.add(rt(Ua)),Ua=new Zn},result:function(){var t=Bo/2;return Bo=new Zn,t}};function Ry(){wn.point=Fy}function Fy(t,n){wn.point=$l,xl=za=t,Ml=Ha=n}function $l(t,n){Ua.add(Ha*t-za*n),za=t,Ha=n}function Oy(){$l(xl,Ml)}var De=1/0,Pi=De,br=-De,qi=br,Ui={point:Py,lineStart:Pt,lineEnd:Pt,polygonStart:Pt,polygonEnd:Pt,result:function(){var t=[[De,Pi],[br,qi]];return br=qi=-(Pi=De=1/0),t}};function Py(t,n){t<De&&(De=t),t>br&&(br=t),n<Pi&&(Pi=n),n>qi&&(qi=n)}var Ba=0,Wa=0,er=0,zi=0,Hi=0,Me=0,Ya=0,Va=0,rr=0,_l,Sl,nn,en,Ft={point:ee,lineStart:jc,lineEnd:Kc,polygonStart:function(){Ft.lineStart=zy,Ft.lineEnd=Hy},polygonEnd:function(){Ft.point=ee,Ft.lineStart=jc,Ft.lineEnd=Kc},result:function(){var t=rr?[Ya/rr,Va/rr]:Me?[zi/Me,Hi/Me]:er?[Ba/er,Wa/er]:[NaN,NaN];return Ba=Wa=er=zi=Hi=Me=Ya=Va=rr=0,t}};function ee(t,n){Ba+=t,Wa+=n,++er}function jc(){Ft.point=qy}function qy(t,n){Ft.point=Uy,ee(nn=t,en=n)}function Uy(t,n){var e=t-nn,r=n-en,i=Ct(e*e+r*r);zi+=i*(nn+t)/2,Hi+=i*(en+n)/2,Me+=i,ee(nn=t,en=n)}function Kc(){Ft.point=ee}function zy(){Ft.point=By}function Hy(){Tl(_l,Sl)}function By(t,n){Ft.point=Tl,ee(_l=nn=t,Sl=en=n)}function Tl(t,n){var e=t-nn,r=n-en,i=Ct(e*e+r*r);zi+=i*(nn+t)/2,Hi+=i*(en+n)/2,Me+=i,i=en*t-nn*n,Ya+=i*(nn+t),Va+=i*(en+n),rr+=i*3,ee(nn=t,en=n)}function Al(t){this._context=t}Al.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Dt);break}}},result:Pt};var Ga=new Zn,Wo,Cl,El,ir,or,yr={point:Pt,lineStart:function(){yr.point=Wy},lineEnd:function(){Wo&&Nl(Cl,El),yr.point=Pt},polygonStart:function(){Wo=!0},polygonEnd:function(){Wo=null},result:function(){var t=+Ga;return Ga=new Zn,t}};function Wy(t,n){yr.point=Nl,Cl=ir=t,El=or=n}function Nl(t,n){ir-=t,or-=n,Ga.add(Ct(ir*ir+or*or)),ir=t,or=n}let Qc,Bi,Jc,tu;class nu{constructor(n){this._append=n==null?Ll:Yy(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==Jc||this._append!==Bi){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Jc=r,Bi=this._append,tu=this._,this._=i}this._+=tu;break}}}result(){const n=this._;return this._="",n.length?n:null}}function Ll(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Yy(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Ll;if(n!==Qc){const e=10**n;Qc=n,Bi=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*e)/e+i[o]}}return Bi}function Nf(t,n){let e=3,r=4.5,i,o;function a(f){return f&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Hn(f,i(o))),o.result()}return a.area=function(f){return Hn(f,i(wn)),wn.result()},a.measure=function(f){return Hn(f,i(yr)),yr.result()},a.bounds=function(f){return Hn(f,i(Ui)),Ui.result()},a.centroid=function(f){return Hn(f,i(Ft)),Ft.result()},a.projection=function(f){return arguments.length?(i=f==null?(t=null,qa):(t=f).stream,a):t},a.context=function(f){return arguments.length?(o=f==null?(n=null,new nu(e)):new Al(n=f),typeof r!="function"&&o.pointRadius(r),a):n},a.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(o.pointRadius(+f),+f),a):r},a.digits=function(f){if(!arguments.length)return e;if(f==null)e=null;else{const c=Math.floor(f);if(!(c>=0))throw new RangeError(`invalid digits: ${f}`);e=c}return n===null&&(o=new nu(e)),a},a.projection(t).digits(e).context(n)}function Wi(t){return{stream:lo(t)}}function lo(t){return function(n){var e=new Xa;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Xa(){}Xa.prototype={constructor:Xa,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Lf(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Hn(e,t.stream(Ui)),n(Ui.result()),r!=null&&t.clipExtent(r),t}function kf(t,n,e){return Lf(t,function(r){var i=n[1][0]-n[0][0],o=n[1][1]-n[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),f=+n[0][0]+(i-a*(r[1][0]+r[0][0]))/2,c=+n[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([f,c])},e)}function kl(t,n,e){return kf(t,[[0,0],n],e)}function Dl(t,n,e){return Lf(t,function(r){var i=+n,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,f=-o*r[0][1];t.scale(150*o).translate([a,f])},e)}function Il(t,n,e){return Lf(t,function(r){var i=+n,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],f=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,f])},e)}var eu=16,Vy=Z(30*ct);function ru(t,n){return+n?Xy(t,n):Gy(t)}function Gy(t){return lo({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function Xy(t,n){function e(r,i,o,a,f,c,s,u,d,l,h,p,g,m){var w=s-r,y=u-i,v=w*w+y*y;if(v>4*n&&g--){var b=a+l,$=f+h,x=c+p,M=Ct(b*b+$*$+x*x),S=Ht(x/=M),T=rt(rt(x)-1)<X||rt(o-d)<X?(o+d)/2:An($,b),L=t(T,S),A=L[0],E=L[1],O=A-r,D=E-i,_=y*O-w*D;(_*_/v>n||rt((w*O+y*D)/v-.5)>.3||a*l+f*h+c*p<Vy)&&(e(r,i,o,a,f,c,A,E,T,b/=M,$/=M,x,g,m),m.point(A,E),e(A,E,T,b,$,x,s,u,d,l,h,p,g,m))}}return function(r){var i,o,a,f,c,s,u,d,l,h,p,g,m={point:w,lineStart:y,lineEnd:b,polygonStart:function(){r.polygonStart(),m.lineStart=$},polygonEnd:function(){r.polygonEnd(),m.lineStart=y}};function w(S,T){S=t(S,T),r.point(S[0],S[1])}function y(){d=NaN,m.point=v,r.lineStart()}function v(S,T){var L=ke([S,T]),A=t(S,T);e(d,l,u,h,p,g,d=A[0],l=A[1],u=S,h=L[0],p=L[1],g=L[2],eu,r),r.point(d,l)}function b(){m.point=w,r.lineEnd()}function $(){y(),m.point=x,m.lineEnd=M}function x(S,T){v(i=S,T),o=d,a=l,f=h,c=p,s=g,m.point=v}function M(){e(d,l,u,h,p,g,o,a,i,f,c,s,eu,r),m.lineEnd=b,b()}return m}}var Zy=lo({point:function(t,n){this.stream.point(t*ct,n*ct)}});function jy(t){return lo({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function Ky(t,n,e,r,i){function o(a,f){return a*=r,f*=i,[n+t*a,e-t*f]}return o.invert=function(a,f){return[(a-n)/t*r,(e-f)/t*i]},o}function iu(t,n,e,r,i,o){if(!o)return Ky(t,n,e,r,i);var a=Z(o),f=V(o),c=a*t,s=f*t,u=a/t,d=f/t,l=(f*e-a*n)/t,h=(f*n+a*e)/t;function p(g,m){return g*=r,m*=i,[c*g-s*m+n,e-s*g-c*m]}return p.invert=function(g,m){return[r*(u*g-d*m+l),i*(h-d*g-u*m)]},p}function On(t){return Rl(function(){return t})()}function Rl(t){var n,e=150,r=480,i=250,o=0,a=0,f=0,c=0,s=0,u,d=0,l=1,h=1,p=null,g=Zc,m=null,w,y,v,b=qa,$=.5,x,M,S,T,L;function A(_){return S(_[0]*ct,_[1]*ct)}function E(_){return _=S.invert(_[0],_[1]),_&&[_[0]*$t,_[1]*$t]}A.stream=function(_){return T&&L===_?T:T=Zy(jy(u)(g(x(b(L=_)))))},A.preclip=function(_){return arguments.length?(g=_,p=void 0,D()):g},A.postclip=function(_){return arguments.length?(b=_,m=w=y=v=null,D()):b},A.clipAngle=function(_){return arguments.length?(g=+_?Dy(p=_*ct):(p=null,Zc),D()):p*$t},A.clipExtent=function(_){return arguments.length?(b=_==null?(m=w=y=v=null,qa):vl(m=+_[0][0],w=+_[0][1],y=+_[1][0],v=+_[1][1]),D()):m==null?null:[[m,w],[y,v]]},A.scale=function(_){return arguments.length?(e=+_,O()):e},A.translate=function(_){return arguments.length?(r=+_[0],i=+_[1],O()):[r,i]},A.center=function(_){return arguments.length?(o=_[0]%360*ct,a=_[1]%360*ct,O()):[o*$t,a*$t]},A.rotate=function(_){return arguments.length?(f=_[0]%360*ct,c=_[1]%360*ct,s=_.length>2?_[2]%360*ct:0,O()):[f*$t,c*$t,s*$t]},A.angle=function(_){return arguments.length?(d=_%360*ct,O()):d*$t},A.reflectX=function(_){return arguments.length?(l=_?-1:1,O()):l<0},A.reflectY=function(_){return arguments.length?(h=_?-1:1,O()):h<0},A.precision=function(_){return arguments.length?(x=ru(M,$=_*_),D()):Ct($)},A.fitExtent=function(_,I){return kf(A,_,I)},A.fitSize=function(_,I){return kl(A,_,I)},A.fitWidth=function(_,I){return Dl(A,_,I)},A.fitHeight=function(_,I){return Il(A,_,I)};function O(){var _=iu(e,0,0,l,h,d).apply(null,n(o,a)),I=iu(e,r-_[0],i-_[1],l,h,d);return u=ml(f,c,s),M=Oa(n,I),S=Oa(u,M),x=ru(M,$),D()}function D(){return T=L=null,A}return function(){return n=t.apply(this,arguments),A.invert=n.invert&&E,O()}}function Df(t){var n=0,e=j/3,r=Rl(t),i=r(n,e);return i.parallels=function(o){return arguments.length?r(n=o[0]*ct,e=o[1]*ct):[n*$t,e*$t]},i}function Qy(t){var n=Z(t);function e(r,i){return[r*n,V(i)/n]}return e.invert=function(r,i){return[r/n,Ht(i*n)]},e}function Jy(t,n){var e=V(t),r=(e+V(n))/2;if(rt(r)<X)return Qy(t);var i=1+e*(2*r-e),o=Ct(i)/r;function a(f,c){var s=Ct(i-2*r*V(c))/r;return[s*V(f*=r),o-s*Z(f)]}return a.invert=function(f,c){var s=o-c,u=An(f,rt(s))*Ot(s);return s*r<0&&(u-=j*Ot(f)*Ot(s)),[u/r,Ht((i-(f*f+s*s)*r*r)/(2*r))]},a}function Yi(){return Df(Jy).scale(155.424).center([0,33.6442])}function Fl(){return Yi().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function t2(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function n2(){var t,n,e=Fl(),r,i=Yi().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=Yi().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,c,s={point:function(l,h){c=[l,h]}};function u(l){var h=l[0],p=l[1];return c=null,r.point(h,p),c||(o.point(h,p),c)||(f.point(h,p),c)}u.invert=function(l){var h=e.scale(),p=e.translate(),g=(l[0]-p[0])/h,m=(l[1]-p[1])/h;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?i:m>=.166&&m<.234&&g>=-.214&&g<-.115?a:e).invert(l)},u.stream=function(l){return t&&n===l?t:t=t2([e.stream(n=l),i.stream(l),a.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),a.precision(l),d()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l*.35),a.scale(l),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();var h=e.scale(),p=+l[0],g=+l[1];return r=e.translate(l).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(s),o=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+X,g+.12*h+X],[p-.214*h-X,g+.234*h-X]]).stream(s),f=a.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+X,g+.166*h+X],[p-.115*h-X,g+.234*h-X]]).stream(s),d()},u.fitExtent=function(l,h){return kf(u,l,h)},u.fitSize=function(l,h){return kl(u,l,h)},u.fitWidth=function(l,h){return Dl(u,l,h)},u.fitHeight=function(l,h){return Il(u,l,h)};function d(){return t=n=null,u}return u.scale(1070)}function Ol(t){return function(n,e){var r=Z(n),i=Z(e),o=t(r*i);return o===1/0?[2,0]:[o*i*V(n),o*V(e)]}}function kr(t){return function(n,e){var r=Ct(n*n+e*e),i=t(r),o=V(i),a=Z(i);return[An(n*o,r*a),Ht(r&&e*o/r)]}}var Pl=Ol(function(t){return Ct(2/(1+t))});Pl.invert=kr(function(t){return 2*Ht(t/2)});function e2(){return On(Pl).scale(124.75).clipAngle(180-.001)}var ql=Ol(function(t){return(t=gl(t))&&t/V(t)});ql.invert=kr(function(t){return t});function r2(){return On(ql).scale(79.4188).clipAngle(180-.001)}function ho(t,n){return[t,Ri(Ef((ut+n)/2))]}ho.invert=function(t,n){return[t,2*He(pl(n))-ut]};function i2(){return Ul(ho).scale(961/Dt)}function Ul(t){var n=On(t),e=n.center,r=n.scale,i=n.translate,o=n.clipExtent,a=null,f,c,s;n.scale=function(d){return arguments.length?(r(d),u()):r()},n.translate=function(d){return arguments.length?(i(d),u()):i()},n.center=function(d){return arguments.length?(e(d),u()):e()},n.clipExtent=function(d){return arguments.length?(d==null?a=f=c=s=null:(a=+d[0][0],f=+d[0][1],c=+d[1][0],s=+d[1][1]),u()):a==null?null:[[a,f],[c,s]]};function u(){var d=j*r(),l=n(Sy(n.rotate()).invert([0,0]));return o(a==null?[[l[0]-d,l[1]-d],[l[0]+d,l[1]+d]]:t===ho?[[Math.max(l[0]-d,a),f],[Math.min(l[0]+d,c),s]]:[[a,Math.max(l[1]-d,f)],[c,Math.min(l[1]+d,s)]])}return u()}function ii(t){return Ef((ut+t)/2)}function o2(t,n){var e=Z(t),r=t===n?V(t):Ri(e/Z(n))/Ri(ii(n)/ii(t)),i=e*Uo(ii(t),r)/r;if(!r)return ho;function o(a,f){i>0?f<-ut+X&&(f=-ut+X):f>ut-X&&(f=ut-X);var c=i/Uo(ii(f),r);return[c*V(r*a),i-c*Z(r*a)]}return o.invert=function(a,f){var c=i-f,s=Ot(r)*Ct(a*a+c*c),u=An(a,rt(c))*Ot(c);return c*r<0&&(u-=j*Ot(a)*Ot(c)),[u/r,2*He(Uo(i/s,1/r))-ut]},o}function a2(){return Df(o2).scale(109.5).parallels([30,30])}function Vi(t,n){return[t,n]}Vi.invert=Vi;function f2(){return On(Vi).scale(152.63)}function c2(t,n){var e=Z(t),r=t===n?V(t):(e-Z(n))/(n-t),i=e/r+t;if(rt(r)<X)return Vi;function o(a,f){var c=i-f,s=r*a;return[c*V(s),i-c*Z(s)]}return o.invert=function(a,f){var c=i-f,s=An(a,rt(c))*Ot(c);return c*r<0&&(s-=j*Ot(a)*Ot(c)),[s/r,i-Ot(r)*Ct(a*a+c*c)]},o}function u2(){return Df(c2).scale(131.154).center([0,13.9389])}var ur=1.340264,sr=-.081106,lr=893e-6,dr=.003796,Gi=Ct(3)/2,s2=12;function zl(t,n){var e=Ht(Gi*V(n)),r=e*e,i=r*r*r;return[t*Z(e)/(Gi*(ur+3*sr*r+i*(7*lr+9*dr*r))),e*(ur+sr*r+i*(lr+dr*r))]}zl.invert=function(t,n){for(var e=n,r=e*e,i=r*r*r,o=0,a,f,c;o<s2&&(f=e*(ur+sr*r+i*(lr+dr*r))-n,c=ur+3*sr*r+i*(7*lr+9*dr*r),e-=a=f/c,r=e*e,i=r*r*r,!(rt(a)<hl));++o);return[Gi*t*(ur+3*sr*r+i*(7*lr+9*dr*r))/Z(e),Ht(V(e)/Gi)]};function l2(){return On(zl).scale(177.158)}function Hl(t,n){var e=Z(n),r=Z(t)*e;return[e*V(t)/r,V(n)/r]}Hl.invert=kr(He);function d2(){return On(Hl).scale(144.049).clipAngle(60)}function Bl(t,n){return[Z(n)*V(t),V(n)]}Bl.invert=kr(Ht);function h2(){return On(Bl).scale(249.5).clipAngle(90+X)}function Wl(t,n){var e=Z(n),r=1+Z(t)*e;return[e*V(t)/r,V(n)/r]}Wl.invert=kr(function(t){return 2*He(t)});function p2(){return On(Wl).scale(250).clipAngle(142)}function Yl(t,n){return[Ri(Ef((ut+n)/2)),-t]}Yl.invert=function(t,n){return[-n,2*He(pl(t))-ut]};function g2(){var t=Ul(Yl),n=t.center,e=t.rotate;return t.center=function(r){return arguments.length?n([-r[1],r[0]]):(r=n(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}function ln(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function po(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const Za=Symbol("implicit");function If(){var t=new jn,n=[],e=[],r=Za;function i(o){let a=t.get(o);if(a===void 0){if(r!==Za)return r;t.set(o,a=n.push(o)-1)}return e[a%e.length]}return i.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new jn;for(const a of o)t.has(a)||t.set(a,n.push(a)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return If(n,e).unknown(r)},ln.apply(i,arguments),i}function go(){var t=If().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,o,a,f=!1,c=0,s=0,u=.5;delete t.unknown;function d(){var l=n().length,h=i<r,p=h?i:r,g=h?r:i;o=(g-p)/Math.max(1,l-c+s*2),f&&(o=Math.floor(o)),p+=(g-p-o*(l-c))*u,a=o*(1-c),f&&(p=Math.round(p),a=Math.round(a));var m=xa(l).map(function(w){return p+o*w});return e(h?m.reverse():m)}return t.domain=function(l){return arguments.length?(n(l),d()):n()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,f=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(l){return arguments.length?(f=!!l,d()):f},t.padding=function(l){return arguments.length?(c=Math.min(1,s=+l),d()):c},t.paddingInner=function(l){return arguments.length?(c=Math.min(1,l),d()):c},t.paddingOuter=function(l){return arguments.length?(s=+l,d()):s},t.align=function(l){return arguments.length?(u=Math.max(0,Math.min(1,l)),d()):u},t.copy=function(){return go(n(),[r,i]).round(f).paddingInner(c).paddingOuter(s).align(u)},ln.apply(d(),arguments)}function Vl(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Vl(n())},t}function m2(){return Vl(go.apply(null,arguments).paddingInner(1))}function b2(t){return function(){return t}}function ja(t){return+t}var ou=[0,1];function qt(t){return t}function Ka(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:b2(isNaN(n)?NaN:.5)}function y2(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function w2(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=Ka(i,r),o=e(a,o)):(r=Ka(r,i),o=e(o,a)),function(f){return o(r(f))}}function v2(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=Ka(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(f){var c=pf(t,f,1,r)-1;return o[c](i[c](f))}}function Dr(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function mo(){var t=ou,n=ou,e=Lr,r,i,o,a=qt,f,c,s;function u(){var l=Math.min(t.length,n.length);return a!==qt&&(a=y2(t[0],t[l-1])),f=l>2?v2:w2,c=s=null,d}function d(l){return l==null||isNaN(l=+l)?o:(c||(c=f(t.map(r),n,e)))(r(a(l)))}return d.invert=function(l){return a(i((s||(s=f(n,t.map(r),wt)))(l)))},d.domain=function(l){return arguments.length?(t=Array.from(l,ja),u()):t.slice()},d.range=function(l){return arguments.length?(n=Array.from(l),u()):n.slice()},d.rangeRound=function(l){return n=Array.from(l),e=$f,u()},d.clamp=function(l){return arguments.length?(a=l?!0:qt,u()):a!==qt},d.interpolate=function(l){return arguments.length?(e=l,u()):e},d.unknown=function(l){return arguments.length?(o=l,d):o},function(l,h){return r=l,i=h,u()}}function Gl(){return mo()(qt,qt)}function x2(t,n,e,r){var i=wa(t,n,e),o;switch(r=mr(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=$y(i,a))&&(r.precision=o),dl(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=_y(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=My(i))&&(r.precision=o-(r.type==="%")*2);break}}return ze(r)}function Ir(t){var n=t.domain;return t.ticks=function(e){var r=n();return _i(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return x2(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,a=r[i],f=r[o],c,s,u=10;for(f<a&&(s=a,a=f,f=s,s=i,i=o,o=s);u-- >0;){if(s=ya(a,f,e),s===c)return r[i]=a,r[o]=f,n(r);if(s>0)a=Math.floor(a/s)*s,f=Math.ceil(f/s)*s;else if(s<0)a=Math.ceil(a*s)/s,f=Math.floor(f*s)/s;else break;c=s}return t},t}function Rf(){var t=Gl();return t.copy=function(){return Dr(t,Rf())},ln.apply(t,arguments),Ir(t)}function Xl(t){var n;function e(r){return r==null||isNaN(r=+r)?n:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=Array.from(r,ja),e):t.slice()},e.unknown=function(r){return arguments.length?(n=r,e):n},e.copy=function(){return Xl(t).unknown(n)},t=arguments.length?Array.from(t,ja):[0,1],Ir(e)}function Zl(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],o=t[r],a;return o<i&&(a=e,e=r,r=a,a=i,i=o,o=a),t[e]=n.floor(i),t[r]=n.ceil(o),t}function au(t){return Math.log(t)}function fu(t){return Math.exp(t)}function M2(t){return-Math.log(-t)}function $2(t){return-Math.exp(-t)}function _2(t){return isFinite(t)?+("1e"+t):t<0?0:t}function S2(t){return t===10?_2:t===Math.E?Math.exp:n=>Math.pow(t,n)}function T2(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function cu(t){return(n,e)=>-t(-n,e)}function jl(t){const n=t(au,fu),e=n.domain;let r=10,i,o;function a(){return i=T2(r),o=S2(r),e()[0]<0?(i=cu(i),o=cu(o),t(M2,$2)):t(au,fu),n}return n.base=function(f){return arguments.length?(r=+f,a()):r},n.domain=function(f){return arguments.length?(e(f),a()):e()},n.ticks=f=>{const c=e();let s=c[0],u=c[c.length-1];const d=u<s;d&&([s,u]=[u,s]);let l=i(s),h=i(u),p,g;const m=f==null?10:+f;let w=[];if(!(r%1)&&h-l<m){if(l=Math.floor(l),h=Math.ceil(h),s>0){for(;l<=h;++l)for(p=1;p<r;++p)if(g=l<0?p/o(-l):p*o(l),!(g<s)){if(g>u)break;w.push(g)}}else for(;l<=h;++l)for(p=r-1;p>=1;--p)if(g=l>0?p/o(-l):p*o(l),!(g<s)){if(g>u)break;w.push(g)}w.length*2<m&&(w=_i(s,u,m))}else w=_i(l,h,Math.min(h-l,m)).map(o);return d?w.reverse():w},n.tickFormat=(f,c)=>{if(f==null&&(f=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=mr(c)).precision==null&&(c.trim=!0),c=ze(c)),f===1/0)return c;const s=Math.max(1,r*f/n.ticks().length);return u=>{let d=u/o(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=s?c(u):""}},n.nice=()=>e(Zl(e(),{floor:f=>o(Math.floor(i(f))),ceil:f=>o(Math.ceil(i(f)))})),n}function Kl(){const t=jl(mo()).domain([1,10]);return t.copy=()=>Dr(t,Kl()).base(t.base()),ln.apply(t,arguments),t}function uu(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function su(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function Ql(t){var n=1,e=t(uu(n),su(n));return e.constant=function(r){return arguments.length?t(uu(n=+r),su(n)):n},Ir(e)}function Jl(){var t=Ql(mo());return t.copy=function(){return Dr(t,Jl()).constant(t.constant())},ln.apply(t,arguments)}function lu(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function A2(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function C2(t){return t<0?-t*t:t*t}function td(t){var n=t(qt,qt),e=1;function r(){return e===1?t(qt,qt):e===.5?t(A2,C2):t(lu(e),lu(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},Ir(n)}function nd(){var t=td(mo());return t.copy=function(){return Dr(t,nd()).exponent(t.exponent())},ln.apply(t,arguments),t}function ed(){var t=[],n=[],e=[],r;function i(){var a=0,f=Math.max(1,n.length);for(e=new Array(f-1);++a<f;)e[a-1]=x1(t,a/f);return o}function o(a){return a==null||isNaN(a=+a)?r:n[pf(e,a)]}return o.invertExtent=function(a){var f=n.indexOf(a);return f<0?[NaN,NaN]:[f>0?e[f-1]:t[0],f<e.length?e[f]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let f of a)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(At),i()},o.range=function(a){return arguments.length?(n=Array.from(a),i()):n.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return e.slice()},o.copy=function(){return ed().domain(t).range(n).unknown(r)},ln.apply(o,arguments)}function rd(){var t=[.5],n=[0,1],e,r=1;function i(o){return o!=null&&o<=o?n[pf(t,o,0,r)]:e}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(o){return arguments.length?(n=Array.from(o),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(o){var a=n.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(e=o,i):e},i.copy=function(){return rd().domain(t).range(n).unknown(e)},ln.apply(i,arguments)}const Yo=new Date,Vo=new Date;function ht(t,n,e,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),n(o,1),t(o),o),i.round=o=>{const a=i(o),f=i.ceil(o);return o-a<f-o?a:f},i.offset=(o,a)=>(n(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,f)=>{const c=[];if(o=i.ceil(o),f=f==null?1:Math.floor(f),!(o<a)||!(f>0))return c;let s;do c.push(s=new Date(+o)),n(o,f),t(o);while(s<o&&o<a);return c},i.filter=o=>ht(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,f)=>{if(a>=a)if(f<0)for(;++f<=0;)for(;n(a,-1),!o(a););else for(;--f>=0;)for(;n(a,1),!o(a););}),e&&(i.count=(o,a)=>(Yo.setTime(+o),Vo.setTime(+a),t(Yo),t(Vo),Math.floor(e(Yo,Vo))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Xi=ht(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);Xi.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ht(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):Xi);Xi.range;const xn=1e3,Ut=xn*60,Mn=Ut*60,Cn=Mn*24,Ff=Cn*7,du=Cn*30,Go=Cn*365,Gt=ht(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*xn)},(t,n)=>(n-t)/xn,t=>t.getUTCSeconds());Gt.range;const Rr=ht(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xn)},(t,n)=>{t.setTime(+t+n*Ut)},(t,n)=>(n-t)/Ut,t=>t.getMinutes());Rr.range;const Fr=ht(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*Ut)},(t,n)=>(n-t)/Ut,t=>t.getUTCMinutes());Fr.range;const Or=ht(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xn-t.getMinutes()*Ut)},(t,n)=>{t.setTime(+t+n*Mn)},(t,n)=>(n-t)/Mn,t=>t.getHours());Or.range;const Pr=ht(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*Mn)},(t,n)=>(n-t)/Mn,t=>t.getUTCHours());Pr.range;const ce=ht(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ut)/Cn,t=>t.getDate()-1);ce.range;const bo=ht(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Cn,t=>t.getUTCDate()-1);bo.range;const yo=ht(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/Cn,t=>Math.floor(t/Cn));yo.range;function ue(t){return ht(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+e*7)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Ut)/Ff)}const Ie=ue(0),wr=ue(1),id=ue(2),od=ue(3),re=ue(4),ad=ue(5),fd=ue(6);Ie.range;wr.range;id.range;od.range;re.range;ad.range;fd.range;function se(t){return ht(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e*7)},(n,e)=>(e-n)/Ff)}const Re=se(0),vr=se(1),cd=se(2),ud=se(3),ie=se(4),sd=se(5),ld=se(6);Re.range;vr.range;cd.range;ud.range;ie.range;sd.range;ld.range;const qr=ht(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12,t=>t.getMonth());qr.range;const Ur=ht(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ur.range;const jt=ht(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());jt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ht(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)});jt.range;const Kt=ht(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Kt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ht(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)});Kt.range;function dd(t,n,e,r,i,o){const a=[[Gt,1,xn],[Gt,5,5*xn],[Gt,15,15*xn],[Gt,30,30*xn],[o,1,Ut],[o,5,5*Ut],[o,15,15*Ut],[o,30,30*Ut],[i,1,Mn],[i,3,3*Mn],[i,6,6*Mn],[i,12,12*Mn],[r,1,Cn],[r,2,2*Cn],[e,1,Ff],[n,1,du],[n,3,3*du],[t,1,Go]];function f(s,u,d){const l=u<s;l&&([s,u]=[u,s]);const h=d&&typeof d.range=="function"?d:c(s,u,d),p=h?h.range(s,+u+1):[];return l?p.reverse():p}function c(s,u,d){const l=Math.abs(u-s)/d,h=eo(([,,m])=>m).right(a,l);if(h===a.length)return t.every(wa(s/Go,u/Go,d));if(h===0)return Xi.every(Math.max(wa(s,u,d),1));const[p,g]=a[l/a[h-1][2]<a[h][2]/l?h-1:h];return p.every(g)}return[f,c]}const[E2,N2]=dd(Kt,Ur,Re,yo,Pr,Fr),[L2,k2]=dd(jt,qr,Ie,ce,Or,Rr);function Xo(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Zo(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Xe(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function D2(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,f=t.months,c=t.shortMonths,s=Ze(i),u=je(i),d=Ze(o),l=je(o),h=Ze(a),p=je(a),g=Ze(f),m=je(f),w=Ze(c),y=je(c),v={a:W,A:B,b:k,B:R,c:null,d:yu,e:yu,f:e6,g:d6,G:p6,H:J2,I:t6,j:n6,L:hd,m:r6,M:i6,p:U,q:z,Q:xu,s:Mu,S:o6,u:a6,U:f6,V:c6,w:u6,W:s6,x:null,X:null,y:l6,Y:h6,Z:g6,"%":vu},b={a:q,A:K,b:J,B:tt,c:null,d:wu,e:wu,f:w6,g:E6,G:L6,H:m6,I:b6,j:y6,L:gd,m:v6,M:x6,p:P,q:et,Q:xu,s:Mu,S:M6,u:$6,U:_6,V:S6,w:T6,W:A6,x:null,X:null,y:C6,Y:N6,Z:k6,"%":vu},$={a:L,A,b:E,B:O,c:D,d:mu,e:mu,f:Z2,g:gu,G:pu,H:bu,I:bu,j:Y2,L:X2,m:W2,M:V2,p:T,q:B2,Q:K2,s:Q2,S:G2,u:P2,U:q2,V:U2,w:O2,W:z2,x:_,X:I,y:gu,Y:pu,Z:H2,"%":j2};v.x=x(e,v),v.X=x(r,v),v.c=x(n,v),b.x=x(e,b),b.X=x(r,b),b.c=x(n,b);function x(N,F){return function(H){var C=[],ot=-1,Y=0,ft=N.length,lt,Et,ye;for(H instanceof Date||(H=new Date(+H));++ot<ft;)N.charCodeAt(ot)===37&&(C.push(N.slice(Y,ot)),(Et=hu[lt=N.charAt(++ot)])!=null?lt=N.charAt(++ot):Et=lt==="e"?" ":"0",(ye=F[lt])&&(lt=ye(H,Et)),C.push(lt),Y=ot+1);return C.push(N.slice(Y,ot)),C.join("")}}function M(N,F){return function(H){var C=Xe(1900,void 0,1),ot=S(C,N,H+="",0),Y,ft;if(ot!=H.length)return null;if("Q"in C)return new Date(C.Q);if("s"in C)return new Date(C.s*1e3+("L"in C?C.L:0));if(F&&!("Z"in C)&&(C.Z=0),"p"in C&&(C.H=C.H%12+C.p*12),C.m===void 0&&(C.m="q"in C?C.q:0),"V"in C){if(C.V<1||C.V>53)return null;"w"in C||(C.w=1),"Z"in C?(Y=Zo(Xe(C.y,0,1)),ft=Y.getUTCDay(),Y=ft>4||ft===0?vr.ceil(Y):vr(Y),Y=bo.offset(Y,(C.V-1)*7),C.y=Y.getUTCFullYear(),C.m=Y.getUTCMonth(),C.d=Y.getUTCDate()+(C.w+6)%7):(Y=Xo(Xe(C.y,0,1)),ft=Y.getDay(),Y=ft>4||ft===0?wr.ceil(Y):wr(Y),Y=ce.offset(Y,(C.V-1)*7),C.y=Y.getFullYear(),C.m=Y.getMonth(),C.d=Y.getDate()+(C.w+6)%7)}else("W"in C||"U"in C)&&("w"in C||(C.w="u"in C?C.u%7:"W"in C?1:0),ft="Z"in C?Zo(Xe(C.y,0,1)).getUTCDay():Xo(Xe(C.y,0,1)).getDay(),C.m=0,C.d="W"in C?(C.w+6)%7+C.W*7-(ft+5)%7:C.w+C.U*7-(ft+6)%7);return"Z"in C?(C.H+=C.Z/100|0,C.M+=C.Z%100,Zo(C)):Xo(C)}}function S(N,F,H,C){for(var ot=0,Y=F.length,ft=H.length,lt,Et;ot<Y;){if(C>=ft)return-1;if(lt=F.charCodeAt(ot++),lt===37){if(lt=F.charAt(ot++),Et=$[lt in hu?F.charAt(ot++):lt],!Et||(C=Et(N,H,C))<0)return-1}else if(lt!=H.charCodeAt(C++))return-1}return C}function T(N,F,H){var C=s.exec(F.slice(H));return C?(N.p=u.get(C[0].toLowerCase()),H+C[0].length):-1}function L(N,F,H){var C=h.exec(F.slice(H));return C?(N.w=p.get(C[0].toLowerCase()),H+C[0].length):-1}function A(N,F,H){var C=d.exec(F.slice(H));return C?(N.w=l.get(C[0].toLowerCase()),H+C[0].length):-1}function E(N,F,H){var C=w.exec(F.slice(H));return C?(N.m=y.get(C[0].toLowerCase()),H+C[0].length):-1}function O(N,F,H){var C=g.exec(F.slice(H));return C?(N.m=m.get(C[0].toLowerCase()),H+C[0].length):-1}function D(N,F,H){return S(N,n,F,H)}function _(N,F,H){return S(N,e,F,H)}function I(N,F,H){return S(N,r,F,H)}function W(N){return a[N.getDay()]}function B(N){return o[N.getDay()]}function k(N){return c[N.getMonth()]}function R(N){return f[N.getMonth()]}function U(N){return i[+(N.getHours()>=12)]}function z(N){return 1+~~(N.getMonth()/3)}function q(N){return a[N.getUTCDay()]}function K(N){return o[N.getUTCDay()]}function J(N){return c[N.getUTCMonth()]}function tt(N){return f[N.getUTCMonth()]}function P(N){return i[+(N.getUTCHours()>=12)]}function et(N){return 1+~~(N.getUTCMonth()/3)}return{format:function(N){var F=x(N+="",v);return F.toString=function(){return N},F},parse:function(N){var F=M(N+="",!1);return F.toString=function(){return N},F},utcFormat:function(N){var F=x(N+="",b);return F.toString=function(){return N},F},utcParse:function(N){var F=M(N+="",!0);return F.toString=function(){return N},F}}}var hu={"-":"",_:" ",0:"0"},bt=/^\s*\d+/,I2=/^%/,R2=/[\\^$*+?|[\]().{}]/g;function nt(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function F2(t){return t.replace(R2,"\\$&")}function Ze(t){return new RegExp("^(?:"+t.map(F2).join("|")+")","i")}function je(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function O2(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function P2(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function q2(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function U2(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function z2(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function pu(t,n,e){var r=bt.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function gu(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function H2(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function B2(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function W2(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function mu(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Y2(t,n,e){var r=bt.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function bu(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function V2(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function G2(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function X2(t,n,e){var r=bt.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Z2(t,n,e){var r=bt.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function j2(t,n,e){var r=I2.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function K2(t,n,e){var r=bt.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function Q2(t,n,e){var r=bt.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function yu(t,n){return nt(t.getDate(),n,2)}function J2(t,n){return nt(t.getHours(),n,2)}function t6(t,n){return nt(t.getHours()%12||12,n,2)}function n6(t,n){return nt(1+ce.count(jt(t),t),n,3)}function hd(t,n){return nt(t.getMilliseconds(),n,3)}function e6(t,n){return hd(t,n)+"000"}function r6(t,n){return nt(t.getMonth()+1,n,2)}function i6(t,n){return nt(t.getMinutes(),n,2)}function o6(t,n){return nt(t.getSeconds(),n,2)}function a6(t){var n=t.getDay();return n===0?7:n}function f6(t,n){return nt(Ie.count(jt(t)-1,t),n,2)}function pd(t){var n=t.getDay();return n>=4||n===0?re(t):re.ceil(t)}function c6(t,n){return t=pd(t),nt(re.count(jt(t),t)+(jt(t).getDay()===4),n,2)}function u6(t){return t.getDay()}function s6(t,n){return nt(wr.count(jt(t)-1,t),n,2)}function l6(t,n){return nt(t.getFullYear()%100,n,2)}function d6(t,n){return t=pd(t),nt(t.getFullYear()%100,n,2)}function h6(t,n){return nt(t.getFullYear()%1e4,n,4)}function p6(t,n){var e=t.getDay();return t=e>=4||e===0?re(t):re.ceil(t),nt(t.getFullYear()%1e4,n,4)}function g6(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+nt(n/60|0,"0",2)+nt(n%60,"0",2)}function wu(t,n){return nt(t.getUTCDate(),n,2)}function m6(t,n){return nt(t.getUTCHours(),n,2)}function b6(t,n){return nt(t.getUTCHours()%12||12,n,2)}function y6(t,n){return nt(1+bo.count(Kt(t),t),n,3)}function gd(t,n){return nt(t.getUTCMilliseconds(),n,3)}function w6(t,n){return gd(t,n)+"000"}function v6(t,n){return nt(t.getUTCMonth()+1,n,2)}function x6(t,n){return nt(t.getUTCMinutes(),n,2)}function M6(t,n){return nt(t.getUTCSeconds(),n,2)}function $6(t){var n=t.getUTCDay();return n===0?7:n}function _6(t,n){return nt(Re.count(Kt(t)-1,t),n,2)}function md(t){var n=t.getUTCDay();return n>=4||n===0?ie(t):ie.ceil(t)}function S6(t,n){return t=md(t),nt(ie.count(Kt(t),t)+(Kt(t).getUTCDay()===4),n,2)}function T6(t){return t.getUTCDay()}function A6(t,n){return nt(vr.count(Kt(t)-1,t),n,2)}function C6(t,n){return nt(t.getUTCFullYear()%100,n,2)}function E6(t,n){return t=md(t),nt(t.getUTCFullYear()%100,n,2)}function N6(t,n){return nt(t.getUTCFullYear()%1e4,n,4)}function L6(t,n){var e=t.getUTCDay();return t=e>=4||e===0?ie(t):ie.ceil(t),nt(t.getUTCFullYear()%1e4,n,4)}function k6(){return"+0000"}function vu(){return"%"}function xu(t){return+t}function Mu(t){return Math.floor(+t/1e3)}var we,Of,zr;D6({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function D6(t){return we=D2(t),Of=we.format,we.parse,zr=we.utcFormat,we.utcParse,we}function I6(t){return new Date(t)}function R6(t){return t instanceof Date?+t:+new Date(+t)}function Pf(t,n,e,r,i,o,a,f,c,s){var u=Gl(),d=u.invert,l=u.domain,h=s(".%L"),p=s(":%S"),g=s("%I:%M"),m=s("%I %p"),w=s("%a %d"),y=s("%b %d"),v=s("%B"),b=s("%Y");function $(x){return(c(x)<x?h:f(x)<x?p:a(x)<x?g:o(x)<x?m:r(x)<x?i(x)<x?w:y:e(x)<x?v:b)(x)}return u.invert=function(x){return new Date(d(x))},u.domain=function(x){return arguments.length?l(Array.from(x,R6)):l().map(I6)},u.ticks=function(x){var M=l();return t(M[0],M[M.length-1],x??10)},u.tickFormat=function(x,M){return M==null?$:s(M)},u.nice=function(x){var M=l();return(!x||typeof x.range!="function")&&(x=n(M[0],M[M.length-1],x??10)),x?l(Zl(M,x)):u},u.copy=function(){return Dr(u,Pf(t,n,e,r,i,o,a,f,c,s))},u}function F6(){return ln.apply(Pf(L2,k2,jt,qr,Ie,ce,Or,Rr,Gt,Of).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function O6(){return ln.apply(Pf(E2,N2,Kt,Ur,Re,bo,Pr,Fr,Gt,zr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wo(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function vo(){var t=0,n=.5,e=1,r=1,i,o,a,f,c,s=qt,u,d=!1,l;function h(g){return isNaN(g=+g)?l:(g=.5+((g=+u(g))-o)*(r*g<r*o?f:c),s(d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,n,e]=g,i=u(t=+t),o=u(n=+n),a=u(e=+e),f=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,h):[t,n,e]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(s=g,h):s};function p(g){return function(m){var w,y,v;return arguments.length?([w,y,v]=m,s=co(g,[w,y,v]),h):[s(0),s(.5),s(1)]}}return h.range=p(Lr),h.rangeRound=p($f),h.unknown=function(g){return arguments.length?(l=g,h):l},function(g){return u=g,i=g(t),o=g(n),a=g(e),f=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function bd(){var t=Ir(vo()(qt));return t.copy=function(){return wo(t,bd())},po.apply(t,arguments)}function yd(){var t=jl(vo()).domain([.1,1,10]);return t.copy=function(){return wo(t,yd()).base(t.base())},po.apply(t,arguments)}function wd(){var t=Ql(vo());return t.copy=function(){return wo(t,wd()).constant(t.constant())},po.apply(t,arguments)}function vd(){var t=td(vo());return t.copy=function(){return wo(t,vd()).exponent(t.exponent())},po.apply(t,arguments)}function G(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const P6=G("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),q6=G("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),U6=G("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),z6=G("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),H6=G("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),B6=G("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),W6=G("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Y6=G("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),V6=G("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),G6=G("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),X6=G("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),at=t=>Fm(t[t.length-1]);var xd=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(G);const Md=at(xd);var $d=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(G);const _d=at($d);var Sd=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(G);const Td=at(Sd);var Ad=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(G);const Cd=at(Ad);var Qa=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(G);const Zi=at(Qa);var Ed=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(G);const Nd=at(Ed);var Ja=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(G);const ji=at(Ja);var Ld=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(G);const kd=at(Ld);var Dd=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(G);const Id=at(Dd);var Rd=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(G);const Fd=at(Rd);var Od=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(G);const Pd=at(Od);var qd=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(G);const Ud=at(qd);var zd=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(G);const Hd=at(zd);var Bd=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(G);const Wd=at(Bd);var Yd=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(G);const Vd=at(Yd);var Gd=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(G);const Xd=at(Gd);var Zd=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(G);const jd=at(Zd);var Kd=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(G);const Qd=at(Kd);var Jd=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(G);const t0=at(Jd);var n0=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(G);const e0=at(n0);var r0=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(G);const i0=at(r0);var o0=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(G);const a0=at(o0);var f0=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(G);const c0=at(f0);var u0=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(G);const s0=at(u0);var l0=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(G);const d0=at(l0);var h0=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(G);const p0=at(h0);var g0=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(G);const m0=at(g0);function b0(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const y0=_f(fn(300,.5,0),fn(-240,.5,1));var w0=_f(fn(-100,.75,.35),fn(80,1.5,.8)),v0=_f(fn(260,.75,.35),fn(80,1.5,.8)),oi=fn();function x0(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return oi.h=360*t-100,oi.s=1.5-1.5*n,oi.l=.8-.9*n,oi+""}var ai=In(),Z6=Math.PI/3,j6=Math.PI*2/3;function M0(t){var n;return t=(.5-t)*Math.PI,ai.r=255*(n=Math.sin(t))*n,ai.g=255*(n=Math.sin(t+Z6))*n,ai.b=255*(n=Math.sin(t+j6))*n,ai+""}function $0(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function xo(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const _0=xo(G("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var S0=xo(G("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),T0=xo(G("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),A0=xo(G("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const C0=Math.cos,qf=Math.min,Ki=Math.sin,pt=Math.sqrt,Qi=Math.PI,Mo=2*Qi,K6=pt(3),E0={draw(t,n){const e=pt(n+qf(n/28,.75))*.59436,r=e/2,i=r*K6;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},Uf={draw(t,n){const e=pt(n/Qi);t.moveTo(e,0),t.arc(0,0,e,0,Mo)}},N0={draw(t,n){const e=pt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},L0=pt(1/3),Q6=L0*2,k0={draw(t,n){const e=pt(n/Q6),r=e*L0;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},D0={draw(t,n){const e=pt(n)*.62625;t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},I0={draw(t,n){const e=pt(n-qf(n/7,2))*.87559;t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},R0={draw(t,n){const e=pt(n),r=-e/2;t.rect(r,r,e,e)}},F0={draw(t,n){const e=pt(n)*.4431;t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},J6=.8908130915292852,O0=Ki(Qi/10)/Ki(7*Qi/10),tw=Ki(Mo/10)*O0,nw=-C0(Mo/10)*O0,P0={draw(t,n){const e=pt(n*J6),r=tw*e,i=nw*e;t.moveTo(0,-e),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Mo*o/5,f=C0(a),c=Ki(a);t.lineTo(c*e,-f*e),t.lineTo(f*r-c*i,c*r+f*i)}t.closePath()}},jo=pt(3),q0={draw(t,n){const e=-pt(n/(jo*3));t.moveTo(0,e*2),t.lineTo(-jo*e,-e),t.lineTo(jo*e,-e),t.closePath()}},ew=pt(3),U0={draw(t,n){const e=pt(n)*.6824,r=e/2,i=e*ew/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},It=-.5,Rt=pt(3)/2,tf=1/pt(12),rw=(tf/2+1)*3,z0={draw(t,n){const e=pt(n/rw),r=e/2,i=e*tf,o=r,a=e*tf+e,f=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(f,c),t.lineTo(It*r-Rt*i,Rt*r+It*i),t.lineTo(It*o-Rt*a,Rt*o+It*a),t.lineTo(It*f-Rt*c,Rt*f+It*c),t.lineTo(It*r+Rt*i,It*i-Rt*r),t.lineTo(It*o+Rt*a,It*a-Rt*o),t.lineTo(It*f+Rt*c,It*c-Rt*f),t.closePath()}},H0={draw(t,n){const e=pt(n-qf(n/6,1.7))*.6189;t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},iw=[Uf,N0,k0,R0,P0,q0,z0],ow=[Uf,I0,H0,U0,E0,F0,D0];function ar(t,n,e){this.k=t,this.x=n,this.y=e}ar.prototype={constructor:ar,scale:function(t){return t===1?this:new ar(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new ar(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ar.prototype;function oe(t){return t!=null&&!Number.isNaN(t)}function cn(t,n){return+oe(n)-+oe(t)||At(t,n)}function Ji(t,n){return+oe(n)-+oe(t)||Cr(t,n)}function B0(t){return t!=null&&`${t}`!=""}function W0(t){return isFinite(t)?t:NaN}function zf(t){return t>0&&isFinite(t)?t:NaN}function Y0(t){return t<0&&isFinite(t)?t:NaN}function aw(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof n=="function"?n(t):n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${fw(t.getUTCFullYear())}-${yn(t.getUTCMonth()+1,2)}-${yn(t.getUTCDate(),2)}${e||r||i||o?`T${yn(e,2)}:${yn(r,2)}${i||o?`:${yn(i,2)}${o?`.${yn(o,3)}`:""}`:""}Z`:""}`}function fw(t){return t<0?`-${yn(-t,6)}`:t>9999?`+${yn(t,6)}`:yn(t,4)}function yn(t,n){return`${t}`.padStart(n,"0")}const cw=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function V0(t,n){return cw.test(t+="")?new Date(t):typeof n=="function"?n(t):n}function Fe(t){if(t==null)return;const n=t[0],e=t[t.length-1];return Cr(n,e)}const $e=1e3,Ln=$e*60,kn=Ln*60,un=kn*24,tn=un*7,Gn=un*30,Nn=un*365,Ko=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",$e],["5 seconds",5*$e],["15 seconds",15*$e],["30 seconds",30*$e],["minute",Ln],["5 minutes",5*Ln],["15 minutes",15*Ln],["30 minutes",30*Ln],["hour",kn],["3 hours",3*kn],["6 hours",6*kn],["12 hours",12*kn],["day",un],["2 days",2*un],["week",tn],["2 weeks",2*tn],["month",Gn],["3 months",3*Gn],["6 months",6*Gn],["year",Nn],["2 years",2*Nn],["5 years",5*Nn],["10 years",10*Nn],["20 years",20*Nn],["50 years",50*Nn],["100 years",100*Nn]],Hf=new Map([["second",$e],["minute",Ln],["hour",kn],["day",un],["monday",tn],["tuesday",tn],["wednesday",tn],["thursday",tn],["friday",tn],["saturday",tn],["sunday",tn],["week",tn],["month",Gn],["year",Nn]]),G0=new Map([["second",Gt],["minute",Rr],["hour",Or],["day",ce],["monday",wr],["tuesday",id],["wednesday",od],["thursday",re],["friday",ad],["saturday",fd],["sunday",Ie],["week",Ie],["month",qr],["year",jt]]),Bf=new Map([["second",Gt],["minute",Fr],["hour",Pr],["day",yo],["monday",vr],["tuesday",cd],["wednesday",ud],["thursday",ie],["friday",sd],["saturday",ld],["sunday",Re],["week",Re],["month",Ur],["year",Kt]]),Hr=Symbol("intervalDuration"),$o=Symbol("intervalType");for(const[t,n]of G0)n[Hr]=Hf.get(t),n[$o]="time";for(const[t,n]of Bf)n[Hr]=Hf.get(t),n[$o]="utc";const fr=[["year",Kt,"utc"],["month",Ur,"utc"],["day",yo,"utc",6*Gn],["hour",Pr,"utc",3*un],["minute",Fr,"utc",6*kn],["second",Gt,"utc",30*Ln]],vi=[["year",jt,"time"],["month",qr,"time"],["day",ce,"time",6*Gn],["hour",Or,"time",3*un],["minute",Rr,"time",6*kn],["second",Gt,"time",30*Ln]],uw=[fr[0],vi[0],fr[1],vi[1],fr[2],vi[2],...fr.slice(3)];function X0(t){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let e=1;const r=/^(?:(\d+)\s+)/.exec(n);switch(r&&(n=n.slice(r[0].length),e=+r[1]),n){case"quarter":n="month",e*=3;break;case"half":n="month",e*=6;break}let i=Bf.get(n);if(!i)throw new Error(`unknown interval: ${t}`);if(e>1&&!i.every)throw new Error(`non-periodic interval: ${n}`);return[n,e]}function Z0(t){return K0(X0(t),"time")}function j0(t){return K0(X0(t),"utc")}function K0([t,n],e){let r=(e==="time"?G0:Bf).get(t);return n>1&&(r=r.every(n),r[Hr]=Hf.get(t)*n,r[$o]=e),r}function $u(t,n){if(!(n>1))return;const e=t[Hr];if(!Ko.some(([,i])=>i===e)||e%un===0&&un<e&&e<Gn)return;const[r]=Ko[eo(([,i])=>Math.log(i)).center(Ko,Math.log(e*n))];return(t[$o]==="time"?Z0:j0)(r)}function _u(t,n,e){const r=n==="time"?Of:zr;if(e==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=sw(e);switch(t){case"millisecond":return ve(r(".%L"),r(":%M:%S"),i);case"second":return ve(r(":%S"),r("%-I:%M"),i);case"minute":return ve(r("%-I:%M"),r("%p"),i);case"hour":return ve(r("%-I %p"),r("%b %-d"),i);case"day":return ve(r("%-d"),r("%b"),i);case"month":return ve(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function sw(t){return t==="left"||t==="right"?(n,e)=>`
${n}
${e}`:t==="top"?(n,e)=>`${e}
${n}`:(n,e)=>`${n}
${e}`}function lw(t){return t==="time"?vi:t==="utc"?fr:uw}function dw(t,n,e){const r=Xt(S1(n,(i,o)=>Math.abs(o-i)));if(r<1e3)return _u("millisecond","utc",e);for(const[i,o,a,f]of lw(t)){if(r>f||i==="hour"&&!r)break;if(n.every(c=>o.floor(c)>=c))return _u(i,a,e)}}function ve(t,n,e){return(r,i,o)=>{const a=t(r,i),f=n(r,i),c=i-Fe(o);return i!==c&&o[c]!==void 0&&f===n(o[c],c)?a:e(a,f)}}const Wf=Object.getPrototypeOf(Uint8Array),hw=Object.prototype.toString;function le(t){return t instanceof Array||t instanceof Wf}function Q0(t){return t instanceof Wf&&!pw(t)}function J0(t){return t?.prototype instanceof Wf&&!gw(t)}function pw(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function gw(t){return t===BigInt64Array||t===BigUint64Array}const th=Symbol("reindex");function zt(t,n,e){const r=typeof n;return r==="string"?hh(t)?Yf(t.getChild(n),e):Su(t,nh(n),e):r==="function"?Su(t,n,e):r==="number"||n instanceof Date||r==="boolean"?dt(t,$n(n),e):typeof n?.transform=="function"?nf(n.transform(t),e):mw(nf(n,e),t?.[th])}function mw(t,n){return t!=null&&n?Xf(t,n):t}function Su(t,n,e){return dt(t,J0(e)?(r,i)=>Vf(n(r,i)):n,e)}function nf(t,n){return n===void 0?de(t):ph(t)?Yf(t,n):t instanceof n?t:n.from(t,J0(n)&&!Q0(t)?Vf:void 0)}function Yf(t,n){return t==null?t:(n===void 0||n===Array)&&Hw(t.type)?ih(Tu(t)):nf(Tu(t),n)}function Tu(t){return t.nullCount?t.toJSON():t.toArray()}const xi=[null],nh=t=>n=>{const e=n[t];return e===void 0&&n.type==="Feature"?n.properties?.[t]:e},eh={transform:Pn},Wt={transform:t=>t},bw=()=>1,yw=()=>!0,vt=t=>t==null?t:`${t}`,Mt=t=>t==null?t:+t,rh=t=>t?t[0]:void 0,ww=t=>t?t[1]:void 0,$n=t=>()=>t;function vw(t){const n=+`${t}`.slice(1)/100;return(e,r)=>Si(e,n,r)}function Au(t){return Q0(t)?t:dt(t,Vf,Float64Array)}function Vf(t){return t==null?NaN:Number(t)}function ih(t){return dt(t,xw)}function xw(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?V0(t):t==null||isNaN(t=Number(t))?void 0:new Date(t)}function ae(t,n){return t===void 0&&(t=n),t===null?[void 0,"none"]:So(t)?[void 0,t]:[t,void 0]}function Nt(t,n){return t===void 0&&(t=n),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function oh(t,n,e){if(t!=null)return Jt(t,n,e)}function Jt(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function Oe(t){return hh(t)?t:de(t)}function de(t){if(t==null||le(t))return t;if(ph(t))return Yf(t);if(ah(t))switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;default:return[t]}return Array.from(t)}function ah(t){switch(t?.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function dt(t,n,e=Array){return t==null?t:t instanceof e?t.map(n):e.from(t,n)}function xr(t,n=Array){return t instanceof n?t.slice():n.from(t)}function fh({x:t,x1:n,x2:e}){return t!==void 0||n!==void 0||e!==void 0}function Mw({y:t,y1:n,y2:e}){return t!==void 0||n!==void 0||e!==void 0}function $w(t){return fh(t)||Mw(t)||t.interval!==void 0}function he(t){return t?.toString===hw}function ef(t){return he(t)&&(t.type!==void 0||t.domain!==void 0)}function Gf(t){return he(t)&&typeof t.transform!="function"}function Mr(t){return Gf(t)&&t.value===void 0&&t.channel===void 0}function _w(t,n,e,r=Wt){return n===void 0&&e===void 0?(n=0,e=t===void 0?r:t):n===void 0?n=t===void 0?0:t:e===void 0&&(e=t===void 0?0:t),[n,e]}function ch(t,n){return t===void 0&&n===void 0?[rh,ww]:[t,n]}function Sw({z:t,fill:n,stroke:e}={}){return t===void 0&&([t]=ae(n)),t===void 0&&([t]=ae(e)),t}function $r(t){return le(t)?t.length:t?.numRows}function Pn(t){const n=$r(t),e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function Xf(t,n){return le(t)?dt(n,e=>t[e],t.constructor):dt(n,e=>t.at(e))}function Tw(t,n,e){return t.subarray?t.subarray(n,e):t.slice(n,e)}function fi(t){return t!==null&&typeof t=="object"?t.valueOf():t}function rf(t){let n;return[{transform:()=>n,label:Br(t)},e=>n=e]}function Aw(t){return t==null?[t]:rf(t)}function Br(t,n){return typeof t=="string"?t:t&&t.label!==void 0?t.label:n}function Cw(t,n){return{transform(e){const r=t.transform(e),i=n.transform(e);return Bt(r)||Bt(i)?dt(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):dt(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:t.label}}function Ew(t,n){const e=uh(n?.interval,n?.type);return e?dt(t,e):t}function uh(t,n){const e=Zf(t,n);return e&&(r=>oe(r)?e.floor(r):r)}function Zf(t,n){if(t!=null){if(typeof t=="number")return Nw(t);if(typeof t=="string")return(n==="time"?Z0:j0)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function Nw(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:e=>Math.floor(e*n)/n,offset:(e,r=1)=>(e*n+Math.floor(r))/n,range:(e,r)=>xa(Math.ceil(e*n),r*n).map(i=>i/n)}:{floor:e=>Math.floor(e/n)*n,offset:(e,r=1)=>e+n*Math.floor(r),range:(e,r)=>xa(Math.ceil(e/n),r/n).map(i=>i*n)}}function Wr(t,n){if(t=Zf(t,n),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function Lw(t,n){if(t=Wr(t,n),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function kw(t){return typeof t?.range=="function"}function _o(t){return t===void 0||Gf(t)?t:{value:t}}function Dw(t){return t==null?null:{transform:n=>zt(n,t,Float64Array),label:Br(t)}}function pe(t){return t&&typeof t[Symbol.iterator]=="function"}function sh(t){for(const n of t)if(n!=null)return typeof n!="object"||n instanceof Date}function Cu(t){for(const n of t){if(n==null)continue;const e=typeof n;return e==="string"||e==="boolean"}}function Bt(t){for(const n of t)if(n!=null)return n instanceof Date}function Iw(t){for(const n of t)if(n!=null)return typeof n=="string"&&isNaN(n)&&V0(n)}function Rw(t){for(const n of t)if(n!=null){if(typeof n!="string")return!1;if(n.trim())return!isNaN(n)}}function Fw(t){for(const n of t)if(n!=null)return typeof n=="number"}function Qo(t,n){let e;for(const r of t)if(r!=null){if(!n(r))return!1;e=!0}return e}const Ow=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function So(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||Ow.has(t))}function Pw(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function Tt(t){return t==null||_r(t)}function _r(t){return/^\s*none\s*$/i.test(t)}function qw(t){return/^\s*round\s*$/i.test(t)}function of(t,n){return oh(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function jf(t="middle"){return of(t,"frameAnchor")}function Uw(t={},...n){let e=t;for(const r of n)for(const i in r)if(e[i]===void 0){const o=r[i];e===t?e={...e,[i]:o}:e[i]=o}return e}function zw(t){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(t,e=>{const{name:r}=e;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(n.has(i))throw new Error(`duplicate name: ${i}`);return n.add(i),[r,e]}))}function lh(t){return pe(t)?zw(t):t}function dh(t){return t===!0?t="frame":t===!1?t=null:!ah(t)&&t!=null&&(t=Jt(t,"clip",["frame","sphere"]),t==="sphere"&&(t={type:"Sphere"})),t}function hh(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function ph(t){return t&&typeof t.toArray=="function"&&t.type}function Hw(t){return t&&(t.typeId===8||t.typeId===10)&&t.unit===1}const rn=Symbol("position"),En=Symbol("color"),Yr=Symbol("radius"),Vr=Symbol("length"),Gr=Symbol("opacity"),To=Symbol("symbol"),gh=Symbol("projection"),st=new Map([["x",rn],["y",rn],["fx",rn],["fy",rn],["r",Yr],["color",En],["opacity",Gr],["symbol",To],["length",Vr],["projection",gh]]);function Bw(t){return t===rn||t===gh}function Ww(t){return t===rn||t===Yr||t===Vr||t===Gr}const Yw=Math.sqrt(3),Vw=2/Yw,Gw={draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*Vw,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}},mh=new Map([["asterisk",E0],["circle",Uf],["cross",N0],["diamond",k0],["diamond2",D0],["hexagon",Gw],["plus",I0],["square",R0],["square2",F0],["star",P0],["times",H0],["triangle",q0],["triangle2",U0],["wye",z0]]);function bh(t){return t&&typeof t.draw=="function"}function Xw(t){return bh(t)?!0:typeof t!="string"?!1:mh.has(t.toLowerCase())}function Kf(t){if(t==null||bh(t))return t;const n=mh.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function yh({filter:t,sort:n,reverse:e,transform:r,initializer:i,...o}={},a){if(r===void 0&&(t!=null&&(r=wh(t)),n!=null&&!Mr(n)&&(r=Jo(r,xh(n))),e&&(r=Jo(r,vh))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(n===null||Mr(n))&&{sort:n},transform:Jo(r,a)}}function to({filter:t,sort:n,reverse:e,initializer:r,...i}={},o){return r===void 0&&(t!=null&&(r=wh(t)),n!=null&&!Mr(n)&&(r=ta(r,xh(n))),e&&(r=ta(r,vh))),{...i,...(n===null||Mr(n))&&{sort:n},initializer:ta(r,o)}}function Jo(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i){return{data:e,facets:r}=t.call(this,e,r,i),n.call(this,Oe(e),r,i)}}function ta(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i,...o){let a,f,c,s,u,d;return{data:f=e,facets:c=r,channels:a}=t.call(this,e,r,i,...o),{data:u=f,facets:d=c,channels:s}=n.call(this,f,c,{...i,...a},...o),{data:u,facets:d,channels:{...a,...s}}}}function wh(t){return(n,e)=>{const r=zt(n,t);return{data:n,facets:e.map(i=>i.filter(o=>r[o]))}}}function vh(t,n){return{data:t,facets:n.map(e=>e.slice().reverse())}}function xh(t){return(typeof t=="function"&&t.length!==1?Zw:jw)(t)}function Zw(t){return(n,e)=>{const r=le(n)?(i,o)=>t(n[i],n[o]):(i,o)=>t(n.get(i),n.get(o));return{data:n,facets:e.map(i=>i.slice().sort(r))}}}function jw(t){let n,e;({channel:n,value:t,order:e}={..._o(t)});const r=n?.startsWith("-");if(r&&(n=n.slice(1)),e===void 0&&(e=r?Ji:cn),typeof e!="function")switch(`${e}`.toLowerCase()){case"ascending":e=cn;break;case"descending":e=Ji;break;default:throw new Error(`invalid order: ${e}`)}return(i,o,a)=>{let f;if(n===void 0)f=zt(i,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(f=a[n],!f)return{};f=f.value}const c=(s,u)=>e(f[s],f[u]);return{data:i,facets:o.map(s=>s.slice().sort(c))}}}function Kw(t,n,e=Qw){if(t==null)return e(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&he(t))return Jw(t);if(typeof t=="function")return t8(t);if(/^p\d{2}$/i.test(t))return bn(vw(t));switch(`${t}`.toLowerCase()){case"first":return e8;case"last":return r8;case"identity":return n8;case"count":return Nu;case"distinct":return i8;case"sum":return n==null?Nu:o8;case"proportion":return Lu(n,"data");case"proportion-facet":return Lu(n,"facet");case"deviation":return bn(h1);case"min":return bn(Sn);case"min-index":return bn(v1);case"max":return bn(Xt);case"max-index":return bn(w1);case"mean":return Eu(M1);case"median":return Eu(va);case"variance":return bn(xs);case"mode":return bn(_1)}return e(t)}function Qw(t){throw new Error(`invalid reduce: ${t}`)}function Jw(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function t8(t){return{reduceIndex(n,e,r){return t(Xf(e,n),r)}}}function bn(t){return{reduceIndex(n,e){return t(n,r=>e[r])}}}function Eu(t){return{reduceIndex(n,e){const r=t(n,i=>e[i]);return Bt(e)?new Date(r):r}}}const n8={reduceIndex(t,n){return Xf(n,t)}},e8={reduceIndex(t,n){return n[t[0]]}},r8={reduceIndex(t,n){return n[t[t.length-1]]}},Nu={label:"Frequency",reduceIndex(t){return t.length}},i8={label:"Distinct",reduceIndex(t,n){const e=new ro;for(const r of t)e.add(n[r]);return e.size}},o8=bn(Kn);function Lu(t,n){return t==null?{scope:n,label:"Frequency",reduceIndex:(e,r,i=1)=>e.length/i}:{scope:n,reduceIndex:(e,r,i=1)=>Kn(e,o=>r[o])/i}}function Sr(t,{scale:n,type:e,value:r,filter:i,hint:o,label:a=Br(r)},f){return o===void 0&&typeof r?.transform=="function"&&(o=r.hint),Mh(f,{scale:n,type:e,value:zt(t,r),label:a,filter:i,hint:o})}function a8(t,n){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,Sr(n,r,e)]))}function f8(t,n){const e=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:o}])=>{const a=i==null?null:n[i];return[r,a==null?o:dt(o,a)]}));return e.channels=t,e}function Mh(t,n){const{scale:e,value:r}=n;if(e===!0||e==="auto")switch(t){case"fill":case"stroke":case"color":n.scale=e!==!0&&Qo(r,So)?null:"color",n.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=e!==!0&&Qo(r,Pw)?null:"opacity",n.defaultScale="opacity";break;case"symbol":e!==!0&&Qo(r,Xw)?(n.scale=null,n.value=dt(r,Kf)):n.scale="symbol",n.defaultScale="symbol";break;default:n.scale=st.has(t)?t:null;break}else if(e===!1)n.scale=null;else if(e!=null&&!st.has(e))throw new Error(`unknown scale: ${e}`);return n}function c8(t,n,e,r,i){const{order:o,reverse:a,reduce:f=!0,limit:c}=i;for(const s in i){if(!st.has(s))continue;let{value:u,order:d=o,reverse:l=a,reduce:h=f,limit:p=c}=_o(i[s]);const g=u?.startsWith("-");if(g&&(u=u.slice(1)),d=d===void 0?g!==(u==="width"||u==="height")?_h:$h:l8(d),h==null||h===!1)continue;const m=s==="fx"||s==="fy"?s8(n,r[s]):u8(e,s);if(!m)throw new Error(`missing channel for scale: ${s}`);const w=m.value,[y=0,v=1/0]=pe(p)?p:p<0?[p]:[0,p];if(u==null)m.domain=()=>{let b=Array.from(new ro(w));return l&&(b=b.reverse()),(y!==0||v!==1/0)&&(b=b.slice(y,v)),b};else{const b=u==="data"?t:u==="height"?ku(e,"y1","y2"):u==="width"?ku(e,"x1","x2"):af(e,u,u==="y"?"y2":u==="x"?"x2":void 0),$=Kw(h===!0?"max":h,b);m.domain=()=>{let x=p1(Pn(w),M=>$.reduceIndex(M,b),M=>w[M]);return d&&x.sort(d),l&&x.reverse(),(y!==0||v!==1/0)&&(x=x.slice(y,v)),x.map(rh)}}}}function u8(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function s8(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let o=0;o<e.length;++o){const a=r[e[o][0]];for(const f of t[o])i[f]=a}return n}function ku(t,n,e){const r=af(t,n),i=af(t,e);return dt(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function af(t,n,e){let r=t[n];if(!r&&e!==void 0&&(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function l8(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return $h;case"descending":return _h}throw new Error(`invalid order: ${t}`)}function $h([t,n],[e,r]){return cn(n,r)||cn(t,e)}function _h([t,n],[e,r]){return Ji(n,r)||cn(t,e)}function Du(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return e.source===null?null:e}}const Sh=new Map([["accent",q6],["category10",P6],["dark2",U6],["observable10",z6],["paired",H6],["pastel1",B6],["pastel2",W6],["set1",Y6],["set2",V6],["set3",G6],["tableau10",X6]]);function d8(t){return t!=null&&Sh.has(`${t}`.toLowerCase())}const Iu=new Map([...Sh,["brbg",pn(xd,Md)],["prgn",pn($d,_d)],["piyg",pn(Sd,Td)],["puor",pn(Ad,Cd)],["rdbu",pn(Qa,Zi)],["rdgy",pn(Ed,Nd)],["rdylbu",pn(Ja,ji)],["rdylgn",pn(Ld,kd)],["spectral",pn(Dd,Id)],["burd",Ru(Qa,Zi)],["buylrd",Ru(Ja,ji)],["blues",gt(o0,a0)],["greens",gt(f0,c0)],["greys",gt(u0,s0)],["oranges",gt(g0,m0)],["purples",gt(l0,d0)],["reds",gt(h0,p0)],["turbo",gn($0)],["viridis",gn(_0)],["magma",gn(S0)],["inferno",gn(T0)],["plasma",gn(A0)],["cividis",gn(b0)],["cubehelix",gn(y0)],["warm",gn(w0)],["cool",gn(v0)],["bugn",gt(Rd,Fd)],["bupu",gt(Od,Pd)],["gnbu",gt(qd,Ud)],["orrd",gt(zd,Hd)],["pubu",gt(Yd,Vd)],["pubugn",gt(Bd,Wd)],["purd",gt(Gd,Xd)],["rdpu",gt(Zd,jd)],["ylgn",gt(Jd,t0)],["ylgnbu",gt(Kd,Qd)],["ylorbr",gt(n0,e0)],["ylorrd",gt(r0,i0)],["rainbow",Fu(x0)],["sinebow",Fu(M0)]]);function gt(t,n){return({length:e})=>e===1?[t[3][1]]:e===2?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>9?Zt(n,e):t[e])}function pn(t,n){return({length:e})=>e===2?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>11?Zt(n,e):t[e])}function Ru(t,n){return({length:e})=>e===2?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)),e>11?Zt(r=>n(1-r),e):t[e].slice().reverse())}function gn(t){return({length:n})=>Zt(t,Math.max(2,Math.floor(n)))}function Fu(t){return({length:n})=>Zt(t,Math.floor(n)+1).slice(0,-1)}function Th(t){const n=`${t}`.toLowerCase();if(!Iu.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return Iu.get(n)}function Ao(t,n){const e=Th(t),r=typeof e=="function"?e({length:n}):e;return r.length!==n?r.slice(0,n):r}function h8(t,n="greys"){const e=new Set,[r,i]=Ao(n,2);for(const o of t)if(o!=null)if(o===!0)e.add(i);else if(o===!1)e.add(r);else return;return[...e]}const Ou=new Map([["brbg",Md],["prgn",_d],["piyg",Td],["puor",Cd],["rdbu",Zi],["rdgy",Nd],["rdylbu",ji],["rdylgn",kd],["spectral",Id],["burd",t=>Zi(1-t)],["buylrd",t=>ji(1-t)],["blues",a0],["greens",c0],["greys",s0],["purples",d0],["reds",p0],["oranges",m0],["turbo",$0],["viridis",_0],["magma",S0],["inferno",T0],["plasma",A0],["cividis",b0],["cubehelix",y0],["warm",w0],["cool",v0],["bugn",Fd],["bupu",Pd],["gnbu",Ud],["orrd",Hd],["pubugn",Wd],["pubu",Vd],["purd",Xd],["rdpu",jd],["ylgnbu",Qd],["ylgn",t0],["ylorbr",e0],["ylorrd",i0],["rainbow",x0],["sinebow",M0]]);function Qf(t){const n=`${t}`.toLowerCase();if(!Ou.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return Ou.get(n)}const p8=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function g8(t){return t!=null&&p8.has(`${t}`.toLowerCase())}const Ah=t=>n=>t(1-n),na=[0,1],Pu=new Map([["number",wt],["rgb",te],["hsl",Zm],["hcl",Qm],["lab",jm]]);function Ch(t){const n=`${t}`.toLowerCase();if(!Pu.has(n))throw new Error(`unknown interpolator: ${n}`);return Pu.get(n)}function Xr(t,n,e,{type:r,nice:i,clamp:o,zero:a,domain:f=Nh(t,e),unknown:c,round:s,scheme:u,interval:d,range:l=st.get(t)===Yr?T8(e,f):st.get(t)===Vr?A8(e,f):st.get(t)===Gr?na:void 0,interpolate:h=st.get(t)===En?u==null&&l!==void 0?te:Qf(u!==void 0?u:r==="cyclical"?"rainbow":"turbo"):s?$f:wt,reverse:p}){if(f=qu(f),d=Wr(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof h!="function"&&(h=Ch(h)),p=!!p,l!==void 0){const g=f.length,m=(l=qu(l)).length;if(g!==m){if(h.length===1)throw new Error("invalid piecewise interpolator");h=co(h,l),l=void 0}}if(h.length===1?(p&&(h=Ah(h),p=!1),l===void 0&&(l=Float64Array.from(f,(g,m)=>m/(f.length-1)),l.length===2&&(l=na)),n.interpolate((l===na?$n:tc)(h))):n.interpolate(h),a){const[g,m]=Dn(f);(g>0||m<0)&&(f=xr(f),(Fe(f)||1)===Math.sign(g)?f[0]=0:f[f.length-1]=0)}return p&&(f=Ti(f)),n.domain(f).unknown(c),i&&(n.nice(m8(i,r)),f=n.domain()),l!==void 0&&n.range(l),o&&n.clamp(o),{type:r,domain:f,range:l,scale:n,interpolate:h,interval:d}}function qu(t){return t=de(t),t.length>=2?t:[t[0],t[0]]}function m8(t,n){return t===!0?void 0:typeof t=="number"?t:Lw(t,n)}function b8(t,n,e){return Xr(t,Rf(),n,e)}function y8(t,n,e){return Eh(t,n,{...e,exponent:.5})}function Eh(t,n,{exponent:e=1,...r}){return Xr(t,nd().exponent(e),n,{...r,type:"pow"})}function w8(t,n,{base:e=10,domain:r=C8(n),...i}){return Xr(t,Kl().base(e),n,{...i,domain:r})}function v8(t,n,{constant:e=1,...r}){return Xr(t,Jl().constant(e),n,r)}function x8(t,n,{range:e,quantiles:r=e===void 0?5:(e=[...e]).length,n:i=r,scheme:o="rdylbu",domain:a=E8(n),unknown:f,interpolate:c,reverse:s}){return e===void 0&&(e=c!==void 0?Zt(c,i):st.get(t)===En?Ao(o,i):void 0),a.length>0&&(a=ed(a,e===void 0?{length:i}:e).quantiles()),Jf(t,n,{domain:a,range:e,reverse:s,unknown:f})}function M8(t,n,{range:e,n:r=e===void 0?5:(e=[...e]).length,scheme:i="rdylbu",domain:o=Nh(t,n),unknown:a,interpolate:f,reverse:c}){const[s,u]=Dn(o);let d;return e===void 0?(d=_i(s,u,r),d[0]<=s&&d.splice(0,1),d[d.length-1]>=u&&d.pop(),r=d.length+1,e=f!==void 0?Zt(f,r):st.get(t)===En?Ao(i,r):void 0):(d=Zt(wt(s,u),r+1).slice(1,-1),s instanceof Date&&(d=d.map(l=>new Date(l)))),Fe(de(o))<0&&d.reverse(),Jf(t,n,{domain:d,range:e,reverse:c,unknown:a})}function Jf(t,n,{domain:e=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?Zt(o,e.length+1):st.get(t)===En?Ao(i,e.length+1):void 0,reverse:f}){e=de(e);const c=Fe(e);if(!isNaN(c)&&!$8(e,c))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(a=Ti(a)),{type:"threshold",scale:rd(c<0?Ti(e):e,a===void 0?[]:a).unknown(r),domain:e,range:a}}function $8(t,n){for(let e=1,r=t.length,i=t[0];e<r;++e){const o=Cr(i,i=t[e]);if(o!==0&&o!==n)return!1}return!0}function _8(t){return{type:"identity",scale:Ww(st.get(t))?Xl():n=>n}}function Tr(t,n=W0){return t.length?[Sn(t,({value:e})=>e===void 0?e:Sn(e,n)),Xt(t,({value:e})=>e===void 0?e:Xt(e,n))]:[0,1]}function Nh(t,n){const e=st.get(t);return(e===Yr||e===Gr||e===Vr?S8:Tr)(n)}function S8(t){return[0,t.length?Xt(t,({value:n})=>n===void 0?n:Xt(n,W0)):1]}function T8(t,n){const e=t.find(({radius:a})=>a!==void 0);if(e!==void 0)return[0,e.radius];const r=Si(t,.5,({value:a})=>a===void 0?NaN:Si(a,.25,zf)),i=n.map(a=>3*Math.sqrt(a/r)),o=30/Xt(i);return o<1?i.map(a=>a*o):i}function A8(t,n){const e=va(t,({value:o})=>o===void 0?NaN:va(o,Math.abs)),r=n.map(o=>12*o/e),i=60/Xt(r);return i<1?r.map(o=>o*i):r}function C8(t){for(const{value:n}of t)if(n!==void 0)for(let e of n){if(e>0)return Tr(t,zf);if(e<0)return Tr(t,Y0)}return[1,10]}function E8(t){const n=[];for(const{value:e}of t)if(e!==void 0)for(const r of e)n.push(r);return n}function tc(t){return(n,e)=>r=>t(n+r*(e-n))}let ff=0,cf;function N8(){const t=ff;return ff=0,cf=void 0,t}function Xn(t){t!==cf&&(cf=t,console.warn(t),++ff)}function Co(t,n,e,r,{type:i,nice:o,clamp:a,domain:f=Tr(r),unknown:c,pivot:s=0,scheme:u,range:d,symmetric:l=!0,interpolate:h=st.get(t)===En?u==null&&d!==void 0?te:Qf(u!==void 0?u:"rdbu"):wt,reverse:p}){s=+s,f=de(f);let[g,m]=f;if(f.length>2&&Xn(`Warning: the diverging ${t} scale domain contains extra elements.`),Cr(g,m)<0&&([g,m]=[m,g],p=!p),g=Math.min(g,s),m=Math.max(m,s),typeof h!="function"&&(h=Ch(h)),d!==void 0&&(h=h.length===1?tc(h)(...d):co(h,d)),p&&(h=Ah(h)),l){const w=e.apply(s),y=w-e.apply(g),v=e.apply(m)-w;y<v?g=e.invert(w-v):y>v&&(m=e.invert(w+y))}return n.domain([g,s,m]).unknown(c).interpolator(h),a&&n.clamp(a),o&&n.nice(o),{type:i,domain:[g,m],pivot:s,interpolate:h,scale:n}}function L8(t,n,e){return Co(t,bd(),R8,n,e)}function k8(t,n,e){return Lh(t,n,{...e,exponent:.5})}function Lh(t,n,{exponent:e=1,...r}){return Co(t,vd().exponent(e=+e),P8(e),n,{...r,type:"diverging-pow"})}function D8(t,n,{base:e=10,pivot:r=1,domain:i=Tr(n,r<0?Y0:zf),...o}){return Co(t,yd().base(e=+e),F8,n,{domain:i,pivot:r,...o})}function I8(t,n,{constant:e=1,...r}){return Co(t,wd().constant(e=+e),q8(e),n,r)}const R8={apply(t){return t},invert(t){return t}},F8={apply:Math.log,invert:Math.exp},O8={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function P8(t){return t===.5?O8:{apply(n){return Math.sign(n)*Math.pow(Math.abs(n),t)},invert(n){return Math.sign(n)*Math.pow(Math.abs(n),1/t)}}}function q8(t){return{apply(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))},invert(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}}function kh(t,n,e,r){return Xr(t,n,e,r)}function U8(t,n,e){return kh(t,F6(),n,e)}function z8(t,n,e){return kh(t,O6(),n,e)}const Zr=Symbol("ordinal");function Dh(t,n,e,{type:r,interval:i,domain:o,range:a,reverse:f,hint:c}){return i=Wr(i,r),o===void 0&&(o=Rh(e,i,t)),(r==="categorical"||r===Zr)&&(r="ordinal"),f&&(o=Ti(o)),o=n.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),n.range(a)),{type:r,domain:o,range:a,scale:n,hint:c,interval:i}}function H8(t,n,{type:e,interval:r,domain:i,range:o,scheme:a,unknown:f,...c}){r=Wr(r,e),i===void 0&&(i=Rh(n,r,t));let s;if(st.get(t)===To)s=Y8(n),o=o===void 0?V8(s):dt(o,Kf);else if(st.get(t)===En&&(o===void 0&&(e==="ordinal"||e===Zr)&&(o=h8(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=e==="ordinal"?"turbo":"observable10"),a!==void 0))if(o!==void 0){const u=Qf(a),d=o[0],l=o[1]-o[0];o=({length:h})=>Zt(p=>u(d+l*p),h)}else o=Th(a);if(f===Za)throw new Error(`implicit unknown on ${t} scale is not supported`);return Dh(t,If().unknown(f),n,{...c,type:e,domain:i,range:o,hint:s})}function B8(t,n,{align:e=.5,padding:r=.5,...i}){return Ih(m2().align(e).padding(r),n,i,t)}function W8(t,n,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=t==="fx"||t==="fy"?0:r,...a}){return Ih(go().align(e).paddingInner(i).paddingOuter(o),n,a,t)}function Ih(t,n,e,r){let{round:i}=e;return i!==void 0&&t.round(i=!!i),t=Dh(r,t,n,e),t.round=i,t}function Rh(t,n,e){const r=new ro;for(const{value:i,domain:o}of t){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(n!==void 0){const[i,o]=Dn(r).map(n.floor,n);return n.range(i,n.offset(o))}if(r.size>1e4&&st.get(e)===rn)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return ba(r,cn)}function Uu(t,n){let e;for(const{hint:r}of t){const i=r?.[n];if(i!==void 0){if(e===void 0)e=i;else if(e!==i)return}}return e}function Y8(t){return{fill:Uu(t,"fill"),stroke:Uu(t,"stroke")}}function V8(t){return Tt(t.fill)?ow:iw}function uf(t,{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:o=e,insetLeft:a=e,round:f,nice:c,clamp:s,zero:u,align:d,padding:l,projection:h,facet:{label:p=n}={},...g}={}){const m={};for(const[w,y]of t){const v=g[w],b=K8(w,y,{round:st.get(w)===rn?f:void 0,nice:c,clamp:s,zero:u,align:d,padding:l,projection:h,...v});if(b){let{label:$=w==="fx"||w==="fy"?p:n,percent:x,transform:M,inset:S,insetTop:T=S!==void 0?S:w==="y"?r:0,insetRight:L=S!==void 0?S:w==="x"?i:0,insetBottom:A=S!==void 0?S:w==="y"?o:0,insetLeft:E=S!==void 0?S:w==="x"?a:0}=v||{};if(M==null)M=void 0;else if(typeof M!="function")throw new Error("invalid scale transform; not a function");b.percent=!!x,b.label=$===void 0?X8(y,b):$,b.transform=M,w==="x"||w==="fx"?(b.insetLeft=+E,b.insetRight=+L):(w==="y"||w==="fy")&&(b.insetTop=+T,b.insetBottom=+A),m[w]=b}}return m}function zu(t){const n={},e={scales:n};for(const[r,i]of Object.entries(t)){const{scale:o,type:a,interval:f,label:c}=i;n[r]=e5(i),e[r]=o,o.type=a,f!=null&&(o.interval=f),c!=null&&(o.label=c)}return e}function G8(t,n){const{x:e,y:r,fx:i,fy:o}=t,a=i||o?nc(n):n;i&&Hu(i,a),o&&Bu(o,a);const f=i||o?Fh(t,n):n;e&&Hu(e,f),r&&Bu(r,f)}function X8(t=[],n){let e;for(const{label:r}of t)if(r!==void 0){if(e===void 0)e=r;else if(e!==r)return}if(e!==void 0)return!ge(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function Z8(t){return Math.sign(Fe(t.domain()))*Math.sign(Fe(t.range()))}function nc(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:f,marginRight:c,marginBottom:s,marginLeft:u}}=t;return{marginTop:Math.max(n,f),marginRight:Math.max(e,c),marginBottom:Math.max(r,s),marginLeft:Math.max(i,u),width:o,height:a}}function Fh({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:c}=nc(e);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:t?t.scale.bandwidth()+a+i:f,height:n?n.scale.bandwidth()+r+o:c,facet:{width:f,height:c}}}function Hu(t,n){if(t.range===void 0){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:a=0}=n,f=o+e,c=i-a-r;t.range=[f,Math.max(f,c)],ge(t)||(t.range=Ph(t)),t.scale.range(t.range)}Oh(t)}function Bu(t,n){if(t.range===void 0){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:a=0}=n,f=o+e,c=i-a-r;t.range=[Math.max(f,c),f],ge(t)?t.range.reverse():t.range=Ph(t),t.scale.range(t.range)}Oh(t)}function Oh(t){t.round===void 0&&J8(t)&&j8(t)<=30&&t.scale.round(!0)}function j8({scale:t}){const n=t.domain().length,[e,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),a=n-i,f=Math.abs(r-e)/Math.max(1,a+o*2);return(f-Math.floor(f))*a}function Ph(t){const n=t.scale.domain().length+qh(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},(i,o)=>e+o/(n-1)*(r-e))}function K8(t,n=[],e={}){const r=Q8(t,n,e);if(e.type===void 0&&e.domain===void 0&&e.range===void 0&&e.interval==null&&t!=="fx"&&t!=="fy"&&ge({type:r})){const i=n.map(({value:o})=>o).filter(o=>o!==void 0);i.some(Bt)?Xn(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${xe(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${xe(r)}".`):i.some(Iw)?Xn(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${xe(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${xe(r)}".`):i.some(Rw)&&Xn(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${xe(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${xe(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=ci(n,e,Au);break;case"identity":switch(st.get(t)){case rn:e=ci(n,e,Au);break;case To:e=ci(n,e,t5);break}break;case"utc":case"time":e=ci(n,e,ih);break}switch(r){case"diverging":return L8(t,n,e);case"diverging-sqrt":return k8(t,n,e);case"diverging-pow":return Lh(t,n,e);case"diverging-log":return D8(t,n,e);case"diverging-symlog":return I8(t,n,e);case"categorical":case"ordinal":case Zr:return H8(t,n,e);case"cyclical":case"sequential":case"linear":return b8(t,n,e);case"sqrt":return y8(t,n,e);case"threshold":return Jf(t,n,e);case"quantile":return x8(t,n,e);case"quantize":return M8(t,n,e);case"pow":return Eh(t,n,e);case"log":return w8(t,n,e);case"symlog":return v8(t,n,e);case"utc":return z8(t,n,e);case"time":return U8(t,n,e);case"point":return B8(t,n,e);case"band":return W8(t,n,e);case"identity":return _8(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function xe(t){return typeof t=="symbol"?t.description:t}function Wu(t){return typeof t=="string"?`${t}`.toLowerCase():t}const Yu={toString:()=>"projection"};function Q8(t,n,{type:e,domain:r,range:i,scheme:o,pivot:a,projection:f}){if(e=Wu(e),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(e=Yu);for(const u of n){const d=Wu(u.type);if(d!==void 0){if(e===void 0)e=d;else if(e!==d)throw new Error(`scale incompatible with channel: ${e} !== ${d}`)}}if(e===Yu)return;if(e!==void 0)return e;if(r===void 0&&!n.some(({value:u})=>u!==void 0))return;const c=st.get(t);if(c===Yr)return"sqrt";if(c===Gr||c===Vr)return"linear";if(c===To)return"ordinal";const s=(r??i)?.length;if(s<2||s>2)return ea(c);if(r!==void 0){if(Cu(r))return ea(c);if(Bt(r))return"utc"}else{const u=n.map(({value:d})=>d).filter(d=>d!==void 0);if(u.some(Cu))return ea(c);if(u.some(Bt))return"utc"}if(c===En){if(a!=null||g8(o))return"diverging";if(d8(o))return"categorical"}return"linear"}function ea(t){switch(t){case rn:return"point";case En:return Zr;default:return"ordinal"}}function ge({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===Zr}function qh({type:t}){return t==="threshold"}function J8({type:t}){return t==="point"||t==="band"}function Pe(t){if(t===void 0)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function ci(t,{domain:n,...e},r){for(const i of t)i.value!==void 0&&(n===void 0&&(n=i.value?.domain),i.value=r(i.value));return{domain:n===void 0?n:r(n),...e}}function t5(t){return dt(t,Kf)}function n5(t){return n=>{if(!st.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}function e5({scale:t,type:n,domain:e,range:r,interpolate:i,interval:o,transform:a,percent:f,pivot:c}){if(n==="identity")return{type:"identity",apply:u=>u,invert:u=>u};const s=t.unknown?t.unknown():void 0;return{type:n,domain:xr(e),...r!==void 0&&{range:xr(r)},...a!==void 0&&{transform:a},...f&&{percent:f},...s!==void 0&&{unknown:s},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:u=>t(u),...t.invert&&{invert:u=>t.invert(u)}}}function r5(t,n){const{fx:e,fy:r}=uf(t,n),i=e?.scale.domain(),o=r?.scale.domain();return i&&o?l1(i,o).map(([a,f],c)=>({x:a,y:f,i:c})):i?i.map((a,f)=>({x:a,i:f})):o?o.map((a,f)=>({y:a,i:f})):void 0}function i5(t,{x:n,y:e}){return n&&=sf(n),e&&=sf(e),t.filter(n&&e?r=>n.has(r.x)&&e.has(r.y):n?r=>n.has(r.x):r=>e.has(r.y)).sort(n&&e?(r,i)=>n.get(r.x)-n.get(i.x)||e.get(r.y)-e.get(i.y):n?(r,i)=>n.get(r.x)-n.get(i.x):(r,i)=>e.get(r.y)-e.get(i.y))}function ec(t,{fx:n,fy:e}){const r=Pn(t),i=n?.value,o=e?.value;return n&&e?cr(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):n?cr(r,a=>(a.fx=i[a[0]],a),a=>i[a]):cr(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function o5(t,n,{marginTop:e,marginLeft:r}){const i=t?({x:a})=>t(a)-r:()=>0,o=n?({y:a})=>n(a)-e:()=>0;return function(a){this.tagName==="svg"?(this.setAttribute("x",i(a)),this.setAttribute("y",o(a))):this.setAttribute("transform",`translate(${i(a)},${o(a)})`)}}function a5(t){const n=[],e=new Uint32Array(Kn(t,r=>r.length));for(const r of t){let i=0;for(const o of t)r!==o&&(e.set(o,i),i+=o.length);n.push(e.slice(0,i))}return n}const f5=new Map([["top",ra],["right",aa],["bottom",ia],["left",oa],["top-left",ui(ra,oa)],["top-right",ui(ra,aa)],["bottom-left",ui(ia,oa)],["bottom-right",ui(ia,aa)],["top-empty",s5],["right-empty",h5],["bottom-empty",l5],["left-empty",d5],["empty",p5]]);function c5(t){if(t==null)return null;const n=f5.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}const Vu=new WeakMap;function sf(t){let n=Vu.get(t);return n||Vu.set(t,n=new jn(dt(t,(e,r)=>[e,r]))),n}function qn(t,n){return sf(t).get(n)}function u5(t,n,e){return n=fi(n),e=fi(e),t.find(r=>Object.is(fi(r.x),n)&&Object.is(fi(r.y),e))}function Eo(t,n,e){return u5(t,n,e)?.empty}function ra(t,{y:n},{y:e}){return n?qn(n,e)===0:!0}function ia(t,{y:n},{y:e}){return n?qn(n,e)===n.length-1:!0}function oa(t,{x:n},{x:e}){return n?qn(n,e)===0:!0}function aa(t,{x:n},{x:e}){return n?qn(n,e)===n.length-1:!0}function s5(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=qn(n,r);if(o>0)return Eo(t,e,n[o-1])}function l5(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=qn(n,r);if(o<n.length-1)return Eo(t,e,n[o+1])}function d5(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=qn(n,e);if(o>0)return Eo(t,n[o-1],r)}function h5(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=qn(n,e);if(o<n.length-1)return Eo(t,n[o+1],r)}function p5(t,n,{empty:e}){return e}function ui(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function fa(t,{channels:{fx:n,fy:e},groups:r}){return n&&e?t.map(({x:i,y:o})=>r.get(i)?.get(o)??[]):n?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}const Uh=Math.PI,mn=2*Uh,ca=.618;function g5({projection:t,inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let f,c,s="frame";if(he(t)){let $;if({type:t,domain:c,inset:$,insetTop:e=$!==void 0?$:e,insetRight:r=$!==void 0?$:r,insetBottom:i=$!==void 0?$:i,insetLeft:o=$!==void 0?$:o,clip:s=s,...f}=t,t==null)return}typeof t!="function"&&({type:t}=lf(t));const{width:u,height:d,marginLeft:l,marginRight:h,marginTop:p,marginBottom:g}=a,m=u-l-h-o-r,w=d-p-g-e-i;if(t=t?.({width:m,height:w,clip:s,...f}),t==null)return;s=m5(s,l,p,u-h,d-g);let y=l+o,v=p+e,b;if(c!=null){const[[$,x],[M,S]]=Nf(t).bounds(c),T=Math.min(m/(M-$),w/(S-x));T>0?(y-=(T*($+M)-m)/2,v-=(T*(x+S)-w)/2,b=Wi({point(L,A){this.stream.point(L*T+y,A*T+v)}})):Xn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return b??=y===0&&v===0?zh():Wi({point($,x){this.stream.point($+y,x+v)}}),{stream:$=>t.stream(b.stream(s($)))}}function lf(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Yt(n2,.7463,.4673);case"albers":return si(Fl,.7463,.4673);case"azimuthal-equal-area":return Yt(e2,4,4);case"azimuthal-equidistant":return Yt(r2,mn,mn);case"conic-conformal":return si(a2,mn,mn);case"conic-equal-area":return si(Yi,6.1702,2.9781);case"conic-equidistant":return si(u2,7.312,3.6282);case"equal-earth":return Yt(l2,5.4133,2.6347);case"equirectangular":return Yt(f2,mn,Uh);case"gnomonic":return Yt(d2,3.4641,3.4641);case"identity":return{type:zh};case"reflect-y":return{type:b5};case"mercator":return Yt(i2,mn,mn);case"orthographic":return Yt(h2,2,2);case"stereographic":return Yt(p2,2,2);case"transverse-mercator":return Yt(g2,mn,mn);default:throw new Error(`unknown projection type: ${t}`)}}function m5(t,n,e,r,i){if(t===!1||t==null||typeof t=="number")return o=>o;if(t===!0&&(t="frame"),`${t}`.toLowerCase()==="frame")return vl(n,e,r,i);throw new Error(`unknown projection clip type: ${t}`)}function Yt(t,n,e){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:f})=>{const c=t();return a!=null&&c.precision?.(a),o!=null&&c.rotate?.(o),typeof f=="number"&&c.clipAngle?.(f),r!=null&&(c.scale(Math.min(r/n,i/e)),c.translate([r/2,i/2])),c},aspectRatio:e/n}}function si(t,n,e){const{type:r,aspectRatio:i}=Yt(t,n,e);return{type:o=>{const{parallels:a,domain:f,width:c,height:s}=o,u=r(o);return a!=null&&(u.parallels(a),f===void 0&&c!=null&&u.fitSize([c,s],{type:"Sphere"})),u},aspectRatio:i}}const zh=$n({stream:t=>t}),b5=$n(Wi({point(t,n){this.stream.point(t,-n)}}));function y5(t,n,e,r){const i=e[t],o=e[n],a=i.length,f=e[t]=new Float64Array(a).fill(NaN),c=e[n]=new Float64Array(a).fill(NaN);let s;const u=r.stream({point(d,l){f[s]=d,c[s]=l}});for(s=0;s<a;++s)u.point(i[s],o[s])}function w5({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(he(t)&&(t=t.type),t!=null)}function v5(t){if(typeof t?.stream=="function")return ca;if(he(t)){let n,e;if({domain:n,type:t,...e}=t,n!=null&&t!=null){const r=typeof t=="string"?lf(t).type:t,[[i,o],[a,f]]=Nf(r({...e,width:100,height:100})).bounds(n),c=(f-o)/(a-i);return c&&isFinite(c)?c<.2?.2:c>5?5:c:ca}}if(t!=null){if(typeof t!="function"){const{aspectRatio:n}=lf(t);if(n)return n}return ca}}function x5(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},o={point(a,f){n.push(a),e.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)Hn(a,o);return[r,i]}function M5({x:t,y:n}){if(t||n)return t??=e=>e,n??=e=>e,Wi({point(e,r){this.stream.point(t(e),n(r))}})}function rc(t={}){const{document:n=typeof window<"u"?window.document:void 0,clip:e}=t;return{document:n,clip:dh(e)}}function St(t,{document:n}){return Wn(oo(t).call(n.documentElement))}const $5=Symbol("unset");function ic(t){return(t.length===1?_5:S5)(t)}function _5(t){let n,e=$5;return r=>(Object.is(e,r)||(e=r,n=t(r)),n)}function S5(t){let n,e;return(...r)=>((e?.length!==r.length||e.some((i,o)=>!Object.is(i,r[o])))&&(e=r,n=t(...r)),n)}const T5=ic(t=>new Intl.NumberFormat(t));ic((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{month:n}}));ic((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{weekday:n}}));function A5(t="en-US"){const n=T5(t);return e=>e!=null&&!isNaN(e)?n.format(e):void 0}function C5(t){return aw(t,"Invalid Date")}function E5(t="en-US"){const n=A5(t);return e=>(e instanceof Date?C5:typeof e=="number"?n:vt)(e)}const Ar=E5(),Lt=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let N5=0;function Hh(){return`plot-clip-${++N5}`}function L5(t,{title:n,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:f,fillOpacity:c,stroke:s,strokeWidth:u,strokeOpacity:d,strokeLinejoin:l,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:m,opacity:w,mixBlendMode:y,imageFilter:v,paintOrder:b,pointerEvents:$,shapeRendering:x,channels:M},{ariaLabel:S,fill:T="currentColor",fillOpacity:L,stroke:A="none",strokeOpacity:E,strokeWidth:O,strokeLinecap:D,strokeLinejoin:_,strokeMiterlimit:I,paintOrder:W}){T===null&&(f=null,c=null),A===null&&(s=null,d=null),Tt(T)?!Tt(A)&&(!Tt(f)||M?.fill)&&(A="none"):Tt(A)&&(!Tt(s)||M?.stroke)&&(T="none");const[B,k]=ae(f,T),[R,U]=Nt(c,L),[z,q]=ae(s,A),[K,J]=Nt(d,E),[tt,P]=Nt(w);_r(q)||(u===void 0&&(u=O),h===void 0&&(h=D),l===void 0&&(l=_),p===void 0&&!qw(l)&&(p=I),!_r(k)&&b===void 0&&(b=W));const[et,N]=Nt(u);return T!==null&&(t.fill=yt(k,"currentColor"),t.fillOpacity=Ke(U,1)),A!==null&&(t.stroke=yt(q,"none"),t.strokeWidth=Ke(N,1),t.strokeOpacity=Ke(J,1),t.strokeLinejoin=yt(l,"miter"),t.strokeLinecap=yt(h,"butt"),t.strokeMiterlimit=Ke(p,4),t.strokeDasharray=yt(g,"none"),t.strokeDashoffset=yt(m,"0")),t.target=vt(a),t.ariaLabel=vt(S),t.ariaDescription=vt(i),t.ariaHidden=vt(o),t.opacity=Ke(P,1),t.mixBlendMode=yt(y,"normal"),t.imageFilter=yt(v,"none"),t.paintOrder=yt(b,"normal"),t.pointerEvents=yt($,"auto"),t.shapeRendering=yt(x,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:B,scale:"auto",optional:!0},fillOpacity:{value:R,scale:"auto",optional:!0},stroke:{value:z,scale:"auto",optional:!0},strokeOpacity:{value:K,scale:"auto",optional:!0},strokeWidth:{value:et,optional:!0},opacity:{value:tt,scale:"auto",optional:!0}}}function k5(t,n){n&&t.filter(e=>B0(n[e])).append("title").call(D5,n)}function D5(t,n){n&&t.text(e=>Ar(n[e]))}function fe(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:c,strokeWidth:s,opacity:u,href:d}){r&&Q(t,"aria-label",l=>r[l]),o&&Q(t,"fill",l=>o[l]),a&&Q(t,"fill-opacity",l=>a[l]),f&&Q(t,"stroke",l=>f[l]),c&&Q(t,"stroke-opacity",l=>c[l]),s&&Q(t,"stroke-width",l=>s[l]),u&&Q(t,"opacity",l=>u[l]),d&&q5(t,l=>d[l],n),e||k5(t,i)}function I5(t,n,e,r){let i;const{clip:o=r.clip}=n;o==="frame"?(t=St("svg:g",r).each(function(){this.appendChild(t.node()),t.node=()=>this}),i=F5(r,e)):o&&(i=P5(o,r)),Q(t,"aria-label",n.ariaLabel),Q(t,"aria-description",n.ariaDescription),Q(t,"aria-hidden",n.ariaHidden),Q(t,"clip-path",i)}function R5(t){const n=new WeakMap;return(e,r)=>{let i=n.get(e);if(!i){const o=Hh();Wn(e.ownerSVGElement).append("clipPath").attr("id",o).call(t,e,r),n.set(e,i=`url(#${o})`)}return i}}const F5=R5((t,n,e)=>{const{width:r,height:i,marginLeft:o,marginRight:a,marginTop:f,marginBottom:c}=e;t.append("rect").attr("x",o).attr("y",f).attr("width",r-a-o).attr("height",i-f-c)}),Gu=new WeakMap,O5={type:"Sphere"};function P5(t,n){let e,r;if((e=Gu.get(n))||Gu.set(n,e=new WeakMap),t.type==="Sphere"&&(t=O5),!(r=e.get(t))){const i=Hh();Wn(n.ownerSVGElement).append("clipPath").attr("id",i).append("path").attr("d",n.path()(t)),e.set(t,r=`url(#${i})`)}return r}function me(t,n,e,r){I5(t,n,e,r),Q(t,"class",n.className),Q(t,"fill",n.fill),Q(t,"fill-opacity",n.fillOpacity),Q(t,"stroke",n.stroke),Q(t,"stroke-width",n.strokeWidth),Q(t,"stroke-opacity",n.strokeOpacity),Q(t,"stroke-linejoin",n.strokeLinejoin),Q(t,"stroke-linecap",n.strokeLinecap),Q(t,"stroke-miterlimit",n.strokeMiterlimit),Q(t,"stroke-dasharray",n.strokeDasharray),Q(t,"stroke-dashoffset",n.strokeDashoffset),Q(t,"shape-rendering",n.shapeRendering),Q(t,"filter",n.imageFilter),Q(t,"paint-order",n.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=n;Q(t,"pointer-events",i)}function Rn(t,n){U5(t,"mix-blend-mode",n.mixBlendMode),Q(t,"opacity",n.opacity)}function q5(t,n,e){t.each(function(r){const i=n(r);if(i!=null){const o=this.ownerDocument.createElementNS(Ae.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(Ae.xlink,"href",i),e!=null&&o.setAttribute("target",e),this.parentNode.insertBefore(o,this).appendChild(this)}})}function Q(t,n,e){e!=null&&t.attr(n,e)}function U5(t,n,e){e!=null&&t.style(n,e)}function be(t,n,{x:e,y:r},i=Lt,o=Lt){i+=n.dx,o+=n.dy,e?.bandwidth&&(i+=e.bandwidth()/2),r?.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function yt(t,n){if((t=vt(t))!==n)return t}function Ke(t,n){if((t=Mt(t))!==n)return t}const z5=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function oc(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!z5.test(t))throw new Error(`invalid class name: ${t}`);return t}function ac(t,n){if(typeof n=="string")t.property("style",n);else if(n!=null)for(const e of t)Object.assign(e.style,n)}function No({frameAnchor:t},{width:n,height:e,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?n-i:(a+n-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?e-o:(r+e-o)/2]}class dn{constructor(n,e={},r={},i){const{facet:o="auto",facetAnchor:a,fx:f,fy:c,sort:s,dx:u=0,dy:d=0,margin:l=0,marginTop:h=l,marginRight:p=l,marginBottom:g=l,marginLeft:m=l,className:w,clip:y=i?.clip,channels:v,tip:b,render:$}=r;if(this.data=n,this.sort=Mr(s)?s:null,this.initializer=to(r).initializer,this.transform=this.initializer?r.transform:yh(r).transform,o===null||o===!1?this.facet=null:(this.facet=Jt(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=n===xi&&typeof f=="string"?[f]:f,this.fy=n===xi&&typeof c=="string"?[c]:c),this.facetAnchor=c5(a),e=lh(e),v!==void 0&&(e={...H5(v),...e}),i!==void 0&&(e={...L5(this,r,i),...e}),this.channels=Object.fromEntries(Object.entries(e).map(([x,M])=>{if(Gf(M.value)){const{value:S,label:T=M.label,scale:L=M.scale}=M.value;M={...M,label:T,scale:L,value:S}}if(n===xi&&typeof M.value=="string"){const{value:S}=M;M={...M,value:[S]}}return[x,M]}).filter(([x,{value:M,optional:S}])=>{if(M!=null)return!0;if(S)return!1;throw new Error(`missing channel value: ${x}`)})),this.dx=+u,this.dy=+d,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+g,this.marginLeft=+m,this.clip=dh(y),this.tip=B5(b),this.className=vt(w),this.facet==="super"){if(f||c)throw new Error("super-faceting cannot use fx or fy");for(const x in this.channels){const{scale:M}=e[x];if(!(M!=="x"&&M!=="y"))throw new Error("super-faceting cannot use x or y")}}$!=null&&(this.render=Wh($,this.render))}initialize(n,e,r){let i=Oe(this.data);n===void 0&&i!=null&&(n=[Pn(i)]);const o=n;this.transform!=null&&({facets:n,data:i}=this.transform(i,n,r),i=Oe(i)),n!==void 0&&(n.original=o);const a=a8(this.channels,i);return this.sort!=null&&c8(i,n,a,e,this.sort),{data:i,facets:n,channels:a}}filter(n,e,r){for(const i in e){const{filter:o=oe}=e[i];if(o!==null){const a=r[i];n=n.filter(f=>o(a[f]))}}return n}project(n,e,r){for(const i in n)if(n[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in n&&n[o].scale==="y"&&y5(i,o,e,r.projection)}}scale(n,e,r){const i=f8(n,e);return r.projection&&this.project(n,i,r),i}}function Bh(...t){return t.plot=dn.prototype.plot,t}function Wh(t,n){if(t==null)return n===null?void 0:n;if(n==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof n!="function")throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,o,a,f){return t.call(this,e,r,i,o,a,(c,s,u,d,l)=>n.call(this,c,s,u,d,l,f))}}function H5(t){return Object.fromEntries(Object.entries(lh(t)).map(([n,e])=>(e=typeof e=="string"?{value:e,label:n}:_o(e),e.filter===void 0&&e.scale==null&&(e={...e,filter:null}),[n,e])))}function B5(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?Jt(t,"tip",["x","y","xy"]):t}function fc(t,n){return t?.tip===!0?{...t,tip:n}:he(t?.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:n}}:t}function W5(t,n,e={}){let r=.5-Lt,i=.5+Lt,o=.5+Lt,a=.5-Lt;for(const{marginTop:g,marginRight:m,marginBottom:w,marginLeft:y}of n)g>r&&(r=g),m>i&&(i=m),w>o&&(o=w),y>a&&(a=y);let{margin:f,marginTop:c=f!==void 0?f:r,marginRight:s=f!==void 0?f:i,marginBottom:u=f!==void 0?f:o,marginLeft:d=f!==void 0?f:a}=e;c=+c,s=+s,u=+u,d=+d;let{width:l=640,height:h=Y5(t,e,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,c-r+u-o)}=e;l=+l,h=+h;const p={width:l,height:h,marginTop:c,marginRight:s,marginBottom:u,marginLeft:d};if(t.fx||t.fy){let{margin:g,marginTop:m=g!==void 0?g:c,marginRight:w=g!==void 0?g:s,marginBottom:y=g!==void 0?g:u,marginLeft:v=g!==void 0?g:d}=e.facet??{};m=+m,w=+w,y=+y,v=+v,p.facet={marginTop:m,marginRight:w,marginBottom:y,marginLeft:v}}return p}function Y5({x:t,y:n,fy:e,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:f,marginRightDefault:c,marginBottomDefault:s,marginLeftDefault:u}){const d=e&&e.scale.domain().length||1,l=v5(i);if(l){const p=r?r.scale.domain().length:1,g=(1.1*d-.1)/(1.1*p-.1)*l,m=Math.max(.1,Math.min(10,g));return Math.round((a-u-c)*m+f+s)}const h=n?ge(n)?n.scale.domain().length||1:Math.max(7,17/d):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const p=Xu("y",n)/(Xu("x",t)*o),g=r?r.scale.bandwidth():1,m=e?e.scale.bandwidth():1,w=g*(a-u-c)-t.insetLeft-t.insetRight;return(p*w+n.insetTop+n.insetBottom)/m+f+s}return!!(n||e)*Math.max(1,Math.min(60,h*d))*20+!!r*30+60}function Xu(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=n.scale.exponent();i=c=>Math.pow(c,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[o,a]=Dn(r);return Math.abs(i(a)-i(o))}const Zu=new WeakMap;function cc(t,n,{x:e,y:r,px:i,py:o,maxRadius:a=40,channels:f,render:c,...s}={}){return a=+a,i!=null&&(e??=null,f={...f,px:{value:i,scale:"x"}}),o!=null&&(r??=null,f={...f,py:{value:o,scale:"y"}}),{x:e,y:r,channels:f,...s,render:Wh(function(u,d,l,h,p,g){p={...p,pointerSticky:!1};const m=p.ownerSVGElement,{data:w}=p.getMarkState(this);let y=Zu.get(m);y||Zu.set(m,y={sticky:!1,roots:[],renders:[]});let v=y.renders.push(q)-1;const{x:b,y:$,fx:x,fy:M}=d;let S=x?x(u.fx)-h.marginLeft:0,T=M?M(u.fy)-h.marginTop:0;b?.bandwidth&&(S+=b.bandwidth()/2),$?.bandwidth&&(T+=$.bandwidth()/2);const L=u.fi!=null;let A;if(L){let P=y.facetStates;P||(y.facetStates=P=new Map),A=P.get(this),A||P.set(this,A=new Map)}const[E,O]=No(this,h),{px:D,py:_}=l,I=D?P=>D[P]:Yh(l,E),W=_?P=>_[P]:Vh(l,O);let B,k,R,U;function z(P,et){if(L)if(U&&(U=cancelAnimationFrame(U)),P==null)A.delete(u.fi);else{A.set(u.fi,et),U=requestAnimationFrame(()=>{U=null;for(const[N,F]of A)if(F<et||F===et&&N<u.fi){P=null;break}q(P)});return}q(P)}function q(P){if(B===P&&R===y.sticky)return;B=P,R=p.pointerSticky=y.sticky;const et=B==null?[]:[B];L&&(et.fx=u.fx,et.fy=u.fy,et.fi=u.fi);const N=g(et,d,l,h,p);if(k){if(L){const F=k.parentNode,H=k.getAttribute("transform"),C=N.getAttribute("transform");H?N.setAttribute("transform",H):N.removeAttribute("transform"),C?F.setAttribute("transform",C):F.removeAttribute("transform"),N.removeAttribute("aria-label"),N.removeAttribute("aria-description"),N.removeAttribute("aria-hidden")}k.replaceWith(N)}if(y.roots[v]=k=N,!(B==null&&A?.size>1)){const F=B==null?null:le(w)?w[B]:w.get(B);p.dispatchValue(F)}return N}function K(P){if(y.sticky||P.pointerType==="mouse"&&P.buttons===1)return;let[et,N]=bm(P);et-=S,N-=T;const F=et<h.marginLeft||et>h.width-h.marginRight?1:t,H=N<h.marginTop||N>h.height-h.marginBottom?1:n;let C=null,ot=a*a;for(const Y of u){const ft=F*(I(Y)-et),lt=H*(W(Y)-N),Et=ft*ft+lt*lt;Et<=ot&&(C=Y,ot=Et)}if(C!=null&&(t!==1||n!==1)){const Y=I(C)-et,ft=W(C)-N;ot=Y*Y+ft*ft}z(C,ot)}function J(P){P.pointerType==="mouse"&&B!=null&&(y.sticky&&y.roots.some(et=>et?.contains(P.target))||(y.sticky?(y.sticky=!1,y.renders.forEach(et=>et(null))):(y.sticky=!0,q(B)),P.stopImmediatePropagation()))}function tt(P){P.pointerType==="mouse"&&(y.sticky||z(null))}return m.addEventListener("pointerenter",K),m.addEventListener("pointermove",K),m.addEventListener("pointerdown",J),m.addEventListener("pointerleave",tt),q(null)},c)}}function V5(t){return cc(1,1,t)}function G5(t){return cc(1,.01,t)}function ju(t){return cc(.01,1,t)}function Yh({x1:t,x2:n,x:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function Vh({y1:t,y2:n,y:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function Gh(t){return ge(t)&&t.interval===void 0?void 0:"tabular-nums"}function X5(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:f=0,marginBottom:c=16+r,marginLeft:s=0,style:u,ticks:d=(i-s-f)/64,tickFormat:l,fontVariant:h=Gh(t),round:p=!0,opacity:g,className:m}=n;const w=rc(n);m=oc(m),g=Nt(g)[1],l===null&&(l=()=>null);const y=St("svg",w).attr("class",`${m}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(E=>E.append("style").text(`:where(.${m}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${m}-ramp text) {
  white-space: pre;
}`)).call(ac,u);let v=E=>E.selectAll(".tick line").attr("y1",a+c-o),b;const $=p?(E,O)=>E.rangeRound(O):(E,O)=>E.range(O),{type:x,domain:M,range:S,interpolate:T,scale:L,pivot:A}=t;if(T){const E=S===void 0?T:co(T.length===1?tc(T):T,S);b=$(L.copy(),Zt(wt(s,i-f),Math.min(M.length+(A!==void 0),S===void 0?1/0:S.length)));const O=256,D=w.document.createElement("canvas");D.width=O,D.height=1;const _=D.getContext("2d");for(let I=0,W=O-1;I<O;++I)_.fillStyle=E(I/W),_.fillRect(I,0,1,1);y.append("image").attr("opacity",g).attr("x",s).attr("y",a).attr("width",i-s-f).attr("height",o-a-c).attr("preserveAspectRatio","none").attr("xlink:href",D.toDataURL())}else if(x==="threshold"){const E=M,O=l===void 0?D=>D:typeof l=="string"?ze(l):l;b=$(Rf().domain([-1,S.length-1]),[s,i-f]),y.append("g").attr("fill-opacity",g).selectAll().data(S).enter().append("rect").attr("x",(D,_)=>b(_-1)).attr("y",a).attr("width",(D,_)=>b(_)-b(_-1)).attr("height",o-a-c).attr("fill",D=>D),d=dt(E,(D,_)=>_),l=D=>O(E[D],D)}else b=$(go().domain(M),[s,i-f]),y.append("g").attr("fill-opacity",g).selectAll().data(M).enter().append("rect").attr("x",b).attr("y",a).attr("width",Math.max(0,b.bandwidth()-1)).attr("height",o-a-c).attr("fill",L),v=()=>{};return y.append("g").attr("transform",`translate(0,${o-c})`).call(I1(b).ticks(Array.isArray(d)?null:d,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",yt(h,"normal")).call(v).call(E=>E.select(".domain").remove()),e!==void 0&&y.append("text").attr("x",s).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(e),y.node()}const Xh=Math.PI/180;function Zh(t,{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}={}){t.markerStart=ua(e),t.markerMid=ua(r),t.markerEnd=ua(i)}function ua(t){if(t==null||t===!1)return null;if(t===!0)return Qu;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Ku("auto");case"arrow-reverse":return Ku("auto-start-reverse");case"dot":return Z5;case"circle":case"circle-fill":return Qu;case"circle-stroke":return j5;case"tick":return sa("auto");case"tick-x":return sa(90);case"tick-y":return sa(0)}throw new Error(`invalid marker: ${t}`)}function Ku(t){return(n,e)=>St("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function Z5(t,n){return St("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(e=>e.append("circle").attr("r",2.5)).node()}function Qu(t,n){return St("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function j5(t,n){return St("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function sa(t){return(n,e)=>St("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",n).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let K5=0;function jh(t,n,{stroke:e},r){return Q5(t,n,e&&(i=>e[i]),null,r)}function Q5(t,{markerStart:n,markerMid:e,markerEnd:r,stroke:i},o=()=>i,a,f){if(!n&&!e&&!r)return;const c=new Map,s=a;function u(d,l,h){return function(p){if(h&&!h(p))return;const g=o(p);let m=c.get(l);m||c.set(l,m=new Map);let w=m.get(g);if(!w){const y=this.parentNode.insertBefore(l(g,f),this),v=`plot-marker-${++K5}`;y.setAttribute("id",v),m.set(g,w=`url(#${v})`)}this.setAttribute(d,w)}}n&&t.each(u("marker-start",n,s)),e&&t.each(u("marker-mid",e)),r&&t.each(u("marker-end",r,s))}function Kh({inset:t,insetLeft:n,insetRight:e,...r}={}){return[n,e]=Jh(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function Qh({inset:t,insetTop:n,insetBottom:e,...r}={}){return[n,e]=Jh(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function Jh(t,n,e){return t===void 0&&n===void 0&&e===void 0?Lt?[1,0]:[.5,.5]:[n,e]}function tp(t,{interval:n}){return t={..._o(t)},t.interval=Zf(t.interval===void 0?n:t.interval),t}function np(t,n,e,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:a}=e,{value:f,interval:c}=tp(i,e);if(f==null||c==null)return e;const s=Br(i);if(c==null){let h;const p={transform:g=>h||(h=zt(g,f)),label:s};return{...e,[t]:void 0,[`${t}1`]:o===void 0?p:o,[`${t}2`]:a===void 0?p:a}}let u,d;function l(h){return d!==void 0&&h===u?d:d=dt(zt(u=h,f),p=>c.floor(p))}return n({...e,[t]:void 0,[`${t}1`]:o===void 0?{transform:l,label:s}:o,[`${t}2`]:a===void 0?{transform:h=>l(h).map(p=>c.offset(p)),label:s}:a})}function ep(t,n,e){const{[t]:r}=e,{value:i,interval:o}=tp(r,e);return i==null||o==null?e:n({...e,[t]:{label:Br(r),transform:a=>{const f=dt(zt(a,i),s=>o.floor(s)),c=f.map(s=>o.offset(s));return f.map(Bt(f)?(s,u)=>s==null||isNaN(s=+s)||(u=c[u],u==null)||isNaN(u=+u)?void 0:new Date((s+u)/2):(s,u)=>s==null||(u=c[u],u==null)?NaN:(+s+ +u)/2)}}})}function rp(t={}){return np("x",Kh,t)}function J5(t={}){return np("y",Qh,t)}function t3(t={}){return ep("x",Kh,t)}function n3(t={}){return ep("y",Qh,t)}const ip={ariaLabel:"rule",fill:null,stroke:"currentColor"};class e3 extends dn{constructor(n,e={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:f=a,insetBottom:c=a}=e;super(n,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},fc(e,"x"),ip),this.insetTop=Mt(f),this.insetBottom=Mt(c),Zh(this,e)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y1:s,y2:u}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:g,marginBottom:m}=i,{insetTop:w,insetBottom:y}=this;return St("svg:g",o).call(me,this,i,o).call(be,this,{x:c&&a},Lt,0).call(v=>v.selectAll().data(n).enter().append("line").call(Rn,this).attr("x1",c?b=>c[b]:(g+d-p)/2).attr("x2",c?b=>c[b]:(g+d-p)/2).attr("y1",s&&!Pe(f)?b=>s[b]+w:h+w).attr("y2",u&&!Pe(f)?f.bandwidth?b=>u[b]+f.bandwidth()-y:b=>u[b]-y:l-m-y).call(fe,this,r).call(jh,this,r,o)).node()}}class r3 extends dn{constructor(n,e={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:f=a,insetLeft:c=a}=e;super(n,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},fc(e,"y"),ip),this.insetRight=Mt(f),this.insetLeft=Mt(c),Zh(this,e)}render(n,e,r,i,o){const{x:a,y:f}=e,{y:c,x1:s,x2:u}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:g,marginBottom:m}=i,{insetLeft:w,insetRight:y}=this;return St("svg:g",o).call(me,this,i,o).call(be,this,{y:c&&f},0,Lt).call(v=>v.selectAll().data(n).enter().append("line").call(Rn,this).attr("x1",s&&!Pe(a)?b=>s[b]+w:g+w).attr("x2",u&&!Pe(a)?a.bandwidth?b=>u[b]+a.bandwidth()-y:b=>u[b]-y:d-p-y).attr("y1",c?b=>c[b]:(h+l-m)/2).attr("y2",c?b=>c[b]:(h+l-m)/2).call(fe,this,r).call(jh,this,r,o)).node()}}function uc(t,n){let{x:e=Wt,y:r,y1:i,y2:o,...a}=J5(n);return[i,o]=op(r,i,o),new e3(t,{...a,x:e,y1:i,y2:o})}function i3(t,n){let{y:e=Wt,x:r,x1:i,x2:o,...a}=rp(n);return[i,o]=op(r,i,o),new r3(t,{...a,y:e,x1:i,x2:o})}function op(t,n,e){if(t==null){if(n===void 0){if(e!==void 0)return[0,e]}else if(e===void 0)return[0,n]}else{if(n===void 0)return e===void 0?[0,t]:[t,e];if(e===void 0)return[t,n]}return[n,e]}function ap(t,...n){let e=n.length;for(let r=0,i=!0;r<e;++r)typeof n[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+n[r]+t[r+1]),n.splice(r,1),--r,--e);return r=>{let i=t[0];for(let o=0;o<e;++o)i+=n[o](r)+t[o+1];return i}}const o3={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},fp="";class sc extends dn{constructor(n,e={}){const{x:r,y:i,text:o=pe(n)&&sh(n)?Wt:eh,frameAnchor:a,textAnchor:f=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:c=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:s=1,lineWidth:u=1/0,textOverflow:d,monospace:l,fontFamily:h=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:g,fontVariant:m,fontWeight:w,rotate:y}=e,[v,b]=Nt(y,0),[$,x]=l3(p);if(super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:$,optional:!0},rotate:{value:Dw(v),optional:!0},text:{value:o,filter:B0,optional:!0}},e,o3),this.rotate=b,this.textAnchor=yt(f,"middle"),this.lineAnchor=Jt(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+s,this.lineWidth=+u,this.textOverflow=cp(d),this.monospace=!!l,this.fontFamily=vt(h),this.fontSize=x,this.fontStyle=vt(g),this.fontVariant=vt(m),this.fontWeight=vt(w),this.frameAnchor=jf(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${u}`);this.splitLines=sp(this),this.clipLine=lp(this)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y:s,rotate:u,text:d,title:l,fontSize:h}=r,{rotate:p}=this,[g,m]=No(this,i);return St("svg:g",o).call(me,this,i,o).call(up,this,d,i).call(be,this,{x:c&&a,y:s&&f}).call(w=>w.selectAll().data(n).enter().append("text").call(Rn,this).call(a3,this,d,l).attr("transform",ap`translate(${c?y=>c[y]:g},${s?y=>s[y]:m})${u?y=>` rotate(${u[y]})`:p?` rotate(${p})`:""}`).call(Q,"font-size",h&&(y=>h[y])).call(fe,this,r)).node()}}function cp(t){return t==null?null:Jt(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function a3(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:f,clipLine:c}=n;t.each(function(s){const u=f(Ar(e[s])??"").map(c),d=u.length,l=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let h=0;for(let p=0;p<d;++p){if(++h,!u[p])continue;const g=this.ownerDocument.createElementNS(Ae.svg,"tspan");g.setAttribute("x",0),p===h-1?g.setAttribute("y",`${(l+p)*o}em`):g.setAttribute("dy",`${h*o}em`),g.textContent=u[p],this.appendChild(g),h=0}}else l&&this.setAttribute("y",`${l*o}em`),this.textContent=u[0];if(a&&!r&&u[0]!==e[s]){const h=this.ownerDocument.createElementNS(Ae.svg,"title");h.textContent=e[s],this.appendChild(h)}})}function Lo(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=ch(n,e)),new sc(t,{...r,x:n,y:e})}function f3(t,{x:n=Wt,...e}={}){return new sc(t,n3({...e,x:n}))}function c3(t,{y:n=Wt,...e}={}){return new sc(t,t3({...e,y:n}))}function up(t,n,e){Q(t,"text-anchor",n.textAnchor),Q(t,"font-family",n.fontFamily),Q(t,"font-size",n.fontSize),Q(t,"font-style",n.fontStyle),Q(t,"font-variant",n.fontVariant===void 0?u3(e):n.fontVariant),Q(t,"font-weight",n.fontWeight)}function u3(t){return t&&(Fw(t)||Bt(t))?"tabular-nums":void 0}const s3=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function l3(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),s3.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function d3(t,n,e){const r=[];let i,o=0;for(const[a,f,c]of h3(t)){if(i===void 0&&(i=a),o>i&&e(t,i,f)>n&&(r.push(t.slice(i,o)+(t[o-1]===fp?"-":"")),i=a),c){r.push(t.slice(i,f)),i=void 0;continue}o=f}return r}function*h3(t){let n=0,e=0;const r=t.length;for(;e<r;){let i=1;switch(t[e]){case fp:case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];t[++e]===" ";);n=e;break;case"\r":t[e+1]===`
`&&++i;case`
`:yield[n,e,!0],e+=i,n=e;break;default:++e;break}}yield[n,e,!0]}const Ju={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function lc(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Be(t,i))r+=Ju[t[i]]??(hp(t,i)?120:Ju.e);return r}function dc(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Be(t,i))r+=hp(t,i)?126:63;return r}function sp({monospace:t,lineWidth:n,textOverflow:e}){if(e!=null||n==1/0)return o=>o.split(/\r\n?|\n/g);const r=t?dc:lc,i=n*100;return o=>d3(o,i,r)}function lp({monospace:t,lineWidth:n,textOverflow:e}){if(e==null||n==1/0)return o=>o;const r=t?dc:lc,i=n*100;switch(e){case"clip-start":return o=>ns(o,i,r,"");case"clip-end":return o=>ts(o,i,r,"");case"ellipsis-start":return o=>ns(o,i,r,Te);case"ellipsis-middle":return o=>p3(o,i,r,Te);case"ellipsis-end":return o=>ts(o,i,r,Te)}}const Te="";function qe(t,n,e,r){const i=[];let o=0;for(let a=0,f=0,c=t.length;a<c;a=f){f=Be(t,a);const s=e(t,a,f);if(o+s>n){for(o+=r;o>n&&a>0;)f=a,a=i.pop(),o-=e(t,a,f);return[a,n-o]}o+=s,i.push(a)}return[-1,0]}function ts(t,n,e,r){t=t.trim();const i=e(r),[o]=qe(t,n,e,i);return o<0?t:t.slice(0,o).trimEnd()+r}function p3(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r)/2,[a,f]=qe(t,n/2,e,o),[c]=qe(t,i-n/2-f+o,e,-o);return c<0?r:t.slice(0,a).trimEnd()+r+t.slice(Be(t,c)).trimStart()}function ns(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r),[a]=qe(t,i-n+o,e,-o);return a<0?r:r+t.slice(Be(t,a)).trimStart()}const df=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,es=new RegExp("\\p{Extended_Pictographic}","uy");function Be(t,n){return n+=g3(t,n)?2:1,b3(t,n)&&(n=df.lastIndex),m3(t,n)?Be(t,n+1):n}function dp(t,n){return t.charCodeAt(n)<128}function g3(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const r=t.charCodeAt(n+1);return r>=56320&&r<57344}return!1}function m3(t,n){return t.charCodeAt(n)===8205}function b3(t,n){return dp(t,n)?!1:(df.lastIndex=n,df.test(t))}function hp(t,n){return dp(t,n)?!1:(es.lastIndex=n,es.test(t))}const y3={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},pp=3.5,w3=pp*5,gp={draw(t,n,e){const r=n*e/w3;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},v3={draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}},x3=new Map([["arrow",gp],["spike",v3]]);function M3(t){return t&&typeof t.draw=="function"}function $3(t){if(M3(t))return t;const n=x3.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}class mp extends dn{constructor(n,e={}){const{x:r,y:i,r:o=pp,length:a,rotate:f,shape:c=gp,anchor:s="middle",frameAnchor:u}=e,[d,l]=Nt(a,12),[h,p]=Nt(f,0);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:h,optional:!0}},e,y3),this.r=+o,this.length=l,this.rotate=p,this.shape=$3(c),this.anchor=Jt(s,"anchor",["start","middle","end"]),this.frameAnchor=jf(u)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y:s,length:u,rotate:d}=r,{length:l,rotate:h,anchor:p,shape:g,r:m}=this,[w,y]=No(this,i);return St("svg:g",o).call(me,this,i,o).call(be,this,{x:c&&a,y:s&&f}).call(v=>v.selectAll().data(n).enter().append("path").call(Rn,this).attr("transform",ap`translate(${c?b=>c[b]:w},${s?b=>s[b]:y})${d?b=>` rotate(${d[b]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?u?b=>` translate(0,${u[b]})`:` translate(0,${l})`:u?b=>` translate(0,${u[b]/2})`:` translate(0,${l/2})`}`).attr("d",u?b=>{const $=Da();return g.draw($,u[b],m),$}:(()=>{const b=Da();return g.draw(b,l,m),b})()).call(fe,this,r)).node()}}function _3(t,n={}){const{x:e=Wt,...r}=n;return new mp(t,{...r,x:e})}function S3(t,n={}){const{y:e=Wt,...r}=n;return new mp(t,{...r,y:e})}function Un(t,n){return arguments.length<2&&!pe(t)&&(n=t,t=null),n===void 0&&(n={}),[t,n]}function ko({anchor:t}={},n){return t===void 0?n[0]:Jt(t,"anchor",n)}function bp(t){return ko(t,["left","right"])}function yp(t){return ko(t,["right","left"])}function wp(t){return ko(t,["bottom","top"])}function vp(t){return ko(t,["top","bottom"])}function xp(){const[t,n]=Un(...arguments);return $p("y",bp(n),t,n)}function T3(){const[t,n]=Un(...arguments);return $p("fy",yp(n),t,n)}function Mp(){const[t,n]=Un(...arguments);return _p("x",wp(n),t,n)}function A3(){const[t,n]=Un(...arguments);return _p("fx",vp(n),t,n)}function $p(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:c=r,fillOpacity:s=i,textAnchor:u,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="y"?6:0,tickPadding:g,tickRotate:m,x:w,margin:y,marginTop:v=y===void 0?20:y,marginRight:b=y===void 0?n==="right"?40:0:y,marginBottom:$=y===void 0?20:y,marginLeft:x=y===void 0?n==="left"?40:0:y,label:M,labelAnchor:S,labelArrow:T,labelOffset:L,ariaLabel:A=`${t}-axis`,...E}){return p=Mt(p),g=Mt(g),m=Mt(m),S!==void 0&&(S=Jt(S,"labelAnchor",["center","top","bottom"])),T=kp(T),Bh(p&&!Tt(o)?C3(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:g,tickRotate:m,x:w,ariaLabel:A,...E}):null,Tt(c)?null:N3(t,n,e,{fill:c,fillOpacity:s,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:u,tickSize:p,tickPadding:g,tickRotate:m,x:w,marginTop:v,marginRight:b,marginBottom:$,marginLeft:x,ariaLabel:A,...E}),!Tt(c)&&M!==null?Lo([],Cp({fill:c,fillOpacity:s,...E},function(O,D,_,I,W){const B=I[t],{marginTop:k,marginRight:R,marginBottom:U,marginLeft:z}=t==="y"&&W.inset||W,q=S??(B.bandwidth?"center":"top"),K=L??(n==="right"?R:z)-3;return q==="center"?(this.textAnchor=void 0,this.lineAnchor=n==="right"?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor=n==="right"?"end":"start",this.lineAnchor=q,this.frameAnchor=`${q}-${n}`,this.rotate=0),this.dy=q==="top"?3-k:q==="bottom"?U-3:0,this.dx=n==="right"?K:-K,this.ariaLabel=`${A} label`,{facets:[[0]],channels:{text:{value:[Lp(t,B,{anchor:n,label:M,labelAnchor:q,labelArrow:T})]}}}})):null)}function _p(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:c=r,fillOpacity:s=i,textAnchor:u,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="x"?6:0,tickPadding:g,tickRotate:m,y:w,margin:y,marginTop:v=y===void 0?n==="top"?30:0:y,marginRight:b=y===void 0?20:y,marginBottom:$=y===void 0?n==="bottom"?30:0:y,marginLeft:x=y===void 0?20:y,label:M,labelAnchor:S,labelArrow:T,labelOffset:L,ariaLabel:A=`${t}-axis`,...E}){return p=Mt(p),g=Mt(g),m=Mt(m),S!==void 0&&(S=Jt(S,"labelAnchor",["center","left","right"])),T=kp(T),Bh(p&&!Tt(o)?E3(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:g,tickRotate:m,y:w,ariaLabel:A,...E}):null,Tt(c)?null:L3(t,n,e,{fill:c,fillOpacity:s,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:u,tickSize:p,tickPadding:g,tickRotate:m,y:w,marginTop:v,marginRight:b,marginBottom:$,marginLeft:x,ariaLabel:A,...E}),!Tt(c)&&M!==null?Lo([],Cp({fill:c,fillOpacity:s,...E},function(O,D,_,I,W){const B=I[t],{marginTop:k,marginRight:R,marginBottom:U,marginLeft:z}=t==="x"&&W.inset||W,q=S??(B.bandwidth?"center":"right"),K=L??(n==="top"?k:U)-3;return q==="center"?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${q}`,this.textAnchor=q==="right"?"end":"start"),this.lineAnchor=n,this.dy=n==="top"?-K:K,this.dx=q==="right"?R-3:q==="left"?3-z:0,this.ariaLabel=`${A} label`,{facets:[[0]],channels:{text:{value:[Lp(t,B,{anchor:n,label:M,labelAnchor:q,labelArrow:T})]}}}})):null)}function C3(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+(t==="y"?"-empty":""),frameAnchor:f=n,tickSize:c,inset:s=0,insetLeft:u=s,insetRight:d=s,dx:l=0,y:h=t==="y"?void 0:null,ariaLabel:p,...g}){return We(S3,t,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:f,y:h,...g,dx:n==="left"?+l-Lt+ +u:+l+Lt-d,anchor:"start",length:c,shape:n==="left"?q3:U3})}function E3(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+(t==="x"?"-empty":""),frameAnchor:f=n,tickSize:c,inset:s=0,insetTop:u=s,insetBottom:d=s,dy:l=0,x:h=t==="x"?void 0:null,ariaLabel:p,...g}){return We(_3,t,e,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:f,x:h,...g,dy:n==="bottom"?+l-Lt-d:+l+Lt+ +u,anchor:"start",length:c,shape:n==="bottom"?O3:P3})}function N3(t,n,e,{facetAnchor:r=n+(t==="y"?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*Xh):0),text:c,textAnchor:s=Math.abs(a)>60?"middle":n==="left"?"end":"start",lineAnchor:u=a>60?"top":a<-60?"bottom":"middle",fontVariant:d,inset:l=0,insetLeft:h=l,insetRight:p=l,dx:g=0,ariaLabel:m,y:w=t==="y"?void 0:null,...y}){return We(c3,t,e,{ariaLabel:`${m} tick label`},{facetAnchor:r,frameAnchor:i,text:c,textAnchor:s,lineAnchor:u,fontVariant:d,rotate:a,y:w,...y,dx:n==="left"?+g-o-f+ +h:+g+ +o+ +f-p},function(v,b,$,x,M){d===void 0&&(this.fontVariant=Np(v)),c===void 0&&(M.text=Ep(v,b,$,x,n))})}function L3(t,n,e,{facetAnchor:r=n+(t==="x"?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*Xh):0),text:c,textAnchor:s=Math.abs(a)>=10?a<0^n==="bottom"?"start":"end":"middle",lineAnchor:u=Math.abs(a)>=10?"middle":n==="bottom"?"top":"bottom",fontVariant:d,inset:l=0,insetTop:h=l,insetBottom:p=l,dy:g=0,x:m=t==="x"?void 0:null,ariaLabel:w,...y}){return We(f3,t,e,{ariaLabel:`${w} tick label`},{facetAnchor:r,frameAnchor:i,text:c===void 0?null:c,textAnchor:s,lineAnchor:u,fontVariant:d,rotate:a,x:m,...y,dy:n==="bottom"?+g+ +o+ +f-p:+g-o-f+ +h},function(v,b,$,x,M){d===void 0&&(this.fontVariant=Np(v)),c===void 0&&(M.text=Ep(v,b,$,x,n))})}function k3(){const[t,n]=Un(...arguments);return Sp("y",bp(n),t,n)}function D3(){const[t,n]=Un(...arguments);return Sp("fy",yp(n),t,n)}function I3(){const[t,n]=Un(...arguments);return Tp("x",wp(n),t,n)}function R3(){const[t,n]=Un(...arguments);return Tp("fx",vp(n),t,n)}function Sp(t,n,e,{y:r=t==="y"?void 0:null,x:i=null,x1:o=n==="left"?i:null,x2:a=n==="right"?i:null,ariaLabel:f=`${t}-grid`,ariaHidden:c=!0,...s}){return We(i3,t,e,{ariaLabel:f,ariaHidden:c},{y:r,x1:o,x2:a,...Ap(s)})}function Tp(t,n,e,{x:r=t==="x"?void 0:null,y:i=null,y1:o=n==="top"?i:null,y2:a=n==="bottom"?i:null,ariaLabel:f=`${t}-grid`,ariaHidden:c=!0,...s}){return We(uc,t,e,{ariaLabel:f,ariaHidden:c},{x:r,y1:o,y2:a,...Ap(s)})}function Ap({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:r=n,strokeWidth:i=1,...o}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...o}}function Cp({fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:c,shapeRendering:s,clip:u=!1},d){return[,t]=ae(t),[,n]=Nt(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:c,shapeRendering:s,clip:u,initializer:d}}function We(t,n,e,r,i,o){let a;function f(u,d,l,h,p,g){const m=u==null&&(n==="fx"||n==="fy"),{[n]:w}=h;if(!w)throw new Error(`missing scale: ${n}`);const y=w.domain();let{interval:v,ticks:b,tickFormat:$,tickSpacing:x=n==="x"?80:35}=i;if(typeof b=="string"&&Dp(w)&&(v=b,b=void 0),b===void 0&&(b=Wr(v,w.type)??F3(w,x)),u==null){if(pe(b))u=de(b);else if(kw(b))u=la(b,...Dn(y));else if(w.interval){let S=w.interval;if(w.ticks){const[T,L]=Dn(y),A=(L-T)/S[Hr];S=$u(S,A/b)??S,u=la(S,T,L)}else{u=y;const T=u.length;S=$u(S,T/b)??S,S!==w.interval&&(u=la(S,...Dn(u)))}if(S===w.interval){const T=Math.round(u.length/b);T>1&&(u=u.filter((L,A)=>A%T===0))}}else w.ticks?u=w.ticks(b):u=y;if(!w.ticks&&u.length&&u!==y){const S=new ro(y);u=u.filter(T=>S.has(T)),u.length||Xn(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}n==="y"||n==="x"?d=[Pn(u)]:a[n]={scale:n,value:Wt}}o?.call(this,w,u,b,$,a);const M=Object.fromEntries(Object.entries(a).map(([S,T])=>[S,{...T,value:zt(u,T.value)}]));return m&&(d=g.filterFacets(u,M)),{data:u,facets:d,channels:M}}const c=to(i).initializer,s=t(e,to({...i,initializer:f},c));return e==null?(a=s.channels,s.channels={}):a={},r!==void 0&&Object.assign(s,r),s.clip===void 0&&(s.clip=!1),s}function F3(t,n){const[e,r]=Dn(t.range());return(r-e)/n}function Ep(t,n,e,r,i){return{value:hc(t,n,e,r,i)}}function hc(t,n,e,r,i){return typeof r=="function"&&!(t.type==="log"&&t.tickFormat)?r:r===void 0&&n&&Bt(n)?dw(t.type,n,i)??Ar:t.tickFormat?t.tickFormat(typeof e=="number"?e:null,r):typeof r=="string"&&t.domain().length>0?(Bt(t.domain())?zr:ze)(r):r===void 0?Ar:$n(r)}function la(t,n,e){return t.range(n,t.offset(t.floor(e)))}const O3={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},P3={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},q3={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},U3={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function Np(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function Lp(t,n,{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&Dp(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!n.bandwidth||n.interval)&&!/[]/.test(r)),!o)return r;if(o===!0){const a=Z8(n);a&&(o=/x$/.test(t)||i==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return` ${r}`;case"right":return`${r} `;case"up":return e==="right"?`${r} `:` ${r}`;case"down":return e==="right"?`${r} `:` ${r}`}return r}}function kp(t="auto"){return Tt(t)?!1:typeof t=="boolean"?t:Jt(t,"labelArrow",["auto","up","right","down","left"])}function Dp(t){return Bt(t.domain())}function rs(t,n){if(n==null)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function z3(t,{opacity:n,...e}={}){if(!ge(t)&&!qh(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return Ip(t,e,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",Nt(n)[1]).append("rect").attr("width","100%").attr("height","100%"))}function H3(t,{fill:n=t.hint?.fill!==void 0?t.hint.fill:"none",fillOpacity:e=1,stroke:r=t.hint?.stroke!==void 0?t.hint.stroke:Tt(n)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...f}={},c){const[s,u]=ae(n),[d,l]=ae(r),h=rs(c,s),p=rs(c,d),g=a*a*Math.PI;return e=Nt(e)[1],i=Nt(i)[1],o=Nt(o)[1],Ip(t,f,(m,w,y,v)=>m.append("svg").attr("viewBox","-8 -8 16 16").attr("width",y).attr("height",v).attr("fill",s==="color"?b=>h.scale(b):u).attr("fill-opacity",e).attr("stroke",d==="color"?b=>p.scale(b):l).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",b=>{const $=Da();return t.scale(b).draw($,g),$}))}function Ip(t,n={},e){let{columns:r,tickFormat:i,fontVariant:o=Gh(t),swatchSize:a=15,swatchWidth:f=a,swatchHeight:c=a,marginLeft:s=0,className:u,style:d,width:l}=n;const h=rc(n);u=oc(u),i=hc(t.scale,t.domain,void 0,i);const p=St("div",h).attr("class",`${u}-swatches ${u}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`:where(.${u}-swatches-columns .${u}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${u}-swatches-columns .${u}-swatch::before) {
  flex-shrink: 0;
}
:where(.${u}-swatches-columns .${u}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${u}-swatch`).call(e,t,f,c).call(m=>m.append("div").attr("class",`${u}-swatch-label`).attr("title",i).text(i))):(g=`:where(.${u}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${u}-swatches-wrap .${u}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${u}-swatch`).call(e,t,f,c).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(m=>m.insert("style","*").text(`:where(.${u}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${u}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",s?`${+s}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",yt(o,"normal")).call(ac,d).node()}const hf=new Map([["symbol",H3],["color",Fp],["opacity",W3]]);function B3(t,n,e={}){return(r,i)=>{if(!hf.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return hf.get(r)(t[r],Rp(n,e[r],i),o=>t[o])}}function Rp({className:t,...n},{label:e,ticks:r,tickFormat:i}={},o){return Uw(o,{className:t,...n},{label:e,ticks:r,tickFormat:i})}function Fp(t,{legend:n=!0,...e}){if(n===!0&&(n=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${n}`.toLowerCase()){case"swatches":return z3(t,e);case"ramp":return X5(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function W3({type:t,interpolate:n,...e},{legend:r=!0,color:i=In(0,0,0),...o}){if(!n)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return Fp({type:t,...e,interpolate:Y3(i)},{legend:r,...o})}function Y3(t){const{r:n,g:e,b:r}=In(t)||In(0,0,0);return i=>`rgba(${n},${e},${r},${i})`}function V3(t,n,e){const r=[];for(const[i,o]of hf){const a=e[i];if(a?.legend&&i in t){const f=o(t[i],Rp(n,t[i],a),c=>t[c]);f!=null&&r.push(f)}}return r}function G3(t={},n="x"){return fh(t)?t:{...t,[n]:Wt}}function X3(t,n){if(n.length===1)return{data:t,facets:n};const e=$r(t),r=new Uint8Array(e);let i=0;for(const f of n)for(const c of f)r[c]&&++i,r[c]=1;if(i===0)return{data:t,facets:n};t=xr(t);const o=t[th]=new Uint32Array(e+i);n=n.map(f=>xr(f,Uint32Array));let a=e;r.fill(0);for(const f of n)for(let c=0,s=f.length;c<s;++c){const u=f[c];r[u]?(f[c]=a,t[a]=t[u],o[a]=u,++a):o[u]=u,r[u]=1}return{data:t,facets:n}}function Z3(t={},n={}){arguments.length===1&&([t,n]=K3(t));const{y1:e,y:r=e,x:i,...o}=n,[a,f,c,s]=J3(r,i,"y","x",t,o);return{...a,y1:e,y:f,x1:c,x2:s,x:Cw(c,s)}}function j3({x:t,x1:n,x2:e,...r}={}){return r=fc(r,"y"),n===void 0&&e===void 0?Z3({x:t,...r}):([n,e]=_w(t,n,e),{...r,x1:n,x2:e})}function K3(t){const{offset:n,order:e,reverse:r,...i}=t;return[{offset:n,order:e,reverse:r},i]}const Q3={length:!0};function J3(t,n=bw,e,r,{offset:i,order:o,reverse:a},f){if(n===null)throw new Error(`stack requires ${r}`);const c=Sw(f),[s,u]=Aw(t),[d,l]=rf(n),[h,p]=rf(n);return d.hint=h.hint=Q3,i=t7(i),o=r7(o,i,r),[yh(f,(g,m,w)=>{({data:g,facets:m}=X3(g,m));const y=t==null?void 0:u(Ew(zt(g,t),w?.[e])),v=zt(g,n,Float64Array),b=zt(g,c),$=o&&o(g,y,v,b),x=$r(g),M=l(new Float64Array(x)),S=p(new Float64Array(x)),T=[];for(const L of m){const A=y?Array.from(Ss(L,E=>y[E]).values()):[L];if($)for(const E of A)E.sort($);for(const E of A){let O=0,D=0;a&&E.reverse();for(const _ of E){const I=v[_];I<0?O=S[_]=(M[_]=O)+I:I>0?D=S[_]=(M[_]=D)+I:S[_]=M[_]=D}}T.push(A)}return i&&i(T,M,S,b),{data:g,facets:m}}),s,d,h]}function t7(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return n7;case"center":case"silhouette":return e7;case"wiggle":return Pp}throw new Error(`unknown offset: ${t}`)}}function Op(t,n){let e=0,r=0;for(const i of t){const o=n[i];o<e&&(e=o),o>r&&(r=o)}return[e,r]}function n7(t,n,e){for(const r of t)for(const i of r){const[o,a]=Op(i,e);for(const f of i){const c=1/(a-o||1);n[f]=c*(n[f]-o),e[f]=c*(e[f]-o)}}}function e7(t,n,e){for(const r of t){for(const i of r){const[o,a]=Op(i,e);for(const f of i){const c=(a+o)/2;n[f]-=c,e[f]-=c}}qp(r,n,e)}Up(t,n,e)}function Pp(t,n,e,r){for(const i of t){const o=new jn;let a=0;for(const f of i){let c=-1;const s=f.map(h=>Math.abs(e[h]-n[h])),u=f.map(h=>{c=r?r[h]:++c;const p=e[h]-n[h],g=o.has(c)?p-o.get(c):0;return o.set(c,p),g}),d=[0,...d1(u)];for(const h of f)n[h]+=a,e[h]+=a;const l=Kn(s);l&&(a-=Kn(s,(h,p)=>(u[p]/2+d[p])*h)/l)}qp(i,n,e)}Up(t,n,e)}function qp(t,n,e){const r=Sn(t,i=>Sn(i,o=>n[o]));for(const i of t)for(const o of i)n[o]-=r,e[o]-=r}function Up(t,n,e){const r=t.length;if(r===1)return;const i=t.map(f=>f.flat()),o=i.map(f=>(Sn(f,c=>n[c])+Xt(f,c=>e[c]))/2),a=Sn(o);for(let f=0;f<r;f++){const c=a-o[f];for(const s of i[f])n[s]+=c,e[s]+=c}}function r7(t,n,e){if(t===void 0&&n===Pp)return is(cn);if(t!=null){if(typeof t=="string"){const r=t.startsWith("-"),i=r?Ji:cn;switch((r?t.slice(1):t).toLowerCase()){case"value":case e:return i7(i);case"z":return o7(i);case"sum":return a7(i);case"appearance":return f7(i);case"inside-out":return is(i)}return os(nh(t))}if(typeof t=="function")return(t.length===1?os:c7)(t);if(le(t))return u7(t);throw new Error(`invalid order: ${t}`)}}function i7(t){return(n,e,r)=>(i,o)=>t(r[i],r[o])}function o7(t){return(n,e,r,i)=>(o,a)=>t(i[o],i[a])}function a7(t){return Do(t,(n,e,r,i)=>mf(Pn(n),o=>Kn(o,a=>r[a]),o=>i[o]))}function f7(t){return Do(t,(n,e,r,i)=>mf(Pn(n),o=>e[Cs(o,a=>r[a])],o=>i[o]))}function is(t){return Do(t,(n,e,r,i)=>{const o=Pn(n),a=mf(o,d=>e[Cs(d,l=>r[l])],d=>i[d]),f=cr(o,d=>Kn(d,l=>r[l]),d=>i[d]),c=[],s=[];let u=0;for(const d of a)u<0?(u+=f.get(d),c.push(d)):(u-=f.get(d),s.push(d));return s.reverse().concat(c)})}function os(t){return n=>{const e=zt(n,t);return(r,i)=>cn(e[r],e[i])}}function c7(t){return n=>le(n)?(e,r)=>t(n[e],n[r]):(e,r)=>t(n.get(e),n.get(r))}function u7(t){return Do(cn,()=>t)}function Do(t,n){return(e,r,i,o)=>{if(!o)throw new Error("missing channel: z");const a=new jn(n(e,r,i,o).map((f,c)=>[f,c]));return(f,c)=>t(a.get(o[f]),a.get(o[c]))}}function zp(t,{inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={}){t.insetTop=Mt(e),t.insetRight=Mt(r),t.insetBottom=Mt(i),t.insetLeft=Mt(o)}function Hp(t,{r:n,rx:e,ry:r,rx1:i=n,ry1:o=n,rx2:a=n,ry2:f=n,rx1y1:c=i!==void 0?+i:o!==void 0?+o:0,rx1y2:s=i!==void 0?+i:f!==void 0?+f:0,rx2y1:u=a!==void 0?+a:o!==void 0?+o:0,rx2y2:d=a!==void 0?+a:f!==void 0?+f:0}={}){c||s||u||d?(t.rx1y1=c,t.rx1y2=s,t.rx2y1=u,t.rx2y2=d):(t.rx=yt(e,"auto"),t.ry=yt(r,"auto"))}function Bp(t,n,e,r,i,o){const{rx1y1:a,rx1y2:f,rx2y1:c,rx2y2:s}=o;typeof n!="function"&&(n=$n(n)),typeof e!="function"&&(e=$n(e)),typeof r!="function"&&(r=$n(r)),typeof i!="function"&&(i=$n(i));const u=Math.max(Math.abs(a+c),Math.abs(f+s)),d=Math.max(Math.abs(a+f),Math.abs(c+s));t.attr("d",l=>{const h=n(l),p=e(l),g=r(l),m=i(l),w=h>g,y=p>m,v=w?g:h,b=w?h:g,$=y?m:p,x=y?p:m,M=Math.min(1,(b-v)/u,(x-$)/d),S=M*(w?y?s:c:y?f:a),T=M*(w?y?f:a:y?s:c),L=M*(w?y?a:f:y?c:s),A=M*(w?y?c:s:y?a:f);return`M${v},${$+di(S,A)}A${S},${S} 0 0 ${S<0?0:1} ${v+li(S,A)},${$}H${b-li(T,L)}A${T},${T} 0 0 ${T<0?0:1} ${b},${$+di(T,L)}V${x-di(L,T)}A${L},${L} 0 0 ${L<0?0:1} ${b-li(L,T)},${x}H${v+li(A,S)}A${A},${A} 0 0 ${A<0?0:1} ${v},${x-di(A,S)}Z`})}function li(t,n){return n<0?t:Math.abs(t)}function di(t,n){return n<0?Math.abs(t):t}const s7={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},l7={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class d7 extends dn{constructor(n={}){const{anchor:e=null}=n;super(xi,void 0,n,e==null?s7:l7),this.anchor=oh(e,"anchor",["top","right","bottom","left"]),zp(this,n),e||Hp(this,n)}render(n,e,r,i,o){const{marginTop:a,marginRight:f,marginBottom:c,marginLeft:s,width:u,height:d}=i,{anchor:l,insetTop:h,insetRight:p,insetBottom:g,insetLeft:m}=this,{rx:w,ry:y,rx1y1:v,rx1y2:b,rx2y1:$,rx2y2:x}=this,M=s+m,S=u-f-p,T=a+h,L=d-c-g;return St(l?"svg:line":v||b||$||x?"svg:path":"svg:rect",o).datum(0).call(me,this,i,o).call(Rn,this).call(fe,this,r).call(be,this,{}).call(l==="left"?A=>A.attr("x1",M).attr("x2",M).attr("y1",T).attr("y2",L):l==="right"?A=>A.attr("x1",S).attr("x2",S).attr("y1",T).attr("y2",L):l==="top"?A=>A.attr("x1",M).attr("x2",S).attr("y1",T).attr("y2",T):l==="bottom"?A=>A.attr("x1",M).attr("x2",S).attr("y1",L).attr("y2",L):v||b||$||x?A=>A.call(Bp,M,T,S,L,this):A=>A.attr("x",M).attr("y",T).attr("width",S-M).attr("height",L-T).attr("rx",w).attr("ry",y)).node()}}function h7(t){return new d7(t)}const da={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},p7=new Set(["geometry","href","src","ariaLabel","scales"]);class g7 extends dn{constructor(n,e={}){e.tip&&(e={...e,tip:!1}),e.title===void 0&&pe(n)&&sh(n)&&(e={...e,title:Wt});const{x:r,y:i,x1:o,x2:a,y1:f,y2:c,anchor:s,preferredAnchor:u="bottom",monospace:d,fontFamily:l=d?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:p,fontVariant:g,fontWeight:m,lineHeight:w=1,lineWidth:y=20,frameAnchor:v,format:b,textAnchor:$="start",textOverflow:x,textPadding:M=8,title:S,pointerSize:T=12,pathFilter:L="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(n,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&c!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:f,scale:"y",optional:c==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:c,scale:"y",optional:f==null},title:{value:S,optional:!0}},e,da),this.anchor=of(s,"anchor"),this.preferredAnchor=of(u,"preferredAnchor"),this.frameAnchor=jf(v),this.textAnchor=yt($,"middle"),this.textPadding=+M,this.pointerSize=+T,this.pathFilter=vt(L),this.lineHeight=+w,this.lineWidth=+y,this.textOverflow=cp(x),this.monospace=!!d,this.fontFamily=vt(l),this.fontSize=Mt(h),this.fontStyle=vt(p),this.fontVariant=vt(g),this.fontWeight=vt(m);for(const A in da)A in this.channels&&(this[A]=da[A]);this.splitLines=sp(this),this.clipLine=lp(this),this.format=typeof b=="string"||typeof b=="function"?{title:b}:{...b}}render(n,e,r,i,o){const a=this,{x:f,y:c,fx:s,fy:u}=e,{ownerSVGElement:d,document:l}=o,{anchor:h,monospace:p,lineHeight:g,lineWidth:m}=this,{textPadding:w,pointerSize:y,pathFilter:v}=this,{marginTop:b,marginLeft:$}=i,{x1:x,y1:M,x2:S,y2:T,x:L=x??S,y:A=M??T}=r,E=s?s(n.fx)-$:0,O=u?u(n.fy)-b:0,[D,_]=No(this,i),I=Yh(r,D),W=Vh(r,_),B=p?dc:lc,k=B(Te);let R,U;"title"in r?(R=as.call(this,{title:r.channels.title},e),U=v7):(R=as.call(this,r.channels,e),U=x7);const z=St("svg:g",o).call(me,this,i,o).call(up,this).call(be,this,{x:L&&f,y:A&&c}).call(J=>J.selectAll().data(n).enter().append("g").attr("transform",tt=>`translate(${Math.round(I(tt))},${Math.round(W(tt))})`).call(Rn,this).call(tt=>tt.append("path").attr("filter",v)).call(tt=>tt.append("text").each(function(P){const et=Wn(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const N=U.call(a,P,n,R,e,r);if(typeof N=="string")for(const F of a.splitLines(N))q(et,{value:a.clipLine(F)});else{const F=new Set;for(const H of N){const{label:C=""}=H;C&&F.has(C)||(F.add(C),q(et,H))}}})));function q(J,{label:tt,value:P,color:et,opacity:N}){tt??="",P??="";const F=et!=null||N!=null;let H,C=m*100;const[ot]=qe(tt,C,B,k);if(ot>=0)tt=tt.slice(0,ot).trimEnd()+Te,H=P.trim(),P="";else{(tt||!P&&!F)&&(P=" "+P);const[ft]=qe(P,C-B(tt),B,k);ft>=0&&(H=P.trim(),P=P.slice(0,ft).trimEnd()+Te)}const Y=J.append("tspan").attr("x",0).attr("dy",`${g}em`).text("");tt&&Y.append("tspan").attr("font-weight","bold").text(tt),P&&Y.append(()=>l.createTextNode(P)),F&&Y.append("tspan").text(" ").attr("fill",et).attr("fill-opacity",N).style("user-select","none"),H&&Y.append("title").text(H)}function K(){const{width:J,height:tt}=i.facet??i;z.selectChildren().each(function(P){let{x:et,width:N,height:F}=this.getBBox();N=Math.round(N),F=Math.round(F);let H=h;if(H===void 0){const Y=I(P)+E,ft=W(P)+O,lt=Y+N+y+w*2<J,Et=Y-N-y-w*2>0,ye=ft+F+y+w*2<tt,Ye=ft-F-y-w*2>0;H=lt&&Et?ye&&Ye?a.preferredAnchor:Ye?"bottom":"top":ye&&Ye?lt?"left":"right":(lt||Et)&&(ye||Ye)?`${Ye?"bottom":"top"}-${lt?"left":"right"}`:a.preferredAnchor}const C=this.firstChild,ot=this.lastChild;if(C.setAttribute("d",w7(H,y,w,N,F)),et)for(const Y of ot.childNodes)Y.setAttribute("x",-et);ot.setAttribute("y",`${+b7(H,ot.childNodes.length,g).toFixed(6)}em`),ot.setAttribute("transform",`translate(${y7(H,y,w,N,F)})`)}),z.attr("visibility",null)}return n.length&&(z.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(K):typeof requestAnimationFrame<"u"&&requestAnimationFrame(K)),z.node()}}function m7(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=ch(n,e)),new g7(t,{...r,x:n,y:e})}function b7(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}function y7(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}function w7(t,n,e,r,i){const o=r+e*2,a=i+e*2;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${n},${n}h${o-n}v${a}h${-o}z`;case"top":return`M0,0l${n/2},${n/2}h${(o-n)/2}v${a}h${-o}v${-a}h${(o-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-o}v${a}h${o}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-a/2}h${-o}v${a}h${o}v${n/2-a/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${o-n}v${-a}h${-o}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(o-n)/2}v${-a}h${-o}v${a}h${(o-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-o}v${-a}h${o}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-a/2}h${o}v${a}h${-o}v${n/2-a/2}z`}}function as(t,n){const e={};let r=this.format;r=fs(r,t,"x"),r=fs(r,t,"y"),this.format=r;for(const i in r){const o=r[i];if(!(o===null||o===!1))if(i==="fx"||i==="fy")e[i]=!0;else{const a=Du(t,i);a&&(e[i]=a)}}for(const i in t){if(i in e||i in r||p7.has(i)||(i==="x"||i==="y")&&t.geometry)continue;const o=Du(t,i);if(o){if(o.scale==null&&o.defaultScale==="color")continue;e[i]=o}}this.facet&&(n.fx&&!("fx"in r)&&(e.fx=!0),n.fy&&!("fy"in r)&&(e.fy=!0));for(const i in e){const o=this.format[i];if(typeof o=="string"){const a=e[i]?.value??n[i]?.domain()??[];this.format[i]=(Bt(a)?zr:ze)(o)}else if(o===void 0||o===!0){const a=n[i];this.format[i]=a?.bandwidth?hc(a,a.domain()):Ar}}return e}function fs(t,n,e){if(!(e in t))return t;const r=`${e}1`,i=`${e}2`;if((r in t||!(r in n))&&(i in t||!(i in n)))return t;const o=Object.entries(t),a=t[e];return o.splice(o.findIndex(([f])=>f===e)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function v7(t,n,{title:e}){return this.format.title(e.value[t],t)}function*x7(t,n,e,r,i){for(const o in e){if(o==="fx"||o==="fy"){yield{label:no(r,e,o),value:this.format[o](n[o],t)};continue}if(o==="x1"&&"x2"in e||o==="y1"&&"y2"in e)continue;const a=e[o];if(o==="x2"&&"x1"in e)yield{label:us(r,e,"x"),value:cs(this.format.x2,e.x1,a,t)};else if(o==="y2"&&"y1"in e)yield{label:us(r,e,"y"),value:cs(this.format.y2,e.y1,a,t)};else{const f=a.value[t],c=a.scale;if(!oe(f)&&c==null)continue;yield{label:no(r,e,o),value:this.format[o](f,t),color:c==="color"?i[o][t]:null,opacity:c==="opacity"?i[o][t]:null}}}}function cs(t,n,e,r){return e.hint?.length?`${t(e.value[r]-n.value[r],r)}`:`${t(n.value[r],r)}${t(e.value[r],r)}`}function us(t,n,e){const r=no(t,n,`${e}1`,e),i=no(t,n,`${e}2`,e);return r===i?r:`${r}${i}`}function no(t,n,e,r=e){const i=n[e],o=t[i?.scale??e];return String(o?.label??i?.label??r)}function pc(t={}){const{facet:n,style:e,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:f}=t,c=oc(t.className),s=t.marks===void 0?[]:ls(t.marks);s.push(...C7(s));const u=T7(n,t),d=new Map;for(const k of s){const R=ds(k,u,t);R&&d.set(k,R)}const l=new Map;u&&Qe(l,[u],t),Qe(l,d,t);const h=ls(E7(s,l,t));for(const k of h){const R=ds(k,u,t);R&&d.set(k,R)}s.unshift(...h);let p=r5(l,t);if(p!==void 0){const k=u?fa(p,u):void 0;for(const U of s){if(U.facet===null||U.facet==="super")continue;const z=d.get(U);z!==void 0&&(z.facetsIndex=U.fx!=null||U.fy!=null?fa(p,z):k)}const R=new Set;for(const{facetsIndex:U}of d.values())U?.forEach((z,q)=>{z?.length>0&&R.add(q)});p.forEach(0<R.size&&R.size<p.length?(U,z)=>U.empty=!R.has(z):U=>U.empty=!1);for(const U of s)if(U.facet==="exclude"){const z=d.get(U);z!==void 0&&(z.facetsIndex=a5(z.facetsIndex))}}for(const k of st.keys())ef(t[k])&&k!=="fx"&&k!=="fy"&&l.set(k,[]);const g=new Map;for(const k of s){if(g.has(k))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:R,channels:U}=d.get(k)??{},{data:z,facets:q,channels:K}=k.initialize(R,U,t);gc(K,t),g.set(k,{data:z,facets:q,channels:K})}const m=uf(Qe(l,g,t),t),w=W5(m,s,t);G8(m,w);const y=zu(m),{fx:v,fy:b}=y,$=v||b?Fh(m,w):w,x=v||b?F7(y,w):w,M=rc(t),S=M.document,T=oo("svg").call(S.documentElement);let L=T;M.ownerSVGElement=T,M.className=c,M.projection=g5(t,$),M.path=function(){return Nf(this.projection??M5(y))},M.filterFacets=(k,R)=>fa(p,{channels:R,groups:ec(k,R)}),M.getMarkState=k=>{const R=g.get(k),U=d.get(k);return{...R,channels:{...R.channels,...U?.channels}}},M.dispatchValue=k=>{L.value!==k&&(L.value=k,L.dispatchEvent(new M.document.defaultView.Event("input",{bubbles:!0})))};const A=new Set;for(const[k,R]of g)if(k.initializer!=null){const U=k.facet==="super"?x:$,z=k.initializer(R.data,R.facets,R.channels,y,U,M);if(z.data!==void 0&&(R.data=z.data),z.facets!==void 0&&(R.facets=z.facets),z.channels!==void 0){const{fx:q,fy:K,...J}=z.channels;S7(J),Object.assign(R.channels,J);for(const tt of Object.values(J)){const{scale:P}=tt;P!=null&&!Bw(st.get(P))&&(Wp(tt,t),A.add(P))}(q!=null||K!=null)&&d.set(k,!0)}}if(A.size){const k=new Map;Qe(k,g,t,q=>A.has(q)),Qe(l,g,t,q=>A.has(q));const R=R7(uf(k,t),m),{scales:U,...z}=zu(R);Object.assign(m,R),Object.assign(y,z),Object.assign(y.scales,U)}let E,O;p!==void 0&&(E={x:v?.domain(),y:b?.domain()},p=i5(p,E),O=o5(v,b,w));for(const[k,R]of g)R.values=k.scale(R.channels,y,M);const{width:D,height:_}=w;Wn(T).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",D).attr("height",_).attr("viewBox",`0 0 ${D} ${_}`).attr("aria-label",a).attr("aria-description",f).call(k=>k.append("style").text(`:where(.${c}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${c} text),
:where(.${c} tspan) {
  white-space: pre;
}`)).call(ac,e);for(const k of s){const{channels:R,values:U,facets:z}=g.get(k);if(p===void 0||k.facet==="super"){let q=null;if(z&&(q=z[0],q=k.filter(q,R,U),q.length===0))continue;const K=k.render(q,y,U,x,M);if(K==null)continue;T.appendChild(K)}else{let q;for(const K of p){if(!(k.facetAnchor?.(p,E,K)??!K.empty))continue;let J=null;if(z){const P=d.has(k);if(J=z[P?K.i:0],J=k.filter(J,R,U),J.length===0)continue;!P&&J===z[0]&&(J=Tw(J)),J.fx=K.x,J.fy=K.y,J.fi=K.i}const tt=k.render(J,y,U,$,M);if(tt!=null){(q??=Wn(T).append("g")).append(()=>tt).datum(K);for(const P of["aria-label","aria-description","aria-hidden","transform"])tt.hasAttribute(P)&&(q.attr(P,tt.getAttribute(P)),tt.removeAttribute(P))}}q?.selectChildren().each(O)}}const I=V3(m,M,t),{figure:W=r!=null||i!=null||o!=null||I.length>0}=t;W&&(L=S.createElement("figure"),L.className=`${c}-figure`,L.style.maxWidth="initial",r!=null&&L.append(ss(S,r,"h2")),i!=null&&L.append(ss(S,i,"h3")),L.append(...I,T),o!=null&&L.append(M7(S,o)),"value"in T&&(L.value=T.value,delete T.value)),L.scale=n5(y.scales),L.legend=B3(m,M,t);const B=N8();return B>0&&Wn(T).append("text").attr("x",D).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${B.toLocaleString("en-US")} warning${B===1?"":"s"}. Please check the console.`),L}function ss(t,n,e){if(n.ownerDocument)return n;const r=t.createElement(e);return r.append(n),r}function M7(t,n){const e=t.createElement("figcaption");return e.append(n),e}function ls(t){return t.flat(1/0).filter(n=>n!=null).map($7)}function $7(t){return typeof t.render=="function"?t:new _7(t)}class _7 extends dn{constructor(n){if(typeof n!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=n}render(){}}function gc(t,n){for(const e in t)Wp(t[e],n);return t}function Wp(t,n){const{scale:e,transform:r=!0}=t;if(e==null||!r)return;const{type:i,percent:o,interval:a,transform:f=o?c=>c==null?NaN:c*100:uh(a,i)}=n[e]??{};f!=null&&(t.value=dt(t.value,f),t.transform=!1)}function S7(t){for(const n in t)Mh(n,t[n])}function Qe(t,n,e,r=yw){for(const{channels:i}of n.values())for(const o in i){const a=i[o],{scale:f}=a;if(f!=null&&r(f))if(f==="projection"){if(!w5(e)){const c=e.x?.domain===void 0,s=e.y?.domain===void 0;if(c||s){const[u,d]=x5(a);c&&ha(t,"x",u),s&&ha(t,"y",d)}}}else ha(t,f,a)}return t}function ha(t,n,e){const r=t.get(n);r!==void 0?r.push(e):t.set(n,[e])}function T7(t,n){if(t==null)return;const{x:e,y:r}=t;if(e==null&&r==null)return;const i=Oe(t.data);if(i==null)throw new Error("missing facet data");const o={};e!=null&&(o.fx=Sr(i,{value:e,scale:"fx"})),r!=null&&(o.fy=Sr(i,{value:r,scale:"fy"})),gc(o,n);const a=ec(i,o);return{channels:o,groups:a,data:t.data}}function ds(t,n,e){if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const c=Oe(t.data??r??i);if(c===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(c===null)return;const s={};return r!=null&&(s.fx=Sr(c,{value:r,scale:"fx"})),i!=null&&(s.fy=Sr(c,{value:i,scale:"fy"})),gc(s,e),{channels:s,groups:ec(c,s)}}if(n===void 0)return;const{channels:o,groups:a,data:f}=n;if(t.facet!=="auto"||t.data===f)return{channels:o,groups:a};f.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&$r(Oe(t.data))===$r(f)&&Xn(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function A7(t,n={}){return to({...n,x:null,y:null},(e,r,i,o,a,f)=>f.getMarkState(t))}function C7(t){const n=[];for(const e of t){let r=e.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:o}=r;i=/^x$/i.test(i)?G5:/^y$/i.test(i)?ju:V5,r=i(A7(e,r)),r.title=null,o===void 0&&(r.preferredAnchor=i===ju?"left":"bottom");const a=m7(e.data,r);a.facet=e.facet,a.facetAnchor=e.facetAnchor,n.push(a)}}return n}function E7(t,n,e){let{projection:r,x:i={},y:o={},fx:a={},fy:f={},axis:c,grid:s,facet:u={},facet:{axis:d=c,grid:l}=u,x:{axis:h=c,grid:p=h===null?null:s}=i,y:{axis:g=c,grid:m=g===null?null:s}=o,fx:{axis:w=d,grid:y=w===null?null:l}=a,fy:{axis:v=d,grid:b=v===null?null:l}=f}=e;(r||!ef(i)&&!hs("x",t))&&(h=p=null),(r||!ef(o)&&!hs("y",t))&&(g=m=null),n.has("fx")||(w=y=null),n.has("fy")||(v=b=null),h===void 0&&(h=!gi(t,"x")),g===void 0&&(g=!gi(t,"y")),w===void 0&&(w=!gi(t,"fx")),v===void 0&&(v=!gi(t,"fy")),h===!0&&(h="bottom"),g===!0&&(g="left"),w===!0&&(w=h==="top"||h===null?"bottom":"top"),v===!0&&(v=g==="right"||g===null?"left":"right");const $=[];return pi($,b,D3,f),hi($,v,T3,"right","left",u,f),pi($,y,R3,a),hi($,w,A3,"top","bottom",u,a),pi($,m,k3,o),hi($,g,xp,"left","right",e,o),pi($,p,I3,i),hi($,h,Mp,"bottom","top",e,i),$}function hi(t,n,e,r,i,o,a){if(!n)return;const f=N7(n);a=L7(f?r:n,o,a);const{line:c}=a;(e===xp||e===Mp)&&c&&!_r(c)&&t.push(h7(k7(a))),t.push(e(a)),f&&t.push(e({...a,anchor:i,label:null}))}function pi(t,n,e,r){!n||_r(n)||t.push(e(D7(n,r)))}function N7(t){return/^\s*both\s*$/i.test(t)}function L7(t,n,{line:e=n.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:c,fontVariant:s,ariaLabel:u,ariaDescription:d,label:l=n.label,labelAnchor:h,labelArrow:p=n.labelArrow,labelOffset:g}){return{anchor:t,line:e,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:c,fontVariant:s,ariaLabel:u,ariaDescription:d,label:l,labelAnchor:h,labelArrow:p,labelOffset:g}}function k7(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:e===!0?void 0:e}}function D7(t,{stroke:n=So(t)?t:void 0,ticks:e=I7(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:n,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function I7(t){switch(typeof t){case"number":return!0;case"string":return!So(t)}return pe(t)||typeof t?.range=="function"}function gi(t,n){const e=`${n}-axis `;return t.some(r=>r.ariaLabel?.startsWith(e))}function hs(t,n){for(const e of n)for(const r in e.channels){const{scale:i}=e.channels[r];if(i===t||i==="projection")return!0}return!1}function R7(t,n){for(const e in t){const r=t[e],i=n[e];r.label===void 0&&i&&(r.label=i.label)}return t}function F7({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:c}=nc(e),s=t&&ps(t),u=n&&ps(n);return{marginTop:n?u[0]:r,marginRight:t?f-s[1]:i,marginBottom:n?c-u[1]:o,marginLeft:t?s[0]:a,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:f,height:c}}function ps(t){const n=t.domain();if(n.length===0)return[0,t.bandwidth()];let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}const O7={ariaLabel:"bar"};class P7 extends dn{constructor(n,e,r={},i=O7){super(n,e,r,i),zp(this,r),Hp(this,r)}render(n,e,r,i,o){const{rx:a,ry:f,rx1y1:c,rx1y2:s,rx2y1:u,rx2y2:d}=this,l=this._x(e,r,i),h=this._y(e,r,i),p=this._width(e,r,i),g=this._height(e,r,i);return St("svg:g",o).call(me,this,i,o).call(this._transform,this,e).call(m=>m.selectAll().data(n).enter().call(c||s||u||d?w=>w.append("path").call(Rn,this).call(Bp,l,h,gs(l,p),gs(h,g),this).call(fe,this,r):w=>w.append("rect").call(Rn,this).attr("x",l).attr("width",p).attr("y",h).attr("height",g).call(Q,"rx",a).call(Q,"ry",f).call(fe,this,r))).node()}_x(n,{x:e},{marginLeft:r}){const{insetLeft:i}=this;return e?o=>e[o]+i:r+i}_y(n,{y:e},{marginTop:r}){const{insetTop:i}=this;return e?o=>e[o]+i:r+i}_width({x:n},{x:e},{marginRight:r,marginLeft:i,width:o}){const{insetLeft:a,insetRight:f}=this,c=e&&n?n.bandwidth():o-r-i;return Math.max(0,c-a-f)}_height({y:n},{y:e},{marginTop:r,marginBottom:i,height:o}){const{insetTop:a,insetBottom:f}=this,c=e&&n?n.bandwidth():o-r-i;return Math.max(0,c-a-f)}}function gs(t,n){return typeof t=="function"&&typeof n=="function"?e=>t(e)+n(e):typeof t=="function"?e=>t(e)+n:typeof n=="function"?e=>t+n(e):t+n}class q7 extends P7{constructor(n,e={},r){const{x1:i,x2:o,y:a}=e;super(n,{x1:{value:i,scale:"x"},x2:{value:o,scale:"x"},y:{value:a,scale:"y",type:"band",optional:!0}},e,r)}_transform(n,e,{x:r}){n.call(be,e,{x:r},0,0)}_x({x:n},{x1:e,x2:r},{marginLeft:i}){const{insetLeft:o}=this;return Pe(n)?i+o:a=>Math.min(e[a],r[a])+o}_width({x:n},{x1:e,x2:r},{marginRight:i,marginLeft:o,width:a}){const{insetLeft:f,insetRight:c}=this;return Pe(n)?a-i-o-f-c:s=>Math.max(0,Math.abs(r[s]-e[s])-f-c)}}function Yp(t,n={}){return $w(n)||(n={...n,y:eh,x2:Wt}),new q7(t,j3(rp(G3(n))))}dn.prototype.plot=function({marks:t=[],...n}={}){return pc({...n,marks:[...t,this]})};const U7="#4878A8",z7="#C5D3E0",H7="#666",B7="#bbb",Vp=10,ms=40;function Gp(t){return t.n<Vp?z7:U7}function Xp(t){return t.n<Vp?B7:H7}function W7(t){return t=String(t),t.length<=ms?t:t.slice(0,ms-1).trimEnd()+""}function Zp(t,n,e){const r={};for(const f of t)r[f]=W7(f);const i=t.map(f=>r[f]);for(const f of n){const c=f[e];c in r?(f.fullLabel=c,f[e]=r[c]):f.fullLabel=c}const o=Math.max(...i.map(f=>f.length)),a=Math.min(300,Math.max(100,o*6.5+12));return{shortLabels:i,marginLeft:a}}function jp(t){return t.style.maxWidth="none",t}function Kp(t,n,e){if(t.length===0)return document.createElement("div");const{shortLabels:r,marginLeft:i}=Zp(n,t,"answer"),o=e.length===1,a=o?Math.max(500,i+250):Math.max(250,i+180),f=Math.max(120,r.length*28+50),c=document.createElement("div");c.className="chart-facets";for(const s of e){const u=t.filter(l=>l.group===s),d=document.createElement("div");if(d.className="chart-facet-panel",!o){const l=document.createElement("div");l.className="facet-title",l.textContent=s,d.appendChild(l)}d.appendChild(jp(pc({marginLeft:i,marginRight:30,width:a,height:f,x:{domain:[0,100],label:"%",tickFormat:l=>`${l}`},y:{domain:r,label:null},marks:[Yp(u,{y:"answer",x:"pct",fill:Gp,tip:{format:{x:!1,y:!1,fill:!1},channels:{Group:"fullGroup",Value:"fullLabel","%":l=>`${l.pct}%`,Count:"count",n:"n"}}}),Lo(u,{y:"answer",x:"pct",text:l=>l.count>0?`${l.count}`:"",dx:4,textAnchor:"start",fontSize:10,fill:Xp}),uc([0])]}))),c.appendChild(d)}return c}function Y7(t,n,e){if(t.length===0)return document.createElement("div");const{shortLabels:r,marginLeft:i}=Zp(n,t,"option"),o=e.length===1,a=o?Math.max(500,i+250):Math.max(250,i+180),f=Math.max(120,r.length*28+50),c=document.createElement("div");c.className="chart-facets";for(const s of e){const u=t.filter(l=>l.group===s),d=document.createElement("div");if(d.className="chart-facet-panel",!o){const l=document.createElement("div");l.className="facet-title",l.textContent=s,d.appendChild(l)}d.appendChild(jp(pc({marginLeft:i,marginRight:30,width:a,height:f,x:{domain:[0,100],label:"%",tickFormat:l=>`${l}`},y:{domain:r,label:null},marks:[Yp(u,{y:"option",x:"pct",fill:Gp,tip:{format:{x:!1,y:!1,fill:!1},channels:{Group:"fullGroup",Value:"fullLabel","%":l=>`${l.pct}%`,Count:"count",n:"n"}}}),Lo(u,{y:"option",x:"pct",text:l=>l.count>0?`${l.count}`:"",dx:4,textAnchor:"start",fontSize:10,fill:Xp}),uc([0])]}))),c.appendChild(d)}return c}let _t=null,_n="_none";async function V7(){_t=await(await fetch("survey_data.json")).json();const e=new URLSearchParams(window.location.search).get("groupby");if(e&&_t.questions[e]&&(_n=e),X7(),t1(),window.location.hash){const r=document.getElementById(window.location.hash.slice(1));r&&setTimeout(()=>r.scrollIntoView({behavior:"smooth"}),100)}Jp()}function G7(t,n){return t.length>n?t.slice(0,n-1)+"":t}function X7(){const t=document.getElementById("groupby-select");t.innerHTML="";const n=document.createElement("option");n.value="_none",n.textContent="(No grouping  all respondents)",_n==="_none"&&(n.selected=!0),t.appendChild(n);for(const e of _t.groupableQuestions){const r=_t.questions[e];if(!r)continue;const i=document.createElement("option");i.value=e;const o=r.type==="multiselect"?" (multiselect groups)":r.type==="matrix_item"?" (matrix)":"";i.textContent=`${e}: ${G7(r.label,70)}${o}`,e===_n&&(i.selected=!0),t.appendChild(i)}t.addEventListener("change",e=>{_n=e.target.value,Qp(),bs(),t1()}),bs()}function bs(){const t=document.getElementById("groupby-description");if(_n==="_none"){t.textContent="Showing overall distributions (no grouping)";return}const n=_t.questions[_n];if(!n){t.textContent="";return}n.matrixStem?t.textContent=`${n.matrixStem} [${n.shortLabel||n.label}]`:t.textContent=n.label}function Qp(t){const n=new URL(window.location.href);n.searchParams.set("groupby",_n),t!==void 0&&(n.hash=t),history.replaceState(null,"",n)}let pa=null;function Jp(){const t=new IntersectionObserver(n=>{for(const e of n)e.isIntersecting&&(pa&&clearTimeout(pa),pa=setTimeout(()=>{Qp(e.target.id)},150))},{rootMargin:"-20% 0px -70% 0px"});document.querySelectorAll(".chart-section").forEach(n=>{t.observe(n)})}function ys(t,n=35){return t.length>n?t.slice(0,n-1).trimEnd()+"":t}function t1(){const t=document.getElementById("charts-container");t.innerHTML="";const n=n1(_t,_n);if(n.groupLabels.length===0){t.innerHTML="<p>No groups found for this variable.</p>";return}const e=n.groupLabels.map(a=>ys(a)),r={};n.groupLabels.forEach((a,f)=>{r[a]=e[f]}),{...n};const o=r1(_t,n).map(a=>`${ys(a.label,25)}: n=${a.n}`).join("  |  ");for(const a of _t.displayItems){if(a.id===_n)continue;const f=document.createElement("section");f.className="chart-section",f.id=a.id,a.type==="single"?Z7(f,a,n,r,e,o):a.type==="multiselect"?j7(f,a,n,r,e,o):a.type==="matrix"&&K7(f,a,n,r,e,o),t.appendChild(f)}Jp()}function mc(t,n){for(const e of t)e.group in n?(e.fullGroup=e.group,e.group=n[e.group]):e.fullGroup=e.group;return t}function Z7(t,n,e,r,i,o){const a=_t.questions[n.id];if(!a)return;const f=document.createElement("h2");f.textContent=`${n.id}. ${a.label}`,t.appendChild(f);const c=document.createElement("div");c.className="sample-sizes",c.textContent=o,t.appendChild(c);const s=mc(ws(_t,n.id,e),r);if(s.length===0){t.innerHTML+="<p><em>No data</em></p>";return}const u=document.createElement("figure");u.appendChild(Kp(s,a.scaleOrder,i)),t.appendChild(u)}function j7(t,n,e,r,i,o){const a=_t.questions[n.id];if(!a)return;const f=document.createElement("h2");f.textContent=`${n.id}. ${a.label}`,t.appendChild(f);const c=document.createElement("div");c.className="sample-sizes",c.textContent=o,t.appendChild(c);const s=n.items.map(l=>_t.questions[l].label),u=mc(e1(_t,n.items,e),r);if(u.length===0){t.innerHTML+="<p><em>No data</em></p>";return}const d=document.createElement("figure");d.appendChild(Y7(u,s,i)),t.appendChild(d)}function K7(t,n,e,r,i,o){const a=document.createElement("h2");a.textContent=`${n.id}. ${n.stem}`,t.appendChild(a);const f=document.createElement("div");f.className="sample-sizes",f.textContent=o,t.appendChild(f);for(const c of n.items){const s=_t.questions[c];if(!s)continue;const u=document.createElement("h3");u.textContent=`${c}. ${s.shortLabel||s.label}`,t.appendChild(u);const d=mc(ws(_t,c,e),r);if(d.length===0){const h=document.createElement("p");h.innerHTML="<em>No data</em>",t.appendChild(h);continue}const l=document.createElement("figure");l.appendChild(Kp(d,n.scaleOrder,i)),t.appendChild(l)}}V7();
